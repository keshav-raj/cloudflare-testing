(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4152],{46975:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/account/email-verification",function(){return n(57352)}])},12073:function(e,t,n){"use strict";n.d(t,{n:function(){return y},aS:function(){return o},Wt:function(){return s},jA:function(){return u},zB:function(){return a},DJ:function(){return l},lL:function(){return f},XA:function(){return c},Ov:function(){return p},Z6:function(){return d},z:function(){return g},bC:function(){return m},Cq:function(){return v},k4:function(){return h},T8:function(){return E},qP:function(){return S}});var r=n(86677),i=n(53850),o=function(){r.default.replace(i.y4.emailVerification,i.XC.emailVerification()),console.log("Navigate to Email Confirmation")},s=function(){r.default.replace(i.y4.otp,i.XC.otp()),console.log("Navigate to Email OTP Confirmation")},u=function(){r.default.replace(i.y4.otp,i.XC.otp()),console.log("Navigate to Mobile OTP Confirmation")},a=function(){r.default.replace(i.y4.profileFields,i.XC.profileFields()),console.log("Navigate to Profile Builder")},l=function(){r.default.replace(i.y4.segment,i.XC.segment()),console.log("Navigate to Segment")},c=function(){r.default.push(i.y4.signin,i.XC.signin()),console.log("Navigate to Sign In")},f=function(){r.default.push(i.y4.signup,i.XC.signup()),console.log("Navigate to Sign Up")},p=function(){r.default.push(i.y4.forgotPassword,i.XC.forgotPassword()),console.log("Navigate to Forgot Password")},d=function(){r.default.replace(i.y4.signin,i.XC.signin()),console.log("Navigate to Splash Screen")},h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?r.default.replace:r.default.push;t(i.y4.store,i.XC.store()),console.log("Navigate to Store")},g=function(e){r.default.replace(i.y4.otp,i.XC.otp()),console.log("Navigate to OTP")},m=function(){h(),console.log("Explore Navigation")},y=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?r.default.replace:r.default.push;t?i(t.href,t.as):e?h(n):c()},v=function(){r.default.push(i.y4.profileEdit,i.XC.profileEdit()),console.log("navigate to profile")},S=function(){r.default.push(i.y4.settings,i.XC.settings())},E=function(e){r.default.push(e)}},57352:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(24246),i=n(27378),o=n(55480),s=n(14916),u=n(23998),a=n(86677),l=n(9078),c=n(53850),f=function(e){var t=(0,l.$)("account").t,n=c.y4.store,f=(c.y4.forgotPassword,c.y4.otp),p=(c.y4.profileBuilder,c.y4.emailVerification,c.y4.profileFields),d=e.authErrorMessage,h=(e.doSigninUser,e.doSignupUser,e.doSocialSignin,e.userLoginStatus),g=(e.isSignup,e.doRequestConfirmationEmail),m=e.doCheckEmailConfirmationStatus,y=e.authApiStatus,v=(e.supportedSignupTypes,e.isProfileBuilderEnabled),S=e.isStudentFilledProfile,E=(e.authState,e.doSignoutUser),b=(e.isUserLoggedIn,e.sharedUserEmail),I=e.postSigninRoute,_=e.inProgressPayment;return(0,i.useEffect)((function(){h===u.zU.LOGGED_IN_VERIFIED?v&&!S?a.default.replace(p,c.XC.profileFields(),{shallow:!0}):void 0!==_?a.default.back():I?a.default.replace(I.href,I.as,{shallow:!0}):a.default.replace(n,c.XC.store(),{shallow:!0}):h===u.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING&&a.default.replace(f,c.XC.otp(),{shallow:!0}),h===u.zU.NOT_LOGGED_IN&&a.default.replace(n,c.XC.store(),{shallow:!0})})),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.Mp,{children:[(0,r.jsx)(o.kC,{bg:"surface",flexDirection:"row",pt:[0,5,5],pr:[1],sx:{position:"absolute",right:[1],top:[1]},children:(0,r.jsx)(s.zx,{buttonType:"solid",colorVariant:"primary",onClick:function(){E()},text:t("signOut")})}),(0,r.jsx)(o.kC,{height:"100vh",justifyContent:"center",alignItems:"center",children:(0,r.jsxs)(o.kC,{mb:[10],flexDirection:"column",alignItems:"center",width:[18,20,20],children:[(0,r.jsx)(s.X6,{textAlign:"center",variant:"h1",children:t("verifyEmail")}),(0,r.jsx)(o.xu,{mt:[6],children:(0,r.jsx)(s.xv,{variant:"subtitle1",children:t("pleaseVerify",{name:b})})}),(0,r.jsx)(o.xu,{mt:[2],children:(0,r.jsx)(s.xv,{textAlign:"center",variant:"subtitle1",children:t("emailVerificationMessage")})}),(0,r.jsx)(o.kC,{justifyContent:"center",mt:[6],width:"100%",children:(0,r.jsx)(s.zx,{text:t("completedVerification"),buttonType:"solid",colorVariant:"primary",type:"submit",buttonSizeVariant:"large",onClick:function(){m()}})}),(0,r.jsx)(o.kC,{justifyContent:"center",mt:[2],width:"100%",children:(0,r.jsx)(s.zx,{text:t("resendEmail"),buttonType:"text",colorVariant:"secondary",e:!0,type:"submit",buttonSizeVariant:"large",onClick:function(){g(b),y===u.mP.SUCCESS&&(0,s.FN)({message:t("emailSentSuccessfully"),position:"bottom-right"})}})}),!!d&&y===u.mP.FAILED&&(0,r.jsx)(o.xu,{my:2,children:(0,r.jsx)(s.xv,{color:"error",variant:"body2",children:d})})]})})]})})},p=n(38906);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var b=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,t);var n,i,o,s=E(u);function u(){return d(this,u),s.apply(this,arguments)}return n=u,(i=[{key:"render",value:function(){return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({},this.props))}}])&&h(n.prototype,i),o&&h(n,o),u}(i.Component);return(0,p.$)("selectSupportedSignupTypes","selectUserLoginStatus","selectAuthApiStatus","selectAuthState","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectUserLoginType","selectIsOnline","selectAuthApiStatus","selectAuthErrorMessage","selectSharedIsUserLoggedIn","selectNavigationPrevScreen","selectSharedUserEmail","selectPostSigninRoute","doSocialSignin","doRestartAuthentication","doClearAuthData","doSignupUser","doSigninUser","doSignoutUser","doRequestConfirmationEmail","doCheckEmailConfirmationStatus","selectInProgressPayment",t)}((function(e){var t=e.doSigninUser,n=e.doSignupUser,i=e.doSocialSignin,o=e.authErrorMessage,s=e.userLoginStatus,u=e.isSignup,a=e.doRequestConfirmationEmail,l=e.doCheckEmailConfirmationStatus,c=e.authApiStatus,p=e.supportedSignupTypes,d=e.isProfileBuilderEnabled,h=e.isStudentFilledProfile,g=e.isUserLoggedIn,m=e.authState,y=e.doSignoutUser,v=e.sharedUserEmail,S=e.postSigninRoute,E=e.inProgressPayment;return(0,r.jsx)(f,{inProgressPayment:E,doSigninUser:t,doSignupUser:n,doSocialSignin:i,authErrorMessage:o,userLoginStatus:s,isSignup:u,doRequestConfirmationEmail:a,doCheckEmailConfirmationStatus:l,authApiStatus:c,supportedSignupTypes:p,isProfileBuilderEnabled:d,isStudentFilledProfile:h,isUserLoggedIn:g,authState:m,doSignoutUser:y,sharedUserEmail:v,postSigninRoute:S})})),I=n(29418),_=n(27847),C=n(35230),O=n.n(C),P=n(267),L=n(12073);function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n,r,i,o,s){try{var u=e[o](s),a=u.value}catch(l){return void n(l)}u.done?t(a):Promise.resolve(a).then(r,i)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){j(o,r,i,s,u,"next",e)}function u(e){j(o,r,i,s,u,"throw",e)}s(void 0)}))}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return!t||"object"!==k(t)&&"function"!==typeof t?U(e):t}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V(this,n)}}var T=n(66441),D=n(21395);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=(0,I.Z)((function(){return(0,r.jsx)(b,{})})),M=(0,I.Z)(function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,t);var n,i,o,s=A(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).onEmailVerificationComplete=t.onEmailVerificationComplete.bind(U(t)),t.exitFromEmailVerification=t.exitFromEmailVerification.bind(U(t)),t.onResendEmail=t.onResendEmail.bind(U(t)),t.emailVerificationState=u.cF.IDLE,t.navigatedBack=!1,t.emailVerifiedNavigationId=null,t.resolveResendEmail=null,t.rejectResendEmail=null,t.resolveVerifyEmail=null,t.rejectVerifyEmail=null,t.emailVerifiedToast=null,t}return n=a,(i=[{key:"componentDidMount",value:function(){this.verifyEmailIfVerificationUrlAvailable()}},{key:"shouldComponentUpdate",value:function(){var e,t;return null===(t=null===(e=this.props)||void 0===e?void 0:e.isScreenFocused)||void 0===t||t}},{key:"componentDidUpdate",value:function(e){if(e.userLoginStatus===this.props.userLoginStatus||this.props.userLoginStatus!==u.zU.NOT_LOGGED_IN){if((this.props.authState!==(null===e||void 0===e?void 0:e.authState)||this.props.authApiStatus!==e.authApiStatus)&&this.emailVerificationState===u.cF.VERIFYING_EMAIL_STATUS&&this.props.authState===u.fD.VERIFYING_EMAIL&&this.props.authApiStatus===u.mP.SUCCESS)if(this.emailVerifiedToast&&(this.emailVerifiedToast(),this.emailVerifiedToast=null),this.resolveVerifyEmail&&(this.resolveVerifyEmail(),this.resolveVerifyEmail=null),this.props.userLoginStatus===u.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING)(0,L.z)(u.sh.MOBILE);else if(this.props.userLoginStatus===u.zU.LOGGED_IN_VERIFIED){var t;if(P.Gj.learner_segment)try{t=JSON.parse(P.Gj.learner_segment)}catch(n){return void console.log("\n                  error in parsing schoolConfig.learner_segment data $ { schoolConfig.learner_segment }\n                  ")}this.props.isProfileBuilderEnabled&&!this.props.isStudentFilledProfile?(0,L.zB)():P.Gj.segment_enabled&&!this.props.userSegmentId&&t.allow_learner_selection?(0,L.DJ)():this.navigatedBack||(this.navigatedBack=!0,(0,L.n)(this.props.sharedIsUserLoggedIn))}this.props.authState===u.fD.VERIFYING_EMAIL&&this.props.authApiStatus===u.mP.FAILED&&this.rejectVerifyEmail&&(this.rejectVerifyEmail(),this.rejectVerifyEmail=null),this.emailVerificationState===u.cF.RESEND_EMAIL&&this.props.authApiStatus===u.mP.SUCCESS&&this.resolveResendEmail&&(this.resolveResendEmail(),this.resolveResendEmail=null),this.emailVerificationState===u.cF.RESEND_EMAIL&&this.props.authApiStatus===u.mP.FAILED&&this.resolveResendEmail&&(this.rejectResendEmail(),this.rejectResendEmail=null),this.verifyEmailIfVerificationUrlAvailable()}else(0,L.n)(this.props.sharedIsUserLoggedIn)}},{key:"verifyEmailIfVerificationUrlAvailable",value:function(){var e=this.props,t=e.emailVerificationLink,n=e.emailVerificationNavigationId,r=e.emailVerificationToken;r&&t&&this.emailVerifiedNavigationId!==n&&(this.emailVerifiedNavigationId=n,this.onEmailVerificationComplete(r,t))}},{key:"onResendEmail",value:function(){var e=this;return R(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){e.emailVerificationState=u.cF.RESEND_EMAIL,e.props.doRequestConfirmationEmail(e.props.userEmail||""),e.resolveResendEmail=t,e.rejectResendEmail=n}));case 2:case"end":return t.stop()}}),t)})))()}},{key:"onEmailVerificationComplete",value:function(e,t,n){var r=this;return R(O().mark((function i(){return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.emailVerifiedToast=n||null,i.next=3,new Promise((function(n,i){r.emailVerificationState=u.cF.VERIFYING_EMAIL_STATUS,r.props.doCheckEmailConfirmationStatus(e,t),r.resolveVerifyEmail=n,r.rejectVerifyEmail=i}));case 3:case"end":return i.stop()}}),i,this)})).bind(this))()}},{key:"exitFromEmailVerification",value:function(){return this.props.doSignoutUser(),!0}},{key:"render",value:function(){var t,n={onExitFromEmailVerification:this.exitFromEmailVerification,onEmailVerificationComplete:this.onEmailVerificationComplete,onResendEmail:this.onResendEmail};return(0,r.jsx)(e,{data:{authErrorMessage:(null===(t=this.props)||void 0===t?void 0:t.authErrorMessage)||"",userEmail:this.props.userEmail||""},callbacks:n})}}])&&N(n.prototype,i),o&&N(n,o),a}(i.Component);return(0,p.$)("selectAuthApiStatus","selectAuthState","selectAuthErrorMessage","selectUserEmail","selectUserLoginStatus","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectUserSegmentId","doRequestConfirmationEmail","doCheckEmailConfirmationStatus","selectSharedIsUserLoggedIn","doSignoutUser",t)}((0,T.Z)((function(e){return(0,r.jsx)(_.te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){F(e,t,n[t])}))}return e}({},e))}),{navbar:!1,footer:!1})));var B=function(){return(0,D.vC)().isAppV4?(0,r.jsx)(M,{}):(0,r.jsx)(G,{})}},29418:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(35230),i=n.n(r),o=n(24246),s=n(86677),u=n(27378),a=n(38906),l=n(79471),c=n(14916),f=n(23998),p=n(53850),d=n(11959),h=n(267),g=n(95045);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n,r,i,o,s){try{var u=e[o](s),a=u.value}catch(l){return void n(l)}u.done?t(a):Promise.resolve(a).then(r,i)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function I(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?m(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function P(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,t);var n,r,i,u=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=u.call(this,e)).doUserVerifications=function(){if(t.props.userLoginStatus===f.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING){if("/learn/account/otp"===t.props.router.pathname)return;s.default.push(p.y4.otp,p.XC.otp())}else if(t.props.userLoginStatus===f.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===f.QF.EMAIL_LINK){if("/learn/account/email-verification"===t.props.router.pathname)return;s.default.push(p.y4.emailVerification,p.XC.emailVerification())}else if(t.props.userLoginStatus===f.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===f.QF.EMAIL_OTP){if("/learn/account/otp"===t.props.router.pathname)return;s.default.push(p.y4.otp,p.XC.otp())}else t.props.navigationCurrentScreen===d.i_.SEGMENT||t.props.navigationCurrentScreen===d.i_.SIGNIN||t.props.navigationCurrentScreen===d.i_.PROFILE_BUILDER||!h.Gj.segment_enabled||t.props.userSegmentId||t.props.userLoginStatus!==f.zU.LOGGED_IN_VERIFIED&&t.props.userLoginStatus!==f.zU.NOT_LOGGED_IN?t.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&t.props.isProfileBuilderEnabled&&!t.props.isStudentFilledProfile&&t.props.navigationCurrentScreen!==d.i_.PROFILE_BUILDER&&(void 0!==t.props.inProgressPayment?s.default.push(p.y4.profileFields,p.XC.profileFields()):s.default.replace(p.y4.profileFields,p.XC.profileFields(),{shallow:!0})):t.props.userLoginStatus===f.zU.NOT_LOGGED_IN&&h.Gj.pricing_model===g._n.SUBSCRIPTION_TYPE?s.default.push(p.y4.segment,p.XC.segment()):t.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&s.default.replace(p.y4.segment,p.XC.segment(),{shallow:!0})},t.doUserVerifications=t.doUserVerifications.bind(m(t)),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,n=e.navigationCurrentScreen,r=e.doSendNavChangeEvent,i=e.doSetCurrentAccessingLesson;if(this.doUserVerifications(),r(p.ZP[t.pathname],n,(new Date).getTime(),b({},t.query),!1,!0),console.log(p.ZP[t.pathname]),t.pathname===p.y4.lessonPlayer&&!t.query.courseId){var o=l.$2,s=t.query.sectionId,u=t.query.lessonId;i({courseId:o,sectionId:s,lessonId:u,autoScrollLessonTs:(new Date).getTime()},u)}}},{key:"componentDidUpdate",value:function(e){this.props.navigationCurrentScreen===d.i_.SEGMENT||this.props.navigationCurrentScreen===d.i_.SIGNIN||this.props.navigationCurrentScreen===d.i_.PROFILE_BUILDER||!h.Gj.segment_enabled||this.props.userSegmentId||this.props.userLoginStatus!==f.zU.LOGGED_IN_VERIFIED&&this.props.userLoginStatus!==f.zU.NOT_LOGGED_IN||(this.props.userLoginStatus===f.zU.NOT_LOGGED_IN&&h.Gj.pricing_model===g._n.SUBSCRIPTION_TYPE?s.default.push(p.y4.segment,p.XC.segment()):this.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&s.default.replace(p.y4.segment,p.XC.segment(),{shallow:!0})),void 0!==this.props.inProgressPayment&&this.doUserVerifications(),void 0!==this.props.realUserLoginStatus&&(this.props.inProgressPayment||this.props.navigationCurrentScreen===d.i_.CHECKOUT||this.props.doSetRealUserLoginStatus()),this.props.isAuthTokenExpired&&e.isAuthTokenExpired!==this.props.isAuthTokenExpired&&((0,c.FN)({message:"Your login session is expired."}),this.props.doRestartAuthentication(),s.default.push(p.y4.signin))}},{key:"render",value:function(){return this.props.sharedIsSchoolLocked&&this.props.sharedIsUserLoggedIn?(0,o.jsx)(c.R7,{doSignoutUser:this.props.doSignoutUser}):(0,o.jsx)(e,b({},this.props))}}])&&v(n.prototype,r),i&&v(n,i),a}(u.Component);return t.getInitialProps=function(){var e,t=(e=i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isServer,e.abrupt("return",{isServer:n});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){y(o,r,i,s,u,"next",e)}function u(e){y(o,r,i,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),(0,s.withRouter)((0,a.$)("doSignoutUser","doSendNavChangeEvent","doSetCurrentAccessingLesson","doRestartAuthentication","selectSharedIsUserLoggedIn","selectIsAuthTokenExpired","selectNavigationCurrentScreen","selectSharedIsSchoolLocked","selectSharedIsUserLoggedIn","selectUserLoginStatus","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectEmailVerificationType","selectUserSegmentId","selectInProgressPayment","selectRealUserLoginStatus","doSetRealUserLoginStatus",t))}},96664:function(e,t,n){"use strict";n.d(t,{UK:function(){return f}});var r=n(27378);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var o="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,s={status:"not-requested",loading:!1,result:void 0,error:void 0},u={status:"loading",loading:!0,result:void 0,error:void 0},a=function(){},l={initialState:function(e){return e&&e.executeOnMount?u:s},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return u},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:a,onError:a},c=function(e,t,n){!t&&(t=[]);var s=function(e){return i({},l,{},e)}(n),u=(0,r.useState)(null),a=u[0],c=u[1],f=function(e){var t=(0,r.useState)((function(){return e.initialState(e)})),n=t[0],o=t[1],s=(0,r.useCallback)((function(){return o(e.initialState(e))}),[o,e]),u=(0,r.useCallback)((function(){return o(e.setLoading(n))}),[n,o]),a=(0,r.useCallback)((function(t){return o(e.setResult(t,n))}),[n,o]),l=(0,r.useCallback)((function(t){return o(e.setError(t,n))}),[n,o]),c=(0,r.useCallback)((function(e){return o(i({},n,{},e))}),[n,o]);return{value:n,set:o,merge:c,reset:s,setLoading:u,setResult:a,setError:l}}(s),p=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}(),d=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),h=function(e){return p()&&d.is(e)},g=function(e){var t=(0,r.useRef)(e);return o((function(){t.current=e})),(0,r.useCallback)((function(){return t.current}),[t])}((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(){try{return Promise.resolve(e.apply(void 0,n))}catch(t){return Promise.reject(t)}}();return c(n),d.set(i),f.setLoading(),i.then((function(e){h(i)&&f.setResult(e),s.onSuccess(e,{isCurrent:function(){return d.is(i)}})}),(function(e){h(i)&&f.setError(e),s.onError(e,{isCurrent:function(){return d.is(i)}})})),i})),m=(0,r.useCallback)((function(){return g().apply(void 0,arguments)}),[g]),y=!p();return(0,r.useEffect)((function(){var e=function(){return g().apply(void 0,t)};y&&s.executeOnMount&&e(),!y&&s.executeOnUpdate&&e()}),t),i({},f.value,{set:f.set,merge:f.merge,reset:f.reset,execute:m,currentPromise:d.get(),currentParams:a})};var f=function(e,t){return c(e,[],i({},t,{executeOnMount:!1,executeOnUpdate:!1}))}}},function(e){e.O(0,[5639,1362,8270,1699,5987,5851,6730,5356,9428,7740,6441,4328,4817,5344,7847,9774,2888,179],(function(){return t=46975,e(e.s=t);var t}));var t=e.O();_N_E=t}]);