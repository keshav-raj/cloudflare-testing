(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4518],{94369:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/account/forgot-password",function(){return n(99119)}])},99119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(24246),o=n(2007),i=n(66441),u=n(27378),c=n(27847),a=n(55480),l=n(14916),s=n(96627),f=n(43894),d=n(2113),h=n(9078),m=n(267),x=n(53850),y=n(86677),p=n(23998),b=n(87228),g=n(71117);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(a){c=!0,o=a}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var t=e.doChangePassword,n=e.authState,o=e.authErrorMessage,i=e.authApiStatus,c=j(u.useState(""),2),v=c[0],S=c[1],O=window&&window.location.origin&&!window.location.origin.includes("learnyst.com")&&!window.location.origin.includes("localhost:"),w=u.useRef({}),C=j(u.useState(!1),2),E=C[0],P=C[1],k=(0,h.$)("account").t;(0,u.useEffect)((function(){n===p.fD.RESETTING_PASSWORD&&i===p.mP.SUCCESS&&!1===E&&P(!E)}));return(0,r.jsxs)(r.Fragment,{children:[m.Gj.authentication_types===p.$B.USER_NAME&&(0,r.jsxs)(a.kC,{flexDirection:"column",children:[(0,r.jsx)(a.kC,{maxWidth:20,height:[12],alignSelf:"center",mb:[6],children:(0,r.jsx)(l.Ee,{alt:"logo",src:m.Gj.SCHOOL_LOGO,objectFit:"contain"})}),(0,r.jsx)(l.xv,{variant:"subtitle1",textAlign:"center",children:k("pleaseContactAdmin")}),(0,r.jsx)(l.rU,{variant:"normal",isOpenNewPage:!0,isTextLink:!0,onClick:function(){window.location.href="mailto:".concat(m.Gj.SUPPORT_EMAIL)},children:(0,r.jsx)(l.xv,{color:"link.primary.normal",variant:"subtitle1",textAlign:"center",children:m.Gj.SUPPORT_EMAIL})})]}),m.Gj.authentication_types===p.$B.EMAIL&&(0,r.jsx)(s.J9,{initialValues:{email:""},validateOnChange:!1,validateOnBlur:!1,validationSchema:(0,f.object)({email:(0,f.string)().email(k("invalidEmail"))}),onSubmit:function(e){var t;t=e.email,w&&w.current&&(w.current.reset(),S(t),w.current.execute())},children:function(e){var t=e.values,u=e.handleChange,c=e.handleBlur,f=e.handleSubmit,h=e.errors,g=e.touched;return(0,r.jsxs)(r.Fragment,{children:[E&&(0,r.jsxs)(a.kC,{flexDirection:"column",children:[(0,r.jsx)(a.kC,{maxWidth:20,height:[12],alignSelf:"center",children:(0,r.jsx)(l.Ee,{alt:"logo",src:m.Gj.SCHOOL_LOGO,objectFit:"contain"})}),(0,r.jsxs)(a.kC,{mx:[4,10,12],flexDirection:"column",mb:[12],children:[(0,r.jsx)(a.xu,{alignSelf:"center",mt:[6],children:(0,r.jsx)(l.Bz,{color:"onLightSurface",size:"medium",disableHover:!0,children:(0,r.jsx)(b.wO,{})})}),(0,r.jsx)(a.xu,{mt:[6],sx:{textAlign:"center"},children:(0,r.jsx)(l.X6,{variant:"h1",children:k("emailSuccess")})}),(0,r.jsx)(a.xu,{mt:[1],sx:{textAlign:"center"},children:(0,r.jsx)(l.xv,{variant:"subtitle1",children:k("resetPasswordInstruction")})}),(0,r.jsx)(a.xu,{mt:[8],children:(0,r.jsx)(l.zx,{text:k("ok"),buttonType:"solid",colorVariant:"primary",buttonSizeVariant:"large",width:"100%",onClick:function(){y.default.replace(x.y4.store,x.XC.store(),{shallow:!0})}})})]})]}),!E&&(0,r.jsx)(s.l0,{onSubmit:f,children:(0,r.jsx)(d.or,{children:(0,r.jsxs)(a.kC,{flexDirection:"column",children:[m.Gj.SCHOOL_LOGO?(0,r.jsx)(a.kC,{maxWidth:20,height:[12],alignSelf:"center",children:(0,r.jsx)(l.Ee,{alt:"logo",src:m.Gj.SCHOOL_LOGO,objectFit:"contain"})}):(0,r.jsx)(a.kC,{alignSelf:"center",children:(0,r.jsx)(l.X6,{variant:"h1",color:"onSurface.light",children:m.Gj.NAME})}),(0,r.jsxs)(a.kC,{mx:[4,10,12],flexDirection:"column",mb:[12],children:[(0,r.jsx)(a.xu,{mt:[6],children:(0,r.jsx)(l.X6,{textAlign:"center",variant:"h1",children:k("forgotPassword")})}),(0,r.jsx)(a.xu,{mt:[1],children:(0,r.jsx)(l.xv,{textAlign:"center",variant:"subtitle1",children:k("forgotPasswordInstruction")})}),(0,r.jsx)(a.xu,{mt:[8],children:(0,r.jsx)(l.nv,{autoFocus:!0,label:k("email"),name:"email",type:"email",required:!0,placeholder:k("emailPlaceholder"),onChange:u,value:t.email,onBlur:c,error:h.email,touched:g.email})}),n===p.fD.RESETTING_PASSWORD&&i===p.mP.FAILED&&(0,r.jsx)(a.xu,{mt:[2],children:(0,r.jsx)(l.xv,{color:"error",variant:"body2",children:o})}),(0,r.jsx)(a.xu,{mt:[8],height:[6],children:(0,r.jsx)(l.zx,{text:k("submit"),buttonType:"solid",colorVariant:t.email?"primary":"disabled",type:"submit",buttonSizeVariant:"large",width:"100%",height:"100%",disabled:i===p.mP.INPROGRESS,isLoading:i===p.mP.INPROGRESS})}),(0,r.jsx)(a.xu,{mt:[2],children:(0,r.jsx)(l.zx,{text:k("cancel"),buttonType:"text",colorVariant:"secondary",buttonSizeVariant:"large",width:"100%",onClick:function(){y.default.replace(x.y4.signin,x.XC.signin(),{shallow:!0})}})})]})]})})})]})}}),(0,r.jsx)(g.Iy,{recaptchaRef:w,onChangeRecaptcha:function(e){e&&t(v,e,O)}})]})},O=n(38906);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var L=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,t);var n,o,i,u=R(c);function c(){return w(this,c),u.apply(this,arguments)}return n=c,(o=[{key:"render",value:function(){return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},this.props))}}])&&C(n.prototype,o),i&&C(n,i),c}(u.Component);return(0,O.$)("selectAuthApiStatus","selectAuthState","selectAuthErrorMessage","doChangePassword",t)}((function(e){var t=e.doChangePassword,n=e.authErrorMessage,o=e.authState,i=e.authApiStatus;return(0,r.jsx)(l.Mp,{children:(0,r.jsx)(d.or,{children:(0,r.jsx)(a.kC,{minHeight:"100vh",bg:"surface",justifyContent:"center",alignItems:"center",my:[2],children:(0,r.jsx)(S,{doChangePassword:t,authErrorMessage:n,authState:o,authApiStatus:i})})})})})),I=n(29418),G=n(21395);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=(0,I.Z)((function(e){var t=e.isServer;return(0,r.jsx)(L,{isServer:t})})),D=(0,I.Z)((0,o.PQ)((0,i.Z)((function(e){return(0,r.jsx)(c.oP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}({},e))}))));var N=function(){return(0,G.vC)().isAppV4?(0,r.jsx)(D,{}):(0,r.jsx)(T,{})}},96664:function(e,t,n){"use strict";n.d(t,{UK:function(){return f}});var r=n(27378);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,u={status:"not-requested",loading:!1,result:void 0,error:void 0},c={status:"loading",loading:!0,result:void 0,error:void 0},a=function(){},l={initialState:function(e){return e&&e.executeOnMount?c:u},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return c},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:a,onError:a},s=function(e,t,n){!t&&(t=[]);var u=function(e){return o({},l,{},e)}(n),c=(0,r.useState)(null),a=c[0],s=c[1],f=function(e){var t=(0,r.useState)((function(){return e.initialState(e)})),n=t[0],i=t[1],u=(0,r.useCallback)((function(){return i(e.initialState(e))}),[i,e]),c=(0,r.useCallback)((function(){return i(e.setLoading(n))}),[n,i]),a=(0,r.useCallback)((function(t){return i(e.setResult(t,n))}),[n,i]),l=(0,r.useCallback)((function(t){return i(e.setError(t,n))}),[n,i]),s=(0,r.useCallback)((function(e){return i(o({},n,{},e))}),[n,i]);return{value:n,set:i,merge:s,reset:u,setLoading:c,setResult:a,setError:l}}(u),d=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}(),h=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),m=function(e){return d()&&h.is(e)},x=function(e){var t=(0,r.useRef)(e);return i((function(){t.current=e})),(0,r.useCallback)((function(){return t.current}),[t])}((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=function(){try{return Promise.resolve(e.apply(void 0,n))}catch(t){return Promise.reject(t)}}();return s(n),h.set(o),f.setLoading(),o.then((function(e){m(o)&&f.setResult(e),u.onSuccess(e,{isCurrent:function(){return h.is(o)}})}),(function(e){m(o)&&f.setError(e),u.onError(e,{isCurrent:function(){return h.is(o)}})})),o})),y=(0,r.useCallback)((function(){return x().apply(void 0,arguments)}),[x]),p=!d();return(0,r.useEffect)((function(){var e=function(){return x().apply(void 0,t)};p&&u.executeOnMount&&e(),!p&&u.executeOnUpdate&&e()}),t),o({},f.value,{set:f.set,merge:f.merge,reset:f.reset,execute:y,currentPromise:h.get(),currentParams:a})};var f=function(e,t){return s(e,[],o({},t,{executeOnMount:!1,executeOnUpdate:!1}))}}},function(e){e.O(0,[5639,1362,8270,1699,5987,5851,982,6730,5356,9428,7740,6441,4328,4817,5344,7847,4594,2007,9774,2888,179],(function(){return t=94369,e(e.s=t);var t}));var t=e.O();_N_E=t}]);