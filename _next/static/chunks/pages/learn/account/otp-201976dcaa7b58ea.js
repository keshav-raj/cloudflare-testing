(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5695],{19456:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/account/otp",function(){return n(27348)}])},27348:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(24246),o=n(27378),i=n(55480),u=n(14916),l=n(44502),a=n.n(l),s=n(96627),c=n(34806),d=n(9078),f=n(267),p=n(2113),h=n(53850),y=n(23998),E=n(86677);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){var t,n,l,b,m,S,I,O,g,x,_,j,P,C,N,D,T,R,L,A,w,U,k=e.sharedUserId,F=e.emailVerificationType,G=e.sharedUserEmail,V=(e.isEmailVerified,e.authApiStatus),M=e.authErrorMessage,z=e.otpSessionId,Q=e.doRequestOtp,B=e.otpResendCount,X=e.doSignoutUser,W=e.userLoginStatus,q=e.isProfileBuilderEnabled,K=e.otpRetryOnCall,Y=e.otpSentType,Z=e.isStudentFilledProfile,H=e.isInternationalOtpEnabled,$=e.isMobileVerified,J=e.sharedUserMobileNum,ee=e.postSigninRoute,te=e.inProgressPayment,ne=v(o.useState($?J:""),2),re=ne[0],oe=ne[1],ie=v(o.useState(),2),ue=ie[0],le=ie[1],ae=v(o.useState(y.a4.IDLE),2),se=ae[0],ce=ae[1],de=v(o.useState(!1),2),fe=de[0],pe=de[1],he=(0,p.B7)().theme,ye=h.y4.store,Ee=(h.y4.profileBuilder,h.y4.profileFields),be=(h.y4.otp,v(o.useState(y.A4.counter),2)),ve=be[0],me=be[1],Se=(0,d.$)("account").t;return(0,o.useEffect)((function(){var e;return fe?e=setInterval((function(){me((function(e){return e-1}))}),1e3):fe||0===ve||clearInterval(e),function(){return clearInterval(e)}}),[fe,ve]),se===y.a4.VERIFYING_OTP&&V===y.mP.SUCCESS&&ce(y.a4.IDLE),W===y.zU.LOGGED_IN_VERIFIED?q&&!Z?E.default.replace(Ee,h.XC.profileFields(),{shallow:!0}):void 0!==te?E.default.back():ee?E.default.replace(ee.href,ee.as,{shallow:!0}):E.default.replace(ye,h.XC.store(),{shallow:!0}):W===y.zU.NOT_LOGGED_IN&&E.default.replace(ye,h.XC.store(),{shallow:!0}),(0,r.jsx)(r.Fragment,{children:(W===y.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING||F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING)&&(0,r.jsxs)(i.kC,{minHeight:"100vh",alignItems:"center",children:[!!(se===y.a4.IDLE||se===y.a4.REQUESTED_OTP&&V===y.mP.FAILED||se===y.a4.REQUESTED_RESEND_OTP&&V===y.mP.FAILED)&&(0,r.jsx)(s.J9,{initialValues:{email:G},onSubmit:function(e){le(""),F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?(ce(B>0?y.a4.REQUESTED_OTP:y.a4.REQUESTED_RESEND_OTP),Q(B>0?y.bL.REQUEST_RESEND_OTP:y.bL.REQUEST_OTP,re,0,null,!0,e.email,k,Y,K)):(ce(B>0?y.a4.REQUESTED_OTP:y.a4.REQUESTED_RESEND_OTP),B>0?Q(y.bL.REQUEST_RESEND_OTP,re,z,null,!1,null,null,Y,K):Q(y.bL.REQUEST_OTP,re,0,null,!1,null,null,Y,K))},children:function(e){var t,n,o,l,c=e.values,d=e.handleChange,p=e.handleBlur,h=e.handleSubmit,E=e.errors,b=e.touched;return(0,r.jsxs)(s.l0,{onSubmit:h,noValidate:!0,children:[(0,r.jsx)(i.kC,{justifyContent:"center",mb:[8],children:f.Gj.SCHOOL_LOGO?(0,r.jsx)(i.kC,{justifyContent:"center",maxWidth:20,height:[12],children:(0,r.jsx)(u.Ee,{alt:"logo",src:f.Gj.SCHOOL_LOGO,objectFit:"contain"})}):(0,r.jsx)(i.kC,{alignItems:"center",children:(0,r.jsx)(u.X6,{variant:"h1",color:"onPrimary.main",children:f.Gj.NAME})})}),(0,r.jsxs)(i.kC,{flexDirection:"column",justifyContent:"center",mx:[1,0,12],px:[1,0,12],children:[(0,r.jsxs)(i.kC,{justifyContent:"center",children:[F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&(0,r.jsx)(u.X6,{variant:"h1",children:Se("emailVerification")}),W===y.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING&&(0,r.jsx)(u.X6,{variant:"h1",children:Se("mobileVerification")})]}),F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.kC,{justifyContent:"center",mt:[2],children:(0,r.jsx)(u.xv,{variant:"subtitle1",children:Se("enterMobile")})}),(0,r.jsx)(i.xu,{mt:[11],children:(0,r.jsx)(u.xv,{variant:"body1",children:Se("mobileNumber")})})]}),(0,r.jsxs)(i.xu,{mt:[1],p:[0],sx:{alignContent:"center"},children:[W===y.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING?(0,r.jsx)(a(),{country:"in",value:re,onChange:oe,autoFocus:!0,disabled:!!$,countryCodeEditable:!!H,inputProps:{autoFocus:!0,required:!0},inputStyle:{borderStyle:null===(t=he.borderStyles)||void 0===t?void 0:t.solid,borderWidth:null===(n=he.borderWidths)||void 0===n?void 0:n[1],borderColor:null===(o=he.colors)||void 0===o?void 0:o.onSurface.light,borderRadius:null===(l=he.radii)||void 0===l?void 0:l[0],boxShadow:"0 0 0 0",width:"100%"}}):null,F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&(0,r.jsx)(u.nv,{autoFocus:!0,label:Se("email"),name:"email",type:"email",required:!0,placeholder:Se("emailPlaceholder"),onChange:d,value:c.email,onBlur:p,error:E.email,touched:b.email,isDisabled:f.Gj.authentication_types!==y.$B.USER_NAME})]}),V===y.mP.FAILED&&!(se===y.a4.IDLE)&&(0,r.jsx)(i.xu,{my:2,children:(0,r.jsx)(u.xv,{color:"error",variant:"body2",children:M})}),(0,r.jsx)(i.xu,{mt:[5],mb:[4],width:"100%",height:[6],children:(0,r.jsx)(u.zx,{colorVariant:"primary",text:Se("sendOtp"),buttonType:"solid",type:"submit",buttonSizeVariant:"large",width:"100%",height:"100%",onClick:function(){me(60),pe(!0)},disabled:V===y.mP.INPROGRESS})}),(0,r.jsx)(i.xu,{mb:[6],pb:[6],alignSelf:"center",children:(0,r.jsx)(u.zx,{colorVariant:"secondary",text:Se("logOut"),buttonType:"text",buttonSizeVariant:"large",onClick:function(){X()}})})]})]})}}),(V===y.mP.SUCCESS||V===y.mP.FAILED&&(se===y.a4.REQUESTED_OTP||se===y.a4.REQUESTED_RESEND_OTP||se===y.a4.VERIFYING_OTP))&&!(se===y.a4.IDLE&&V===y.mP.FAILED)&&!(se===y.a4.REQUESTED_OTP&&V===y.mP.FAILED)&&!(se===y.a4.REQUESTED_RESEND_OTP&&V===y.mP.FAILED)&&!(se===y.a4.IDLE)&&(0,r.jsx)(u.Mp,{children:(0,r.jsx)(s.J9,{initialValues:{},onSubmit:function(){ue&&6===ue.toString().length&&(F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?(Q(y.bL.VERIFY_OTP,null,null,ue,!0,G,k,Y,K),ce(y.a4.VERIFYING_OTP)):(Q(y.bL.VERIFY_OTP,re,z,ue,!1,null,null,Y,K),ce(y.a4.VERIFYING_OTP)))},children:(0,r.jsxs)(s.l0,{children:[(0,r.jsx)(i.kC,{justifyContent:"center",children:(0,r.jsx)(i.kC,{justifyContent:"center",maxWidth:20,height:[12],children:(0,r.jsx)(u.Ee,{alt:"logo",src:f.Gj.SCHOOL_LOGO,objectFit:"contain"})})}),(0,r.jsxs)(i.kC,{flexDirection:"column",justifyContent:"center",mx:[1,0,12],children:[(0,r.jsx)(i.kC,{justifyContent:"center",mt:[6],sx:{textAlign:"center"},children:(0,r.jsx)(u.X6,{variant:"h1",children:Se("enterVerification")})}),F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?null:(0,r.jsx)(i.kC,{mt:[1,2,2],justifyContent:"center",sx:{textAlign:"center"},children:(0,r.jsxs)(u.xv,{variant:"body1",children:[Se("enterOtp")," ",re]})}),F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?null:(0,r.jsx)(i.kC,{mt:[1,2,2],justifyContent:"center",flexDirection:"row",children:!$&&B<4&&(0,r.jsx)(i.xu,{alignSelf:"center",mr:[1],onClick:function(){me(60),pe(!1),le(""),ce(y.a4.IDLE)},sx:{cursor:"pointer"},children:(0,r.jsx)(u.xv,{textDecorationLine:"underline",variant:"body1",children:Se("changeNumber")})})}),(0,r.jsx)(i.kC,{mt:[6],ml:[0,6,6],mb:[1],children:(0,r.jsx)(u.xv,{variant:"body1",children:Se("enterVerification")})}),(0,r.jsxs)(i.xu,{ml:[0,6,6],children:[(0,r.jsx)(i.xu,{display:["none","block","block"],children:(0,r.jsx)(c.Z,{onChange:le,numInputs:6,value:ue,shouldAutoFocus:!0,inputStyle:{borderStyle:null===(t=he.borderStyles)||void 0===t?void 0:t.solid,borderWidth:null===(n=he.borderWidths)||void 0===n?void 0:n[1],borderColor:null===(l=he.colors)||void 0===l?void 0:l.disabled,outlineStyle:"none",marginRight:null===(b=he.space)||void 0===b?void 0:b[6],height:null===(m=he.space)||void 0===m?void 0:m[12],width:null===(S=he.space)||void 0===S?void 0:S[12],padding:null===(I=he.space)||void 0===I?void 0:I[2],fontSize:null===(O=he.fontSizes)||void 0===O?void 0:O[6],"input[type=number]::-webkit-inner-spin-button":{"-webkit-appearance":"none"}},focusStyle:{borderWidth:null===(g=he.borderWidths)||void 0===g?void 0:g[1],borderStyle:null===(x=he.borderStyles)||void 0===x?void 0:x.solid,borderColor:null===(_=he.colors)||void 0===_?void 0:_.onSurface.light,"input[type=number]::-webkit-inner-spin-button":{"-webkit-appearance":"none"}}})}),(0,r.jsx)(i.xu,{display:["block","none","none"],children:(0,r.jsx)(c.Z,{onChange:le,numInputs:6,value:ue,shouldAutoFocus:!0,isInputNum:!0,inputStyle:{borderStyle:null===(j=he.borderStyles)||void 0===j?void 0:j.solid,borderWidth:null===(P=he.borderWidths)||void 0===P?void 0:P[1],borderColor:null===(C=he.colors)||void 0===C?void 0:C.disabled,outlineStyle:"none",marginRight:null===(N=he.space)||void 0===N?void 0:N[4],height:null===(D=he.space)||void 0===D?void 0:D[6],width:null===(T=he.space)||void 0===T?void 0:T[6],padding:null===(R=he.space)||void 0===R?void 0:R[2],fontSize:null===(L=he.fontSizes)||void 0===L?void 0:L[6],"input::-webKit-inner-spin-button":{"-webkit-appearance":"none","-moz-appearance":"none",margin:0},"input[type=number]":{"-moz-appearance":"textfield"}},focusStyle:{borderWidth:null===(A=he.borderWidths)||void 0===A?void 0:A[1],borderStyle:null===(w=he.borderStyles)||void 0===w?void 0:w.solid,borderColor:null===(U=he.colors)||void 0===U?void 0:U.onSurface.light,"input::-webKit-inner-spin-button":{"-webkit-appearance":"none","-moz-appearance":"none",margin:0},"input[type=number]":{"-moz-appearance":"textfield"}}})}),V===y.mP.FAILED&&(0,r.jsx)(i.xu,{my:2,sx:{textAlign:"center"},children:(0,r.jsx)(u.xv,{color:"error",variant:"body2",children:M})}),(0,r.jsx)(i.xu,{mt:[4],mr:[2,3,3],pr:[2,3,3],height:[6],children:(0,r.jsx)(u.zx,{colorVariant:ue&&6===ue.toString().length?"primary":"disabled",text:Se("verifyOtp"),buttonType:"solid",type:"submit",buttonSizeVariant:"large",width:"100%",height:"100%",disabled:V===y.mP.INPROGRESS})}),(0,r.jsx)(i.xu,{mt:[4],mr:[0,3,3],pr:[0,3,3],children:(0,r.jsx)(u.zx,{colorVariant:"secondary",text:Se("logOut"),buttonType:"text",buttonSizeVariant:"large",width:"100%",onClick:function(){X()}})})]}),(0,r.jsxs)(i.kC,{mt:[8],mb:[6],flexDirection:["column","row"],justifyContent:"center",alignItems:"center",children:[Y!==y.M3.ON_CALL&&!K&&B<y.a4.REQUESTED_RESEND_OTP||B<4&&Y===y.M3.TEXT?(0,r.jsx)(i.xu,{pt:[1],children:(0,r.jsx)(u.xv,{color:"onSurface.light",variant:"body2",children:Se("didNotReceiveOtp")})}):(0,r.jsx)(i.xu,{pt:[1],children:(0,r.jsx)(u.xv,{color:"onSurface.light",variant:"body2",children:Se("noResendAttemptLeft")})}),(!K&&B===y.a4.REQUESTED_RESEND_OTP||B<4&&ve<1&&Y===y.M3.TEXT)&&(0,r.jsx)(i.xu,{ml:[1],children:(0,r.jsx)(u.zx,{colorVariant:"secondary",text:Se(K?"getOtpViaCall":"resendOtp"),buttonType:"text",buttonSizeVariant:"small",disabled:Y===y.M3.ON_CALL&&!K&&B===y.a4.REQUESTED_RESEND_OTP,onClick:function(){le(""),F===y.QF.EMAIL_OTP&&W===y.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING?(ce(y.a4.REQUESTED_RESEND_OTP),Q(y.bL.REQUEST_RESEND_OTP,null,null,null,!0,G,k,Y,K),V===y.mP.SUCCESS&&(0,u.FN)({message:Se("emailSentSuccessfully"),position:"bottom-right"})):(le(""),ce(y.a4.REQUESTED_RESEND_OTP),Q(y.bL.REQUEST_RESEND_OTP,re,z,ue,!1,null,null,Y,K))},width:"100%"})}),ve>0&&(B<4&&Y===y.M3.TEXT||B<y.a4.REQUESTED_RESEND_OTP)&&(0,r.jsxs)(i.kC,{ml:[1],pt:[1],flexDirection:"row",children:[(0,r.jsx)(u.X6,{color:"onSurface.light",variant:"h6",children:Se("resendIn")}),(0,r.jsxs)(u.X6,{variant:"h6",children:["\xa0",ve]}),(0,r.jsxs)(u.X6,{color:"onSurface.light",variant:"h6",children:["\xa0",Se("seconds")]})]})]})]})]})})})]})})},S=n(38906);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var N=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(l,t);var n,o,i,u=C(l);function l(){return I(this,l),u.apply(this,arguments)}return n=l,(o=[{key:"render",value:function(){return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({},this.props))}}])&&O(n.prototype,o),i&&O(n,i),l}(o.Component);return(0,S.$)("selectAuthApiStatus","selectAuthState","selectAuthErrorMessage","selectIsMobileVerified","selectUserMobileNumber","selectOtpSessionId","selectOtpResendCount","selectIsInternationalOtpEnabled","selectUserLoginStatus","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectUserLoginStatus","selectSharedIsUserLoggedIn","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectSharedUserMobileNum","selectPostSigninRoute","selectIsEmailVerified","selectSharedUserEmail","selectEmailVerificationType","selectSharedUserId","doRequestOtp","doSignoutUser","selectInProgressPayment","selectOtpRetryOnCall","selectOtpSentType",t)}((function(e){var t=e.doRequestOtp,n=e.authApiStatus,o=e.authState,l=e.authErrorMessage,a=e.otpSessionId,s=e.otpResendCount,c=e.doSignoutUser,d=e.isUserLoggedIn,f=e.userLoginStatus,p=e.isProfileBuilderEnabled,h=e.isStudentFilledProfile,y=e.isInternationalOtpEnabled,E=e.isMobileVerified,b=e.sharedUserMobileNum,v=e.postSigninRoute,S=e.isEmailVerified,I=e.sharedUserEmail,O=e.emailVerificationType,g=e.sharedUserId,x=e.inProgressPayment,_=e.otpRetryOnCall,j=e.otpSentType;return(0,r.jsx)(u.Mp,{children:(0,r.jsx)(i.kC,{justifyContent:"center",bg:"surface",children:(0,r.jsx)(m,{inProgressPayment:x,doRequestOtp:t,authApiStatus:n,authState:o,authErrorMessage:l,otpSessionId:a,otpResendCount:s,doSignoutUser:c,isUserLoggedIn:d,userLoginStatus:f,isProfileBuilderEnabled:p,isStudentFilledProfile:h,isInternationalOtpEnabled:y,isMobileVerified:E,sharedUserMobileNum:b,postSigninRoute:v,isEmailVerified:S,sharedUserEmail:I,emailVerificationType:O,sharedUserId:g,otpRetryOnCall:_,otpSentType:j})})})})),D=n(29418),T=n(27847),R=n(2007),L=n(66441),A=n(21395);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=(0,D.Z)(N),k=(0,R.uK)((0,L.Z)(T.ok,{navbar:!1,footer:!0})),F=(0,D.Z)((function(e){return(0,r.jsx)(k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},e))}));var G=function(){return(0,A.vC)().isAppV4?(0,r.jsx)(F,{}):(0,r.jsx)(U,{})}},96664:function(e,t,n){"use strict";n.d(t,{UK:function(){return d}});var r=n(27378);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,u={status:"not-requested",loading:!1,result:void 0,error:void 0},l={status:"loading",loading:!0,result:void 0,error:void 0},a=function(){},s={initialState:function(e){return e&&e.executeOnMount?l:u},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return l},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:a,onError:a},c=function(e,t,n){!t&&(t=[]);var u=function(e){return o({},s,{},e)}(n),l=(0,r.useState)(null),a=l[0],c=l[1],d=function(e){var t=(0,r.useState)((function(){return e.initialState(e)})),n=t[0],i=t[1],u=(0,r.useCallback)((function(){return i(e.initialState(e))}),[i,e]),l=(0,r.useCallback)((function(){return i(e.setLoading(n))}),[n,i]),a=(0,r.useCallback)((function(t){return i(e.setResult(t,n))}),[n,i]),s=(0,r.useCallback)((function(t){return i(e.setError(t,n))}),[n,i]),c=(0,r.useCallback)((function(e){return i(o({},n,{},e))}),[n,i]);return{value:n,set:i,merge:c,reset:u,setLoading:l,setResult:a,setError:s}}(u),f=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}(),p=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),h=function(e){return f()&&p.is(e)},y=function(e){var t=(0,r.useRef)(e);return i((function(){t.current=e})),(0,r.useCallback)((function(){return t.current}),[t])}((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=function(){try{return Promise.resolve(e.apply(void 0,n))}catch(t){return Promise.reject(t)}}();return c(n),p.set(o),d.setLoading(),o.then((function(e){h(o)&&d.setResult(e),u.onSuccess(e,{isCurrent:function(){return p.is(o)}})}),(function(e){h(o)&&d.setError(e),u.onError(e,{isCurrent:function(){return p.is(o)}})})),o})),E=(0,r.useCallback)((function(){return y().apply(void 0,arguments)}),[y]),b=!f();return(0,r.useEffect)((function(){var e=function(){return y().apply(void 0,t)};b&&u.executeOnMount&&e(),!b&&u.executeOnUpdate&&e()}),t),o({},d.value,{set:d.set,merge:d.merge,reset:d.reset,execute:E,currentPromise:p.get(),currentParams:a})};var d=function(e,t){return c(e,[],o({},t,{executeOnMount:!1,executeOnUpdate:!1}))}},34806:function(e,t,n){"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(27378),a=(r=l)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){return"object"===("undefined"===typeof e?"undefined":u(e))},p=function(e){function t(){var e,n,r;s(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getClasses=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!f(e)&&!1!==e})).join(" ")},c(r,n)}return d(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.input,t=this.props,n=t.focus,r=t.shouldAutoFocus;e&&n&&r&&e.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.input,n=this.props.focus;e.focus!==n&&t&&n&&(t.focus(),t.select())}},{key:"render",value:function(){var e=this,t=this.props,n=t.separator,r=t.isLastChild,i=t.inputStyle,u=t.focus,l=t.isDisabled,s=t.hasErrored,c=t.errorStyle,d=t.focusStyle,p=t.disabledStyle,h=(t.shouldAutoFocus,t.isInputNum),y=t.value,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","value"]),b=h?{min:0,max:9}:{};return a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},a.default.createElement("input",o({style:Object.assign({width:"1em",textAlign:"center"},f(i)&&i,u&&f(d)&&d,l&&f(p)&&p,s&&f(c)&&c),className:this.getClasses(i,u&&d,l&&p,s&&c),type:h?"number":"tel"},b,{maxLength:"1",ref:function(t){e.input=t},disabled:l,value:y||""},E)),!r&&n)}}]),t}(l.PureComponent),h=function(e){function t(){var e,n,r;s(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={activeInput:0},r.getOtpValue=function(){return r.props.value?r.props.value.toString().split(""):[]},r.handleOtpChange=function(e){var t=r.props,n=t.onChange,o=t.isInputNum,i=e.join("");n(o?Number(i):i)},r.focusInput=function(e){var t=r.props.numInputs,n=Math.max(Math.min(t-1,e),0);r.setState({activeInput:n})},r.focusNextInput=function(){var e=r.state.activeInput;r.focusInput(e+1)},r.focusPrevInput=function(){var e=r.state.activeInput;r.focusInput(e-1)},r.changeCodeAtFocus=function(e){var t=r.state.activeInput,n=r.getOtpValue();n[t]=e[0],r.handleOtpChange(n)},r.handleOnPaste=function(e){e.preventDefault();for(var t=r.props.numInputs,n=r.state.activeInput,o=r.getOtpValue(),i=e.clipboardData.getData("text/plain").slice(0,t-n).split(""),u=0;u<t;++u)u>=n&&i.length>0&&(o[u]=i.shift());r.handleOtpChange(o)},r.handleOnChange=function(e){r.changeCodeAtFocus(e.target.value),r.focusNextInput()},r.handleOnKeyDown=function(e){8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),r.changeCodeAtFocus(""),r.focusPrevInput()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),r.changeCodeAtFocus("")):37===e.keyCode||"ArrowLeft"===e.key?(e.preventDefault(),r.focusPrevInput()):39!==e.keyCode&&"ArrowRight"!==e.key||(e.preventDefault(),r.focusNextInput())},r.checkLength=function(e){e.target.value.length>1&&(e.preventDefault(),r.focusNextInput())},r.renderInputs=function(){for(var e=r.state.activeInput,t=r.props,n=t.numInputs,o=t.inputStyle,i=t.focusStyle,u=t.separator,l=t.isDisabled,s=t.disabledStyle,c=t.hasErrored,d=t.errorStyle,f=t.shouldAutoFocus,h=t.isInputNum,y=r.getOtpValue(),E=[],b=function(t){E.push(a.default.createElement(p,{key:t,focus:e===t,value:y&&y[t],onChange:r.handleOnChange,onKeyDown:r.handleOnKeyDown,onInput:r.checkLength,onPaste:r.handleOnPaste,onFocus:function(e){r.setState({activeInput:t}),e.target.select()},onBlur:function(){return r.setState({activeInput:-1})},separator:u,inputStyle:o,focusStyle:i,isLastChild:t===n-1,isDisabled:l,disabledStyle:s,hasErrored:c,errorStyle:d,shouldAutoFocus:f,isInputNum:h}))},v=0;v<n;v++)b(v);return E},c(r,n)}return d(t,e),i(t,[{key:"render",value:function(){var e=this.props.containerStyle;return a.default.createElement("div",{style:Object.assign({display:"flex"},f(e)&&e),className:!f(e)&&e},this.renderInputs())}}]),t}(l.Component);h.defaultProps={numInputs:4,onChange:function(e){return console.log(e)},isDisabled:!1,shouldAutoFocus:!1,value:""},t.Z=h}},function(e){e.O(0,[5639,1362,8270,1699,8122,5028,982,6730,9428,7740,6441,4328,4817,5344,7847,4594,2007,9774,2888,179],(function(){return t=19456,e(e.s=t);var t}));var t=e.O();_N_E=t}]);