(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1160],{34074:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/account/settings",function(){return n(80693)}])},80693:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(24246),o=n(27378),i=n(29418),s=n(45356),a=n(21395),l=n(9078),u=n(72022),c=n(27953),d=function(e){return(0,r.jsxs)(u.kC,{py:4,sx:{justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"border-basic-color-3",cursor:"pointer"},onClick:function(){var t;return null===(t=e.action)||void 0===t?void 0:t.call(e,!e.toggleValue)},children:[(0,r.jsxs)(u.xu,{sx:{flex:4},children:[(0,r.jsx)(s.xv,{category:"s1",textTransform:"capitalize",children:e.title}),!!e.subtitle&&(0,r.jsx)(s.xv,{category:"s2",sx:{pt:2},children:e.subtitle})]}),e.isToggle?(0,r.jsx)(u.kC,{sx:{flex:1,justifyContent:"flex-end"},children:(0,r.jsx)(s.D_,{onChange:e.action,value:e.toggleValue})}):(0,r.jsx)(u.xu,{pl:5,children:(0,r.jsx)(s.tv,{icon:c.q.right,size:20})})]})},f=n(36778),p=n(38423),g=n(38398),h=n(55951),v=function(e){var t=(0,l.$)("account").t,n=(0,o.useState)(!1),i=n[0],a=n[1],c=(0,o.useState)(null),f=c[0],v=c[1],b=(0,o.useState)(null),y=b[0],S=b[1],m=(0,o.useState)(null),w=m[0],P=m[1],j=(0,o.useState)(null),_=j[0],E=j[1],O=(0,h.D9)(null===e||void 0===e?void 0:e.settingsApiStatus);return(0,o.useEffect)((function(){(null===e||void 0===e?void 0:e.settingsApiStatus)&&O===g.iF.IN_PROGRESS&&(null===e||void 0===e?void 0:e.settingsApiStatus)===g.iF.SUCCESS&&(a(!1),v(null),S(null),P(null))}),[null===e||void 0===e?void 0:e.settingsApiStatus]),(0,o.useEffect)((function(){!i&&_&&E("")}),[i]),(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d,{title:t("resetYourPassword"),subtitle:t("changePassword"),action:function(){return a(!0)}}),i&&(0,r.jsxs)(p.iu,{isOpen:!0,title:t("resetYourPassword"),secondaryAction:{title:t("cancel").toLocaleUpperCase(),onClick:function(){a(!1),null===e||void 0===e||e.secondaryAction(),v(null),S(null),P(null)}},primaryAction:{title:t("submit").toLocaleUpperCase(),onClick:function(){f&&y&&w?y===w?(E(null),e.changePassword(f,y,w)):E(t("passwordsDoNotMatch")):E(t("fieldsRequired"))}},children:[(0,r.jsxs)(u.xu,{pt:2,children:[(0,r.jsx)(s.nv,{type:"password",name:"current_password",label:t("oldPassword"),value:null!==f&&void 0!==f?f:void 0,onChange:v,required:!0}),(0,r.jsx)(s.nv,{type:"password",name:"new_password",label:t("newPassword"),value:null!==y&&void 0!==y?y:void 0,onChange:S,required:!0}),(0,r.jsx)(s.nv,{type:"password",name:"confirm_password",label:t("confirmPassword"),value:null!==w&&void 0!==w?w:void 0,onChange:P,required:!0})]}),(0,r.jsx)(s.xv,{category:"c1",status:"error",children:null!==_&&void 0!==_?_:null===e||void 0===e?void 0:e.errorMessage})]})]})};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}var w=function(e){var t=e.data,n=e.callbacks,i=t.isNewsLetterSubscribed,c=t.authenticationType,p=t.userId,g=t.settingsApiStatus,b=t.settingsErrorMessage,m=t.settingsState,w=n.onUpdateMarketingEmailSubscription,P=n.navigateToLanguages,j=n.goToSupportTicket,_=n.resetPassword,E=n.isPasswordValid,O=y(o.useState(""),2),x=O[0],I=O[1],C=(0,h.D9)(g);(0,o.useEffect)((function(){C&&g!==C&&m===f.$c.MODIFYING_PASSWORD&&(g===f.iF.SUCCESS&&(0,s.FN)({message:T("passwordModifySuccess")}),g===f.iF.FAILED&&I(b||""))}),[g,m]);var T=(0,l.$)("account").t,U=(0,a.vC)(),M=(0,o.useMemo)((function(){return"dark"===U.colorMode}),[U.colorMode]);return(0,r.jsxs)(u.kC,{sx:{flexDirection:"column"},py:3,px:3,children:[(0,r.jsx)(s.xv,{sx:{pb:3},category:"h5",textTransform:"capitalize",children:T("player:settings")}),(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(d,{isToggle:!0,toggleValue:M,action:function(){var e;return null===(e=U.toggleMode)||void 0===e?void 0:e.call(U)},title:T("darkMode")}),c===f.am.EMAIL&&(0,r.jsx)(d,{isToggle:!0,title:T("marketingEmailNotification"),subtitle:T("controlMarketingNotification"),toggleValue:i,action:w}),(0,r.jsx)(d,{title:T("language"),subtitle:T("chooseLanguage"),action:function(){return P()}}),(0,r.jsx)(d,{title:T("support"),subtitle:T("raiseTicket"),action:function(){return j()}}),(0,r.jsx)(v,{errorMessage:x,secondaryAction:function(){return I("")},settingsApiStatus:g,changePassword:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=E(t[1],T);r.isValid?(_.apply(void 0,S(t).concat([p])),I("")):I(r.errMsg)}})]})]})};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){return(0,r.jsx)(w,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}({},e))},_=n(66441),E=n(55971),O=n(11959),x=n(86677),I=n(53850),C=function(){x.default.push(I.y4.supportList,I.XC.supportList())},T=function(){x.default.push(I.y4.languageList,I.XC.languageList())},U=function(){},M=function(){},A=function(){},N=function(){},k=function(){},L=function(){},D=function(){},G=function(){},R=function(){},V=function(){},B=n(88268),F=n(49613),Y=n(95045),Q=n(267);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructData=function(e){var t,n=Q.Gj.pricing_model===Y._n.SUBSCRIPTION_TYPE,r=function(){var e,t=!1;if(Q.Gj.learner_segment)try{e=JSON.parse(Q.Gj.learner_segment)}catch(n){return console.log("\n                error in parsing customerConfig.learner_segment data ".concat(Q.Gj.learner_segment,"\n                ")),t}return t=e&&e.allow_segment_switch&&e.learner_segment_enabled&&Q.Gj.segment_enabled}(),o=function(){var e=Number(Q.Gj.PAYMENT_TYPE)!==B.O5.IN_APP_PAYMENT,t=!!(B.OS===B.vO.DEVICE_ANDROID)&&e;return!!Q.Gj.is_wallet_enabled&&t}(),i=(null===e||void 0===e?void 0:e.sharedUserProfilePhoto)&&!(null===e||void 0===e?void 0:e.sharedUserProfilePhoto.startsWith("/"))?null===e||void 0===e?void 0:e.sharedUserProfilePhoto:null,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({},e.addressData,{shouldShowBillingAddressError:!1,shouldShowShippingAddressError:!1}),a=Q.Gj.content_version>=4&&!(0,O.kc)("7.1.2");return{isSubscriptionMode:n,userProfilePhoto:i,userName:null===e||void 0===e?void 0:e.sharedUserName,userEmail:(null===e||void 0===e?void 0:e.sharedUserEmail)||"",userMobileNum:(null===e||void 0===e?void 0:e.sharedUserMobileNum)||"",isUserLoggedIn:null===e||void 0===e?void 0:e.sharedIsUserLoggedIn,isSocialLogin:null===e||void 0===e?void 0:e.sharedIsSocialLogin,isNewsLetterSubscribed:null===e||void 0===e?void 0:e.sharedIsNewsLetterSubscribed,isProfileBuilderEnabled:null===e||void 0===e?void 0:e.isProfileBuilderEnabled,authenticationType:null!==(t=Q.Gj.AUTHENTICATION_TYPES)&&void 0!==t?t:Q.Gj.authentication_types,isShowSupportEnabled:Q.Gj.SHOW_SUPPORT,isFreshChatEnabled:!!O.px,addressConfig:F.C.GST,addressType:F.pr.SHIPPING_AND_BILLING,isInvoicesEnabled:Q.Gj.SHOW_INVOICES,privacyPolicyLink:Q.Gj.PRIVACY_POLICY,isSegmentEnabled:r,isReferralCodeEnabled:o,addressData:s,userSegmentId:null===e||void 0===e?void 0:e.userSegmentId,downloadQuality:e.downloadQuality,showDownloadQualityOptions:a,userId:e.sharedUserId,settingsApiStatus:e.settingsApiStatus,settingsErrorMessage:e.settingsErrorMessage,settingsState:e.settingsState}}},H=n(38906),X=n(23998);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,t);var n,o,i,s=ee(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).onUserSignOut=function(){(0,t.props.doSignoutUser)()},t.onUpdateMarketingEmailSubscription=function(e){var n=t.props;(0,n.doUpdateMarketingEmailSubscription)(e,n.sharedUserId)},t.goToChatBox=function(){(0,O.$j)({eventName:Y.GS.CHAT_VIEWED}),(0,O.ol)()},t.clearCache=function(){(0,t.props.doClearCache)()},t.onUpdateDownloadQuality=function(e){(0,t.props.doUpdateDownloadQuality)(e)},t.isPasswordValid=function(e,t){return e?e.length<X.fX.MIN_PASSWORD_LENGTH?{isValid:!1,errMsg:t("password_min_len")}:e.length>X.fX.MAX_PASSWORD_LENGTH?{isValid:!1,errMsg:t("password_max_length")}:{isValid:!0,errMsg:""}:{isValid:!1,errMsg:t("invalidPassword")}},t.settingsDetailsUtils=new q,t}return n=a,(o=[{key:"componentDidUpdate",value:function(e){e.userLoginStatus!==this.props.userLoginStatus&&e.sharedIsUserLoggedIn!==this.props.sharedIsUserLoggedIn&&!this.props.sharedIsUserLoggedIn&&(this.props.userLoginStatus,X.zU.NOT_LOGGED_IN)}},{key:"render",value:function(){var t={goBack:U,goToDownloadLocation:k,goToInvoices:D,goToModifyPassword:A,goToProfileBuilder:L,goToProfileEdit:M,goToSegments:N,goToSupportTicket:C,goToWallet:G,onUserSignOut:this.onUserSignOut,onUpdateMarketingEmailSubscription:this.onUpdateMarketingEmailSubscription,goToChatBox:this.goToChatBox,clearCache:this.clearCache,addressCallbacks:this.props.addressCallbacks,navigateToSubscriptions:R,onUpdateDownloadQuality:this.onUpdateDownloadQuality,navigateToInvite:V,navigateToLanguages:T,resetPassword:this.props.doModifyPassword,isPasswordValid:this.isPasswordValid};return(0,r.jsx)(e,{data:this.settingsDetailsUtils.constructData(this.props),callbacks:t,helper:{}})}}])&&$(n.prototype,o),i&&$(n,i),a}(o.Component);return(0,H.$)("selectSharedIsUserLoggedIn","selectSharedIsSocialLogin","selectSharedUserProfilePhoto","selectSharedUserName","selectSharedUserEmail","selectSharedUserMobileNum","selectDownloadQuality","selectSharedIsNewsLetterSubscribed","selectSharedUserId","selectIsProfileBuilderEnabled","doSignoutUser","doUpdateDownloadQuality","doUpdateMarketingEmailSubscription","doClearCache","selectUserSegmentId","selectUserLoginStatus","doModifyPassword","selectSettingsErrorMessage","selectSettingsApiStatus","selectSettingsState",t)}((function(e){return(0,r.jsx)(j,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}({},e))})),re=(0,E.Z)(ne),oe=(0,_.Z)(re),ie=(0,i.Z)(oe)},38398:function(e,t,n){"use strict";n.d(t,{pK:function(){return r.pK},T_:function(){return r.T_},iF:function(){return r.iF},b3:function(){return r.b3},E_:function(){return r.E_},MF:function(){return r.MF},hC:function(){return r.hC},J5:function(){return r.J5},xZ:function(){return r.xZ},eq:function(){return r.eq}});var r=n(3612)}},function(e){e.O(0,[5639,8270,1699,8122,6730,9428,6441,8602,9774,2888,179],(function(){return t=34074,e(e.s=t);var t}));var t=e.O();_N_E=t}]);