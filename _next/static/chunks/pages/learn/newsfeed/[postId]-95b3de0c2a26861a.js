(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7522],{49352:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/newsfeed/[postId]",function(){return n(34514)}])},15795:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(24246),o=n(21155),s=n(90066),i=n(27378),u=n(38906);var a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructData=function(e){return{userLikesFetchStatus:null===e||void 0===e?void 0:e.userLikesFetchStatus,userLikesError:null===e||void 0===e?void 0:e.userLikesError,userLikesBundleState:null===e||void 0===e?void 0:e.userLikesBundleState,newsfeedLikes:null===e||void 0===e?void 0:e.newsfeedLikes}}},c=n(86677),l=n(53850);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function m(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(h,t);var n,i,u,p=g(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this,e)).addLike=function(e){var n,r;(null===(n=t.props)||void 0===n?void 0:n.userLikesFetchStatus)!==o.iF.IN_PROGRESS&&(null===(r=t.props)||void 0===r||r.doAddLike(e,s.Hz.NEWSFEED))},t.removeLike=function(e,n){var r,i;(null===(r=t.props)||void 0===r?void 0:r.userLikesFetchStatus)!==o.iF.IN_PROGRESS&&(null===(i=t.props)||void 0===i||i.doRemoveLike(e,n,s.Hz.NEWSFEED))},t.updateLike=function(e,n,r){var o,s;(null===(o=t.props)||void 0===o?void 0:o.sharedIsUserLoggedIn)?!0===n?r&&t.removeLike(r,e):t.addLike(e):((s=t.props.doSetPostSigninRoute)&&s({href:{pathname:c.default.pathname,query:c.default.query},as:c.default.asPath}),c.default.push(l.y4.signin,l.XC.signin()))},t.userLikesUtils=new a,t}return n=h,(i=[{key:"render",value:function(){var t={onHandleLike:this.updateLike};return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},this.props,{userLikesData:this.userLikesUtils.constructData(this.props),userLikesCallbacks:t}))}}])&&d(n.prototype,i),u&&d(n,u),h}(i.Component);return(0,u.$)("selectUserLikesFetchStatus","selectUserLikesError","selectUserLikesBundleState","selectNewsfeedLikes","selectSharedIsUserLoggedIn","doAddLike","doRemoveLike","doSetPostSigninRoute",t)}},34514:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var r=n(24246),o=n(27378),s=n(21395),i=n(55643),u=n(55480),a=n(14916),c=n(55714),l=n(61320),d=n.n(l),f=n(25111),p=n(88038),h=n(75226),x=n(45121),y=n(71138),g=n(87228),m=function(e){var t=e.currentNewsfeedDetails,n=window.location.href,o=t.postId,s=t.authorName,i=t.content,c=t.publishedAt,l=t.postImage,m=t.postTitle,b=t.categoryName;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.default,{children:(0,r.jsx)("title",{children:t.postTitle})}),(0,r.jsx)(u.xu,{mx:"auto",maxWidth:["100%","containerMediumWidth"],px:3,children:(0,r.jsxs)(u.xu,{children:[(0,r.jsxs)(a.xv,{variant:"overline",color:"onSurface.light",children:["#",b]}),(0,r.jsx)(a.X6,{variant:"h2",children:m}),(0,r.jsxs)(u.kC,{my:4,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(u.kC,{alignItems:"center",children:[(0,r.jsx)(a.xv,{variant:"body1",color:"onBackground.main",lineClamp:1,children:s}),(0,r.jsx)(u.xu,{color:"onSurface.light",px:2,sx:{"&::before":{fontSize:"body1",content:"'\u2022 '"}}}),(0,r.jsx)(u.xu,{children:(0,r.jsx)(a.xv,{variant:"body1",color:"onSurface.light",lineClamp:1,children:d()(c).startOf("second").fromNow()})})]}),(0,r.jsxs)(u.kC,{children:[(0,r.jsx)(u.xu,{mx:1,children:(0,r.jsx)(h.Z,{url:n,children:(0,r.jsx)(a.Bz,{size:"small",children:(0,r.jsx)(g.R9i,{})})})}),(0,r.jsx)(u.xu,{mx:1,children:(0,r.jsx)(x.Z,{url:n,children:(0,r.jsx)(a.Bz,{size:"small",children:(0,r.jsx)(g.ltd,{})})})}),(0,r.jsx)(u.xu,{mx:1,children:(0,r.jsx)(y.Z,{url:n,children:(0,r.jsx)(a.Bz,{size:"small",children:(0,r.jsx)(g.N1v,{})})})}),(0,r.jsx)(f.Z,{postId:o,showLabel:!0})]})]}),(0,r.jsx)(u.xu,{my:12,width:["100%"],sx:{boxShadow:"card.img"},children:(0,r.jsx)(a.oM,{ratio:16/9,children:(0,r.jsx)(a.Ee,{src:l,alt:m})})}),(0,r.jsx)(u.xu,{maxWidth:["100%","containerMediumWidth"],mx:"auto",children:(0,r.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:i},sx:{color:"onSurface.light",fontSize:"body1",lineHeight:"body1",fontFamily:"body",a:{color:"link.primary.normal","&:hover":{color:"link.primary.hover"}},iframe:{maxWidth:["100%"]},table:{borderCollapse:"collapse",width:"100% !important"},"td, th":{borderWidth:1,borderStyle:"solid",borderColor:"border",textAlign:"left",wordWrap:"break-word",padding:[2]},img:{maxWidth:["100%"]}}})})]})})]})},b=n(38906);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var P=n(79136),k=n(30175),L=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,t);var n,o,s,i=E(u);function u(){return v(this,u),i.apply(this,arguments)}return n=u,(o=[{key:"render",value:function(){return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},this.props))}}])&&j(n.prototype,o),s&&j(n,s),u}(o.Component);return(0,b.$)("selectNewsfeedFetchStatus","selectNewsfeedError","selectCurrentNewsfeedDetails","selectCurrentNewsfeedState",t)}((function(e){var t=e.newsfeedFetchStatus,n=e.newsfeedError;if(t===P.UK.FAILED&&n){var o=n.errorCode,s=n.errorMessage;return(0,r.jsx)(a.jj,{errorText:s,errorCode:o})}var i=e.currentNewsfeedDetails,l=e.currentNewsfeedState;return i&&(t!==P.UK.IN_PROGRESS&&t!==P.UK.IDLE||l!==k.HW.DETAILED_NEWSFEED)?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.kC,{flexDirection:"column",minHeight:"100vh",bg:"surface",children:[(0,r.jsx)(c.wp,{}),(0,r.jsx)(u.xu,{flex:1,py:[4,8,12],children:(0,r.jsx)(m,{currentNewsfeedDetails:i,loadStatus:t,currentNewsfeedState:l})}),(0,r.jsx)(c.$_,{})]})}):(0,r.jsx)(a.gb,{})})),C=n(77986),N=n(87431),U=n(86677),R=n(53850),T=n(9078),D=n(28024),F=function(e){var t,n,o,s=e.currentNewsfeedPost.contentDetails;if(s&&(s.course&&(t=s.course),s.lessons&&(n=s.lessons,o=s.sections)),t&&n){var i=n.find((function(e){return o[0].id===e.section_id}));return U.default.replace({pathname:R.y4.lessonPlayer,query:{bundleId:0,courseId:t.id,courseType:t.course_type,lessonId:i.id,sectionId:i.section_id,template:1,disableLessonChange:!0}},R.XC.lessonPlayer({productSeo:t.seo_title,lessonId:i.id,sectionId:i.section_id,subProductSeo:null,template:1,disableLessonChange:!0}),{shallow:!0}),(0,r.jsx)(D.gb,{})}return(0,r.jsx)(D.gb,{})},A=n(14710),G=n(79471),z=n(1374),B=n(62182),q=n(62664),M=function(e){var t=e.currentNewsfeedPost,n=e.doAnswerNewsfeedQuestion,s=e.sharedIsUserLoggedIn,i=e.doSetPostSigninRoute,c=(e.doFetchQuizQuestionSignedUrl,e.questionContentSignedUrl,e.sharedUserId),l=e.sharedAuthToken,d=(0,T.$)("common").t,f=(0,o.useState)(null),p=f[0],h=f[1],x=(0,o.useState)(!1),y=x[0],g=x[1],m=t.contentDetails,b=m.question,v=(m.url_token,m.signed_url),j=b.choices,S=b.answer?JSON.parse(b.answer):[];"number"===typeof S&&(S=[S]);var w=b.ans_description_lesson?JSON.parse(b.ans_description_lesson):{},_={},I=[];w&&w.length&&w.forEach((function(e,t){_[t]={fileId:e.src_id||null,fileName:e.src,fileType:e.src_type,slideState:e.state,startFile:e.url||null},I.push(t)})),console.log("qod currentNewsfeedPost ",t,_),(0,o.useEffect)((function(){var e=document.querySelectorAll(".question-content a");e&&e.length&&e.forEach((function(e){return e.target="_blank"}))}),[]);var O=(0,B.qJ)(v,b.id,P.ri.PURCHASED,"",c,l,{},0),E=(0,G.bm)({slides:{slideDetails:_,slideIds:I}},0,0,v,null),k=JSON.parse(j),L={};try{L=JSON.parse(t.publishedContent)}catch(N){console.log("question poll parse fail",N,t.publishedContent)}var C=0;return Object.keys(L).forEach((function(e){return C+=L[e]})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xu,{mt:8}),(0,r.jsx)(D.X6,{variant:"h6",textTransform:"capitalize",children:d("question")}),(0,r.jsx)(u.xu,{mt:5}),(0,r.jsx)(D.xv,{variant:"body1",children:(0,r.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:b.qtext}})}),k.map((function(e){return(0,r.jsxs)(u.xu,{className:"question-content",children:[(0,r.jsxs)(u.kC,{onClick:function(){null===p&&(h(e.group_order),n(t.id,e.group_order))},sx:{alignItems:"center","& svg":{color:p===e.group_order?S.includes(p)?"other.live":"error":"onDisabled"},cursor:"pointer",fontSize:"body2"},children:[(0,r.jsx)(A.Y8,{checked:p==e.group_order}),(0,r.jsx)(u.xu,{ml:2,sx:{width:"90%"},children:(0,r.jsx)(D.xv,{variant:"body2",children:(0,r.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:e.option_text}})})})]}),null!==p?(0,r.jsxs)(u.kC,{sx:{alignItems:"center"},children:[(0,r.jsx)(u.xu,{width:"100%",children:(0,r.jsx)(a.ko,{height:"4px",color:p===e.group_order?S.includes(p)?"other.live":"error":"onDisabled",progress:L[e.group_order]/C*100||0})}),(0,r.jsx)(u.xu,{ml:2}),(0,r.jsxs)(D.xv,{variant:"body2",children:[Math.round(L[e.group_order]/C*100)||0,"%"]})]}):(0,r.jsx)(u.xu,{mt:5})]})})),(0,r.jsx)(u.xu,{mt:8}),b.ans_description||I.length?(0,r.jsx)(D.zx,{buttonType:"outline",text:d("testPlayer:AnswerExplanation"),colorVariant:"secondary",onClick:function(){s?g(!y):(i({href:{pathname:U.default.pathname,query:U.default.query},as:U.default.asPath}),U.default.push(R.y4.signin))}}):null,(0,r.jsx)(D.u_,{isOpen:y,onRequestClose:function(){return g(!1)},children:(0,r.jsxs)(u.xu,{className:"question-content",sx:{maxHeight:"90vh",overflowY:"auto",width:["100vw","100vw","50vw"],backgroundColor:"surface",px:4,py:5,boxShadow:"default"},children:[(0,r.jsxs)(u.kC,{sx:{justifyContent:"space-between"},children:[(0,r.jsx)(D.X6,{variant:"h4",children:d("testPlayer:AnswerExplanation")}),(0,r.jsx)(A.x8,{onClick:function(){return g(!1)}})]}),(0,r.jsxs)(u.xu,{mt:6,children:[I.length?(0,r.jsx)(a.oM,{ratio:16/9,children:(0,r.jsx)(q.qj,{children:function(e){var t=e.width,n=e.height;return(0,r.jsx)(z.a,{lessonData:O,slideData:E,lessonBookmarkData:{},currentBookMarkIdTs:0,callbacks:{onGoBack:function(){return null},setPLayerSemiFullScreenState:function(){return null},diagnose:function(){return null}},dimensions:{width:t,height:n},isAnswerExplaination:!0})}})}):null,(0,r.jsx)(D.xv,{variant:"body1",children:(0,r.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:b.ans_description}})})]})]})})]})},V=function(e){var t=e.currentNewsfeedPost,n=e.sharedIsUserLoggedIn,o=e.doSetPostSigninRoute,s=e.doAnswerNewsfeedQuestion,i=e.doFetchQuizQuestionSignedUrl,c=e.questionContentSignedUrl,l=e.sharedUserId,d=e.sharedAuthToken,f=(0,T.$)("newsfeed").t,p=t.publishedContent,h=t.featuredImage,x=t.title,y=t.contentType,g=t.contentId,m=t.postContentType,b=t.postTypeName;if(y===N.wF.lesson_content&&m===N.bY.VIDEO)return(0,r.jsx)(C.CE,{sharedIsUserLoggedIn:n,currentNewsfeedPost:t,doSetPostSigninRoute:o});if(m===N.bY.PROMO)return(0,r.jsx)(C.GD,{currentNewsfeedPost:t});if(m===N.bY.COURSE_EMBED)return(0,r.jsx)(F,{currentNewsfeedPost:t});var v=[{title:f("common:newsfeed"),onClick:function(){return U.default.push(R.y4.newsfeed)}},{title:x}];b&&v.splice(1,0,{title:b});var j=m===N.bY.QUIZ,S=m===N.bY.PDF;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.xu,{mx:"auto",maxWidth:["100%","containerMediumWidth"],px:3,children:[(0,r.jsx)(u.xu,{pb:[4,6],children:(0,r.jsx)(C.ck,{data:v})}),!j&&m!==N.bY.QUESTION_TYPE&&(0,r.jsx)(C.mV,{currentNewsfeedPost:t}),j&&(0,r.jsx)(C.xK,{postDetail:t,sharedIsUserLoggedIn:n,doSetPostSigninRoute:o}),m===N.bY.QUESTION_TYPE&&(0,r.jsx)(M,{doSetPostSigninRoute:o,sharedIsUserLoggedIn:n,currentNewsfeedPost:t,doAnswerNewsfeedQuestion:s,doFetchQuizQuestionSignedUrl:i,questionContentSignedUrl:c,sharedUserId:l,sharedAuthToken:d}),!g&&!S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xu,{sx:{my:12,width:"100%",boxShadow:"card.img"},children:(0,r.jsx)(a.oM,{ratio:16/9,children:(0,r.jsx)(a.Ee,{src:h,alt:x,objectFit:"contain"})})}),(0,r.jsx)(C.To,{publishedContent:p})]}),S&&(0,r.jsx)(r.Fragment,{children:t.publishedContent&&t.publishedContent.length?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.kC,{sx:{py:8,width:"100%",justifyContent:"center"},children:(0,r.jsx)(C.qv,{fileName:t.title,downloadUrl:t.publishedContent,progressHeight:1,width:"100px"})})}):(0,r.jsx)(u.kC,{sx:{py:8,width:"100%",justifyContent:"center"},children:(0,r.jsx)(a.zx,{disabled:!0,colorVariant:"disabled",text:f("pdfNotAvailable")})})})]})})},Q=(0,n(86488).Z)((function(e){e.newsfeedNewFetchStatus;var t=e.newsfeedNewError,n=e.currentNewsfeedPost,o=(e.newsfeedState,e.sharedIsUserLoggedIn),s=e.doSetPostSigninRoute,i=e.doAnswerNewsfeedQuestion,l=e.doFetchQuizQuestionSignedUrl,d=e.questionContentSignedUrl,f=e.sharedUserId,h=e.sharedAuthToken,x=e.newsfeedPostFetchStatus;if(x===P.UK.FAILED&&t.errorCode){var y=t.errorCode,g=t.errorMessage;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.kC,{flexDirection:"column",minHeight:"100vh",bg:"surface",children:[(0,r.jsx)(c.wp,{}),(0,r.jsx)(a.jj,{errorText:g,errorCode:y})]})})}return x!==P.UK.IN_PROGRESS&&n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.default,{children:[(0,r.jsx)("meta",{name:"description",content:n.summary||""}),(0,r.jsx)("title",{children:n.metaTitle})]}),(0,r.jsxs)(u.kC,{flexDirection:"column",minHeight:"100vh",bg:"surface",children:[(0,r.jsx)(c.wp,{}),(0,r.jsx)(u.xu,{flex:1,py:[4,8,10],children:(0,r.jsx)(V,{doAnswerNewsfeedQuestion:i,currentNewsfeedPost:n,sharedIsUserLoggedIn:o,doSetPostSigninRoute:s,doFetchQuizQuestionSignedUrl:l,questionContentSignedUrl:d,sharedUserId:f,sharedAuthToken:h})}),(0,r.jsx)(c.$_,{})]})]}):(0,r.jsx)(a.gb,{})})),H=function(){return i.Gj.is_newsfeed_migrated?(0,r.jsx)(Q,{}):(0,r.jsx)(L,{})},X=n(29418),Z=n(58001),W=n(58991),Y=n(15795),$=n(78191),K=n(66441),J=(0,X.Z)((function(){return(0,r.jsx)(H,{})}));var ee=(0,X.Z)((0,Y.Z)((0,W.Z)((0,$.P)((0,K.Z)((function(e){return(0,r.jsx)(Z.xO,{data:e.data,callbacks:e.callbacks,helper:e.helper})}),{navbar:!0,footer:!0})))));var te=function(){return(0,s.vC)().isAppV4?(0,r.jsx)(ee,{}):(0,r.jsx)(J,{})}},25111:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(24246),o=n(27378),s=n(86677),i=n(14916),u=n(38906);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=n(53850),g=n(74566),m=n(55480),b=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,t);var n,o,s,i=x(u);function u(){return a(this,u),i.apply(this,arguments)}return n=u,(o=[{key:"render",value:function(){return(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},this.props))}}])&&c(n.prototype,o),s&&c(n,s),u}(o.Component);return(0,u.$)("selectSharedIsUserLoggedIn","selectUserBookMarkedList","selectNewsfeedFetchRequestType","doAddBookmark","doRemoveBookmark",t)}((function(e){var t=e.sharedIsUserLoggedIn,n=e.postId,o=e.doAddBookmark,u=e.doRemoveBookmark,a=e.userBookMarkedList;if(!t)return null;var c=a.includes(n),l=function(){t?c?u(n):o(n):s.default.push(y.y4.signin)};return(0,r.jsx)(m.xu,{mr:2,children:!0===c?(0,r.jsx)(i.Bz,{size:"small",onClick:l,children:(0,r.jsx)(g.AAE,{})}):(0,r.jsx)(i.Bz,{size:"small",onClick:l,children:(0,r.jsx)(g.W3L,{})})})}))},29418:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(35230),o=n.n(r),s=n(24246),i=n(86677),u=n(27378),a=n(38906),c=n(79471),l=n(14916),d=n(23998),f=n(53850),p=n(11959),h=n(267),x=n(95045);function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n,r,o,s,i){try{var u=e[s](i),a=u.value}catch(c){return void n(c)}u.done?t(a):Promise.resolve(a).then(r,o)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function S(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?y(e):t}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function O(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,t);var n,r,o,u=I(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=u.call(this,e)).doUserVerifications=function(){if(t.props.userLoginStatus===d.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING){if("/learn/account/otp"===t.props.router.pathname)return;i.default.push(f.y4.otp,f.XC.otp())}else if(t.props.userLoginStatus===d.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===d.QF.EMAIL_LINK){if("/learn/account/email-verification"===t.props.router.pathname)return;i.default.push(f.y4.emailVerification,f.XC.emailVerification())}else if(t.props.userLoginStatus===d.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===d.QF.EMAIL_OTP){if("/learn/account/otp"===t.props.router.pathname)return;i.default.push(f.y4.otp,f.XC.otp())}else t.props.navigationCurrentScreen===p.i_.SEGMENT||t.props.navigationCurrentScreen===p.i_.SIGNIN||t.props.navigationCurrentScreen===p.i_.PROFILE_BUILDER||!h.Gj.segment_enabled||t.props.userSegmentId||t.props.userLoginStatus!==d.zU.LOGGED_IN_VERIFIED&&t.props.userLoginStatus!==d.zU.NOT_LOGGED_IN?t.props.userLoginStatus===d.zU.LOGGED_IN_VERIFIED&&t.props.isProfileBuilderEnabled&&!t.props.isStudentFilledProfile&&t.props.navigationCurrentScreen!==p.i_.PROFILE_BUILDER&&(void 0!==t.props.inProgressPayment?i.default.push(f.y4.profileFields,f.XC.profileFields()):i.default.replace(f.y4.profileFields,f.XC.profileFields(),{shallow:!0})):t.props.userLoginStatus===d.zU.NOT_LOGGED_IN&&h.Gj.pricing_model===x._n.SUBSCRIPTION_TYPE?i.default.push(f.y4.segment,f.XC.segment()):t.props.userLoginStatus===d.zU.LOGGED_IN_VERIFIED&&i.default.replace(f.y4.segment,f.XC.segment(),{shallow:!0})},t.doUserVerifications=t.doUserVerifications.bind(y(t)),t}return n=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,n=e.navigationCurrentScreen,r=e.doSendNavChangeEvent,o=e.doSetCurrentAccessingLesson;if(this.doUserVerifications(),r(f.ZP[t.pathname],n,(new Date).getTime(),j({},t.query),!1,!0),console.log(f.ZP[t.pathname]),t.pathname===f.y4.lessonPlayer&&!t.query.courseId){var s=c.$2,i=t.query.sectionId,u=t.query.lessonId;o({courseId:s,sectionId:i,lessonId:u,autoScrollLessonTs:(new Date).getTime()},u)}}},{key:"componentDidUpdate",value:function(e){this.props.navigationCurrentScreen===p.i_.SEGMENT||this.props.navigationCurrentScreen===p.i_.SIGNIN||this.props.navigationCurrentScreen===p.i_.PROFILE_BUILDER||!h.Gj.segment_enabled||this.props.userSegmentId||this.props.userLoginStatus!==d.zU.LOGGED_IN_VERIFIED&&this.props.userLoginStatus!==d.zU.NOT_LOGGED_IN||(this.props.userLoginStatus===d.zU.NOT_LOGGED_IN&&h.Gj.pricing_model===x._n.SUBSCRIPTION_TYPE?i.default.push(f.y4.segment,f.XC.segment()):this.props.userLoginStatus===d.zU.LOGGED_IN_VERIFIED&&i.default.replace(f.y4.segment,f.XC.segment(),{shallow:!0})),void 0!==this.props.inProgressPayment&&this.doUserVerifications(),void 0!==this.props.realUserLoginStatus&&(this.props.inProgressPayment||this.props.navigationCurrentScreen===p.i_.CHECKOUT||this.props.doSetRealUserLoginStatus()),this.props.isAuthTokenExpired&&e.isAuthTokenExpired!==this.props.isAuthTokenExpired&&((0,l.FN)({message:"Your login session is expired."}),this.props.doRestartAuthentication(),i.default.push(f.y4.signin))}},{key:"render",value:function(){return this.props.sharedIsSchoolLocked&&this.props.sharedIsUserLoggedIn?(0,s.jsx)(l.R7,{doSignoutUser:this.props.doSignoutUser}):(0,s.jsx)(e,j({},this.props))}}])&&m(n.prototype,r),o&&m(n,o),a}(u.Component);return t.getInitialProps=function(){var e,t=(e=o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isServer,e.abrupt("return",{isServer:n});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(e){g(s,r,o,i,u,"next",e)}function u(e){g(s,r,o,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),(0,i.withRouter)((0,a.$)("doSignoutUser","doSendNavChangeEvent","doSetCurrentAccessingLesson","doRestartAuthentication","selectSharedIsUserLoggedIn","selectIsAuthTokenExpired","selectNavigationCurrentScreen","selectSharedIsSchoolLocked","selectSharedIsUserLoggedIn","selectUserLoginStatus","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectEmailVerificationType","selectUserSegmentId","selectInProgressPayment","selectRealUserLoginStatus","doSetRealUserLoginStatus",t))}}},function(e){e.O(0,[5639,1362,7441,357,8270,1699,5987,597,355,6730,5356,9428,7740,7326,6441,4328,3345,3942,9587,5785,8653,5344,149,2006,7986,2477,8191,9774,2888,179],(function(){return t=49352,e(e.s=t);var t}));var t=e.O();_N_E=t}]);