(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5259],{27557:function(e){e.exports=function(){"use strict";return function(e,n,o){n.prototype.isBetween=function(e,n,t,i){var l=o(e),s=o(n),r="("===(i=i||"()")[0],d=")"===i[1];return(r?this.isAfter(l,t):!this.isBefore(l,t))&&(d?this.isBefore(s,t):!this.isAfter(s,t))||(r?this.isBefore(l,t):!this.isAfter(l,t))&&(d?this.isAfter(s,t):!this.isBefore(s,t))}}}()},1374:function(e,n,o){"use strict";o.d(n,{a:function(){return t.Z}});var t=o(28704)},58991:function(e,n,o){"use strict";o.d(n,{Z:function(){return _}});var t=o(24246),i=o(27378),l=o(38906),s=o(21155),r=o(87431),d=o(267),a=o(61320),u=o.n(a),c=o(62182),v=o(79471);function f(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,n){return!n||"object"!==x(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var x=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=h(e);if(n){var i=h(this).constructor;o=Reflect.construct(t,arguments,i)}else o=t.apply(this,arguments);return m(this,o)}}var w=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(o,e);var n=y(o);function o(){var e;return p(this,o),(e=n.apply(this,arguments)).getBookmarkedState=function(e,n){return!(!n||!n.length)&&-1!==n.indexOf(e)},e.getParsedOrderedAllPosts=function(e,n){var o=[];return Object.keys(e).map((function(n){return o.push(e[n])})),(n?o.filter((function(e){return!e.pinned})):o).sort((function(e,n){return e.createdAt<n.createdAt?1:-1}))},e.getSectionalList=function(e,n,o){var t,i=[],l={title:"",data:[],date:""};return e&&e.length&&e.map((function(s,r){var d=u()(o?s.createdAt:s.publishedAt).calendar(Date.now(),{lastDay:null!==n&&void 0!==n?n:"[Yesterday]",sameDay:null!==n&&void 0!==n?n:"[Today]",nextWeek:null!==n&&void 0!==n?n:"DD MMM YYYY",lastWeek:null!==n&&void 0!==n?n:"DD MMM YYYY",sameElse:null!==n&&void 0!==n?n:"DD MMM YYYY"});r||(t=d,l={title:d,data:[],date:o?s.createdAt:s.publishedAt}),t===d?(l.data.push(s),t=d):(i.push(l),(l={title:d,data:[],date:o?s.createdAt:s.publishedAt}).data.push(s),t=d),r+1===e.length&&i.push(l)})),i},e.getSectionalListofAllPosts=function(n,o,t){var i=e.getParsedOrderedAllPosts(n,o);return e.getSectionalList(i,t,!0)},e.getPostsOrderedBydate=function(n){var o=[];Object.keys(n).map((function(e){return o.push(n[e])}));var t=o.sort((function(e,n){return e.publishedAt<n.publishedAt?1:-1}));return e.getSectionalList(t,"DD MMM",!1)},e.setPlayerData=c.qJ,e.constructSlideDataForLessonPlay=v.bm,e}return o}(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o,t;return n=e,(o=[{key:"downloadAttachments",value:function(){}},{key:"isAttachmentDownloaded",value:function(){}},{key:"openDocuments",value:function(){}},{key:"deleteAttachment",value:function(){}},{key:"cancelDownloads",value:function(){}}])&&f(n.prototype,o),t&&f(n,t),e}()),k=o(4854),b=o(95045),j=o(73502),P=function(e){console.log("share Post")};var C=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructData=function(e){var n,o,t,i,l,a,u=new w,c=(null===e||void 0===e?void 0:e.newsfeedState)===r.PP.FETCH_ALL_POSTS&&(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)===s.iF.FAILED,v=(null===e||void 0===e?void 0:e.newsfeedState)===r.PP.FETCH_ALL_POSTS&&(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)===s.iF.IN_PROGRESS,f=function(n){var o;return null===e||void 0===e||null===(o=e.newsfeedPostTypes)||void 0===o?void 0:o.filter((function(e){return e.id===n}))};(null===e||void 0===e?void 0:e.currentPostType)?t=null===(i=f(null===e||void 0===e?void 0:e.currentPostType)[0])||void 0===i?void 0:i.contentType:t=null===(a=f(null===e||void 0===e||null===(l=e.currentNewsfeedPost)||void 0===l?void 0:l.postTypeId)[0])||void 0===a?void 0:a.contentType;var p,h=u.getPostsOrderedBydate(null===e||void 0===e?void 0:e.newsfeedAllPosts.allPosts),m=d.Gj.pricing_model===b._n.SUBSCRIPTION_TYPE,g=parseInt(d.Gj.PAYMENT_TYPE,10)===b.O5.IN_APP_PAYMENT,x={};(null===e||void 0===e?void 0:e.newsfeedPostTypes)&&(null===e||void 0===e?void 0:e.newsfeedPostTypes.length)&&(null===e||void 0===e||null===(p=e.newsfeedPostTypes)||void 0===p||p.map((function(e){return x[e.id]=e})));var y,P,C,S=null===e||void 0===e?void 0:e.newsfeedAllPosts,T=S.postIds.filter((function(e){var n,o,t,i=null===S||void 0===S||null===(n=S.allPosts)||void 0===n?void 0:n[e],l=(null===(o=x[i.postTypeId])||void 0===o?void 0:o.contentType)===s.b3.PROMO;if((null===(t=x[null===i||void 0===i?void 0:i.postTypeId])||void 0===t?void 0:t.typeName)&&!l)return e})),I=(null===e||void 0===e||e.sharedIsUserLoggedIn,void console.log("getNavigationConfigs")),D=null===I||void 0===I?void 0:I.drawerConfig,N=null===D||void 0===D?void 0:D.isDrawerRequired;return{newsfeedData:(y={newsfeedFilteredIds:T,userLikesData:null===e||void 0===e?void 0:e.userLikesData,currentPostTypeId:null===e||void 0===e?void 0:e.currentPostType,newsfeedCategories:e.newsfeedCategories,newsfeedPosts:null===e||void 0===e?void 0:e.newsfeedAllPosts,newsfeedPost:null===e||void 0===e?void 0:e.currentNewsfeedPost,postsOrderByDate:h,newsfeedBookmarks:null===e||void 0===e?void 0:e.newsfeedBookmarks,newsfeedBookmarkPosts:null===e||void 0===e?void 0:e.newsfeedBookmarkPosts,newsfeedPostTypes:null===e||void 0===e?void 0:e.newsfeedPostTypes,newsfeedPostTypesById:x,newsfeedPromosPosts:null===e||void 0===e?void 0:e.newsfeedPromosPosts,currentNewsfeedCategoryId:null===e||void 0===e?void 0:e.currentNewsfeedCategoryId,newsfeedError:null===e||void 0===e?void 0:e.newsfeedNewError,sharedIsUserLoggedIn:null===e||void 0===e?void 0:e.sharedIsUserLoggedIn,sharedUserProfilePhoto:null===e||void 0===e?void 0:e.sharedUserProfilePhoto,isNewsfeedLikesEnabled:d.Gj.is_like_enabled,isNewsfeedCommentsEnabled:d.Gj.discussion_enabled_for_posts,isQrScannerEnabled:d.Gj.IS_QR_SCANNER_ENABLED,isFetchAllPostFailed:c,isFetchAllPostInProgress:v,currentPostContentType:t,questionContentSignedUrl:null===e||void 0===e?void 0:e.questionContentSignedUrl,questionExplanationShowFullImageWidth:d.Gj.SHOW_FULL_WIDTH_IMAGE_IN_TEST,currentNewsfeedTagIds:e.currentNewsfeedTagIds,tagsList:e.tagsList,sharedUserId:null===e||void 0===e?void 0:e.sharedUserId,sharedAuthToken:null===e||void 0===e?void 0:e.sharedAuthToken},P="newsfeedBookmarkPosts",C=null===e||void 0===e?void 0:e.newsfeedBookmarkPosts,P in y?Object.defineProperty(y,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[P]=C,y),embedPlayerData:{playerDataOfCurrentLesson:null===e||void 0===e?void 0:e.playerDataOfCurrentLesson,courseDetails:null===e||void 0===e?void 0:e.currentCourseDetails,hasAccessToPlay:null===e||void 0===e?void 0:e.hasAccessToPlay,currentLessonId:null===e||void 0===e?void 0:e.currentLessonId,currentCourseContentSignedUrl:null===e||void 0===e?void 0:e.currentCourseContentSignedUrl,commonProps:null===e||void 0===e?void 0:e.commonProps,callbacks:null===e||void 0===e?void 0:e.embeddedPlayerCallbacks},screenLabel:null===e||void 0===e||null===(n=e.route)||void 0===n||null===(o=n.params)||void 0===o?void 0:o.screenLabel,userSelectedDownloadDir:null===e||void 0===e?void 0:e.userSelectedDownloadDir,customerConfigData:d.Gj,appDisplayVersion:(0,k.j7)(),newsfeedFetchStatus:(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)===s.iF.FAILED?s.iF.FAILED:d.Gj.is_newsfeed_migrated&&((null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)!==s.iF.SUCCESS||(null===e||void 0===e?void 0:e.newsfeedState)!==r.PP.FETCH_PROMOS_POSTS&&(null===e||void 0===e?void 0:e.newsfeedState)!==r.PP.FETCH_ALL_POSTS&&(null===e||void 0===e?void 0:e.newsfeedState)!==r.PP.FETCH_POST_DETAIL)?s.iF.IN_PROGRESS:s.iF.SUCCESS,newsfeedBookmarkFetchStatus:(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)===s.iF.FAILED?s.iF.FAILED:(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)!==s.iF.IDLE&&(null===e||void 0===e?void 0:e.newsfeedNewFetchStatus)!==s.iF.SUCCESS||(null===e||void 0===e?void 0:e.newsfeedState)!==r.PP.INITIAL?s.iF.IN_PROGRESS:s.iF.SUCCESS,newsfeedPostFetchStatus:null===e||void 0===e?void 0:e.newsfeedPostFetchStatus,isSubscriptionMode:m,isInAppEnabled:g,isDrawerEnabled:N,footerData:(new j.v).constructFooterData()}}},S=o(41086),T=o(3120);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function D(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function N(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,n){return!n||"object"!==A(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function F(e,n){return(F=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function E(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return I(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=L(e);if(n){var i=L(this).constructor;o=Reflect.construct(t,arguments,i)}else o=t.apply(this,arguments);return O(this,o)}}function _(e){var n=function(n){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&F(e,n)}(a,n);var o,i,l,d=R(a);function a(e){var n,o,t,i,l;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(n=d.call(this,e)).getContentType=function(e){var o,t;if((null===(o=n.props)||void 0===o?void 0:o.newsfeedPostTypes)&&(null===(t=n.props)||void 0===t?void 0:t.newsfeedPostTypes.length)){var i,l=null===(i=n.props)||void 0===i?void 0:i.newsfeedPostTypes.filter((function(n){return n.id===e}));if(null===l||void 0===l?void 0:l.length)return l[0].contentType}},n.getPostTypeName=function(e){var o,t;if((null===(o=n.props)||void 0===o?void 0:o.newsfeedPostTypes)&&(null===(t=n.props)||void 0===t?void 0:t.newsfeedPostTypes.length)){var i,l=null===(i=n.props)||void 0===i?void 0:i.newsfeedPostTypes.filter((function(n){return n.id===e}));if(null===l||void 0===l?void 0:l.length)return l[0].typeName}},n.sharePost=P,n.updateBookmark=function(e){var o,t,i;console.log("called------------\x3e");var l,r,d=(0,S.RK)(e,null===(o=n.props)||void 0===o||null===(t=o.newsfeedBookmarks)||void 0===t?void 0:t.bookmarkIds);(null===(i=n.props)||void 0===i?void 0:i.sharedIsUserLoggedIn)?(null===(l=n.props)||void 0===l?void 0:l.newsfeedNewFetchStatus)!==s.iF.IN_PROGRESS&&(!0===d?n.deleteBookmark(null===(r=n.props)||void 0===r?void 0:r.newsfeedBookmarks.bookmarks[e].bookmarkId,e):n.addBookmark(e)):(0,T.At)(n.props.doSetPostSigninRoute)},n.addBookmark=function(e){var o;null===(o=n.props)||void 0===o||o.doAddNewsfeedBookmark(e)},n.deleteBookmark=function(e,o){var t;null===(t=n.props)||void 0===t||t.doDeleteNewsfeedBookmark(e,o)},n.onHandlePost=function(e){(0,T.rt)(e.slug)},n.setCurrentNewsfeedCategory=function(e){var o;null===(o=n.props)||void 0===o||o.doSetCurrentNewsfeedCategory(null!==e&&void 0!==e?e:null)},n.onHandleChangeCategory=function(e){var o,t,i,l,d;(null===(o=n.props)||void 0===o?void 0:o.newsfeedNewFetchStatus)!==s.iF.SUCCESS||(null===(t=n.props)||void 0===t?void 0:t.newsfeedState)!==r.PP.FETCH_PROMOS_POSTS&&(null===(i=n.props)||void 0===i?void 0:i.newsfeedState)!==r.PP.FETCH_ALL_POSTS&&(null===(l=n.props)||void 0===l?void 0:l.newsfeedState)!==r.PP.FETCH_POST_DETAIL||(e===(null===(d=n.props)||void 0===d?void 0:d.currentNewsfeedCategoryId)?n.setCurrentNewsfeedCategory(null):n.setCurrentNewsfeedCategory(e))},n.onHandleLoadMore=function(e,o,t,i){var l,r;(null===(l=n.props)||void 0===l?void 0:l.newsfeedNewFetchStatus)!==s.iF.IN_PROGRESS&&n.props.doFetchNewsfeedPosts(t,n.props.newsfeedState,e,null,i?b.i_.NEWSFEED:null,o,null===(r=n.props)||void 0===r?void 0:r.userSegmentId)},n.onHandleLoadMoreBookmarks=function(e){var o,t;(null===(o=n.props)||void 0===o?void 0:o.newsfeedNewFetchStatus)!==s.iF.IN_PROGRESS&&n.props.doFetchNewsfeedBookmarks(null===(t=n.props)||void 0===t?void 0:t.sharedIsUserLoggedIn,e,b.i_.NEWSFEED_BOOKMARKS)},n.goToTestPlayer=function(e,n){(0,T.lw)(e,n)},n.goToSignIn=function(){(0,T.At)(n.props.doSetPostSigninRoute)},n.goToTestReport=function(e,n,o){(0,T.PX)(e,n,o)},n.getNeswfeedPostData=function(e){var o;null===(o=n.props)||void 0===o||o.doFetchNewsfeedPost(e)},n.onHandleComments=function(e,o){var t;(null===(t=n.props)||void 0===t?void 0:t.sharedIsUserLoggedIn)?(0,T.hD)(e,o):(0,T.At)(n.props.doSetPostSigninRoute)},n.onHandleMenu=function(){var e,o;null===(e=n.props)||void 0===e||null===(o=e.navigation)||void 0===o||o.toggleDrawer()},n.fetchPostsByDateRange=function(e,o,t){var i,l;(null===(i=n.props)||void 0===i?void 0:i.newsfeedNewFetchStatus)!==s.iF.IN_PROGRESS&&n.props.doFetchNewsfeedPosts(null,n.props.newsfeedState,null,null,b.i_.NEWSFEED_POST_TYPES,t,null===(l=n.props)||void 0===l?void 0:l.userSegmentId,e,o)},n.onSubmitNewsfeedQuestionAnswer=function(e,o){var t;null===(t=n.props)||void 0===t||t.doAnswerNewsfeedQuestion(e,o)},n.onErrorRefresh=function(e,n){e?(0,T.NJ)(e,n):(0,T.nq)()},n.onHandleNewsfeedTag=function(e){n.props.doSetNewsfeedTag(e)},n.onHandleTagAndCategory=function(e,o){n.props.doSetNewsfeedTagAndCategory(e,o)},n.onLoadMoreBookmarks=function(e){n.props.doFetchNewsfeedBookmarks(n.props.sharedIsUserLoggedIn,e,n.props.navigationCurrentScreen,null)},n.onNavigateToBookMarks=function(){return n.props.sharedIsUserLoggedIn?(0,T.navigateToNewsfeedBookMarks)():(0,T.At)()},n.callbacks={onErrorRefresh:n.onErrorRefresh,goToCheckout:T.Hl,goToSubscription:T.hL,goToSupportTicket:T.cG,feeds:(l={onHandleBookmark:n.updateBookmark,onHandleLike:null===(o=n.props)||void 0===o||null===(t=o.userLikesCallbacks)||void 0===t?void 0:t.onHandleLike,onHandleShare:n.sharePost,onHandlePost:n.onHandlePost,onHandleLoadMore:n.onHandleLoadMore,onHandleQrCode:T.nn,onHandleChangeCategory:n.onHandleChangeCategory,goBack:T.n,navigateToSettings:T.qP,navigateToSignIn:T.At,getPostTypeName:n.getPostTypeName,goToLessonPlayer:T.sT,goToNewsfeedEmbedPlayer:T.f6,goToCourseDetails:T._7,goToNewsfeedPosts:T.NJ,onHandleLoadMoreBookmarks:n.onHandleLoadMoreBookmarks,goToNewsfeedPostDetails:function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];var i,l,s,r,d,a=null===(i=n.props)||void 0===i||null===(l=i.userLikesData)||void 0===l||null===(s=l.newsfeedLikes)||void 0===s||null===(r=s.likedPosts)||void 0===r||null===(d=r[null===o||void 0===o?void 0:o[0]])||void 0===d?void 0:d.likeId;T.rt.apply(void 0,E(o).concat([a]))},goToNewsfeedBookmarks:function(){(0,T.kT)()},goToNewsfeedLikes:function(){(0,T.Xz)()},goToStore:function(){(0,T.k4)()},goToCourseDetailsSections:T.E9,onHandleComment:n.onHandleComments,onHandleMenu:n.onHandleMenu,fetchPostsByDateRange:n.fetchPostsByDateRange,onSubmitNewsfeedQuestionAnswer:n.onSubmitNewsfeedQuestionAnswer,onHandleViewExplanation:T.pk,onViewExplanationLoad:null===(i=n.props)||void 0===i?void 0:i.doFetchQuizQuestionSignedUrl,onClearCache:n.props.doClearCache,replaceToSignIn:T.wW,navigateToNewsfeedBookMarks:n.onNavigateToBookMarks,onLoadMoreBookmarks:n.onLoadMoreBookmarks,onHandleTags:n.onHandleNewsfeedTag,onHandleTagAndCategory:n.onHandleTagAndCategory},N(l,"replaceToSignIn",(function(){return(0,T.wW)(n.props.doSetPostSigninRoute)})),N(l,"routerUrlReplace",T.nS),l),dailyQuiz:{goToTestPlayer:n.goToTestPlayer,goToTestReport:n.goToTestReport},video:{goToVideoViewAll:T.ev,getNewsfeedPostData:n.getNeswfeedPostData}},n.helpers=new w,n.newsfeedUtils=new C,n}return o=a,(i=[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){return(0,t.jsx)(e,{data:this.newsfeedUtils.constructData(this.props),callbacks:this.callbacks,helper:this.helpers,alertWidgetConfig:{navigationRoute:b.i_.SIGNIN},categoryWidgetConfig:{navigationRoute:b.i_.CATGORY_FILTERED_PRODUCTS,fetchType:{actionCreator:this.onHandleChangeCategory}},isScreenFocused:this.props.isScreenFocused})}}])&&D(o.prototype,i),l&&D(o,l),a}(i.Component);return(0,l.$)("selectNewsfeedCategories","selectNewsfeedAllPosts","selectNewsfeedBookmarks","selectNewsfeedBookmarkPosts","selectNewsfeedPostTypes","selectNewsfeedNewFetchStatus","selectCurrentNewsfeedPost","selectSharedIsUserLoggedIn","doAddNewsfeedBookmark","doDeleteNewsfeedBookmark","selectNewsfeedNewError","selectNewsfeedState","doFetchNewsfeedPosts","doFetchNewsfeedBookmarks","selectSharedUserProfilePhoto","selectNewsfeedPromosPosts","selectAttachmentData","selectSharedIsUserLoggedIn","selectUserSelectedDownloadDir","doResetAttachmentBundle","selectCurrentCourseDetails","selectCurrentCourseId","doFetchNewsfeedPost","doSetCurrentNewsfeedCategory","doFetchAllPostTypes","selectCurrentNewsfeedCategoryId","selectCurrentPostType","doFetchAllCategories","selectNavigationCurrentScreen","doFetchAllPromosPosts","selectUserSegmentId","doFetchNewsfeedPost","doAnswerNewsfeedQuestion","doFetchQuizQuestionSignedUrl","selectQuestionContentSignedUrl","doClearCache","selectCurrentCourseContentSignedUrl","selectCurrentLessonId","selectHasAccessToPlay","selectPlayerDataOfCurrentLesson","selectNewsfeedPostFetchStatus","selectCurrentNewsfeedTagIds","selectTagsList","doSetNewsfeedTag","doSetNewsfeedTagAndCategory","doSetPostSigninRoute","selectSharedUserId","selectSharedAuthToken",n)}},3120:function(e,n,o){"use strict";o.d(n,{qP:function(){return a},At:function(){return r},nn:function(){return s},n:function(){return l},lw:function(){return u},PX:function(){return x},ev:function(){return g},sT:function(){return v},Hl:function(){return y},E9:function(){return k},_7:function(){return f},hD:function(){return b},nq:function(){return j},NJ:function(){return p},rt:function(){return h},hL:function(){return w},f6:function(){return c},cG:function(){return P},pk:function(){return m},wW:function(){return d},kT:function(){return C},Xz:function(){return S},k4:function(){return T},nS:function(){return I}});var t=o(86677),i=o(53850),l=function(){},s=function(){},r=function(e){e&&e({href:{pathname:t.default.pathname,query:t.default.query},as:t.default.asPath}),t.default.push(i.y4.signin,i.XC.signin())},d=function(e){e&&e({href:{pathname:t.default.pathname,query:t.default.query},as:t.default.asPath}),t.default.replace(i.y4.signin,i.XC.signin())},a=function(){},u=function(e,n){t.default.push({pathname:i.y4.testPlayer,query:{id:e}},i.XC.testPlayer({id:e}))},c=function(e,n,o,l,s,r,d){t.default.replace({pathname:i.y4.lessonPlayer,query:{bundleId:0,courseId:n,courseType:s,sectionId:l,lessonId:o,embedPlayer:1,embedHeader:d,disableLessonChange:!0}},i.XC.lessonPlayer({lessonId:o,sectionId:l,productSeo:e,subProductSeo:null,embedPlayer:1,embedHeader:d,disableLessonChange:!0}),{shallow:!0})},v=function(e,n,o,l,s,r,d){t.default.replace({pathname:i.y4.lessonPlayer,query:{bundleId:0,courseId:n,courseType:s,lessonId:o,sectionId:l,template:d||0,disableLessonChange:!0}},i.XC.lessonPlayer({productSeo:e,lessonId:o,sectionId:l,subProductSeo:null,template:d||0,disableLessonChange:!0}),{shallow:!0})},f=function(e,n,o,t,i,l){},p=function(e,n,o){if(e&&n&&o){var l={postTypeId:e,currentContentTypeId:n,category:"all",postTypeTitle:o};t.default.push({pathname:i.y4.newsfeedPostType,query:l},i.XC.newsfeedPostType(l))}else t.default.push(i.y4.newsfeed)},h=function(e,n,o){i.y4.newsfeedDetails;var l={postDetails:JSON.stringify(n)},s=function(e,n,o){return{pathname:i.y4.newsfeedDetails,query:n,asPath:i.XC.newsfeedDetails({postId:e},o)}}(n.slug,l,o);i.XC.newsfeedDetails({postId:n.title});t.default.push({pathname:s.pathname,query:s.query},s.asPath)},m=function(e){},g=function(e){},x=function(e,n,o){t.default.push({pathname:i.y4.testResult,query:{id:e,retakeCount:n}},i.XC.testResult({id:e,retakeCount:n}))},y=function(e,n,o){t.default.push({pathname:i.y4.checkout,query:{courseId:e,priceId:0,returnToPost:o}},i.XC.checkout({courseId:e,priceId:0,returnToPost:o}))},w=function(){},k=function(e,n,o){},b=function(e,n){var o={postId:e,postSeo:n};t.default.push({pathname:i.y4.allDiscussion,query:o},i.XC.allDiscussion(o))},j=function(){window.location.reload(!0)},P=function(){},C=function(){t.default.push(i.y4.newsfeedBookmarks)},S=function(){t.default.push(i.y4.newsfeedLikes)},T=function(){t.default.push(i.y4.store,i.XC.store())},I=function(e){t.default.replace(e)}},58001:function(e,n,o){"use strict";o.d(n,{hn:function(){return Ee},F5:function(){return Ie},jO:function(){return ke},xO:function(){return he},d6:function(){return V}});var t=o(24246),i=o(27378),l=o(27693),s=o.n(l),r=o(87815),d=o.n(r),a=o(83461),u=o(72022),c=o(61320),v=o.n(c),f=o(21155),p=o(57209),h=o(27953),m=o(38423),g=o(21395),x=o(9078);s().extend(d());var y=function(e){var n,o,i,l,r,d=e.isBookmarked,a=e.onHandleBookmark,u=e.hasTemplating,c=e.schoolLogo,v=e.schoolName,p=e.onHandlePost,y=e.onHandleLike,w=e.isPostLiked,k=e.postTypeName,b=e.post,j=e.onHandleComments,P=e.showComment,C=void 0!==P&&P,S=e.showLike,T=void 0!==S&&S,I=(e.commentCount,e.likeFetchStatus),D=e.selectedLikeId,N=e.selectedBookmarkId,L=e.bookmarkFetchStatus,O=(e.likeCount,e.isPostTypesListingPage),F=e.postTypeId,E=(0,x.$)("newsfeed").t,A=(null===b||void 0===b?void 0:b.authorName)||v,R=(null===b||void 0===b?void 0:b.authorImage)||c,_=u?k:A,B=u?"":R,H=I===f.iF.IN_PROGRESS&&D===b.id,M=L===f.iF.IN_PROGRESS&&N===b.id,U=O?null===(o=null===(n=(0,g.Rp)("posts")[F||0])||void 0===n?void 0:n.content[0])||void 0===o?void 0:o.entity:null===(l=null===(i=(0,g.Rp)("feeds"))||void 0===i?void 0:i.content[0])||void 0===l?void 0:l.entity;switch((null===(r=(0,g.Ii)(U))||void 0===r?void 0:r.component)||"wideCard"){case g.sj.wideCard:return(0,t.jsx)(m.QA,{thumbnailProps:{imageSource:null===b||void 0===b?void 0:b.featuredImage,accessibilityLabel:null===b||void 0===b?void 0:b.title,aspectRatio:"1:1",resizeMode:"cover",shape:"rounded",noSourceImage:"letter"},title:null===b||void 0===b?void 0:b.title,bodyText:(null===b||void 0===b?void 0:b.summary)||"",capitalizeBodyText:!0,onClick:p});case g.sj.titleCard:return(0,t.jsx)(m.cS,{className:"newsfeedPostCard",showHeader:!0,showMedia:!0,showBody:!0,showActionbar:!0,showBookmark:!0,showAction1:T,showAction2:C,headerTitle:_||"",headerImage:B||"",headerSubtitle:(null===b||void 0===b?void 0:b.publishedAt)?s()(b.publishedAt).fromNow():"",bodyTitleNoOfLines:2,bodyDescriptionNoOfLines:2,bodyTitle:null===b||void 0===b?void 0:b.title,bodyDescription:(null===b||void 0===b?void 0:b.summary)||"",cardImage:null===b||void 0===b?void 0:b.featuredImage,thumbnailSize:"100%",onHandleCard:p,action1:{icon:w||!w&&H?h.q.heartFill:h.q.heart,onHandleIcon:H?function(){}:y,text:E("like"),iconStatus:w||!w&&H?"primary":"basic",keepAnimationStyles:H,className:"newsfeedPostCardLike",textCategory:"s2"},action2:{icon:h.q.message,onHandleIcon:j,text:E("comment")||"",className:"newsfeedPostCardComment",textCategory:"s2"},isBookmarked:d||!d&&M,handleBookmark:a,bookmarkActionClassName:"newsfeedPostCardBookmark",allocateSpaceForEmptyLines:!0});default:return(0,t.jsx)(m.QA,{thumbnailProps:{imageSource:null===b||void 0===b?void 0:b.featuredImage,accessibilityLabel:null===b||void 0===b?void 0:b.title,aspectRatio:"1:1",resizeMode:"cover",shape:"rounded",noSourceImage:"letter"},title:null===b||void 0===b?void 0:b.title,bodyText:(null===b||void 0===b?void 0:b.summary)||"",capitalizeBodyText:!0,onClick:p})}},w=o(45356),k=o(37740);var b=function(e){var n=e.authorImage,o=e.authorName,i=e.schoolLogo,l=e.schoolName,s=e.hideLabel,r=void 0!==s&&s,d=(0,x.$)("newsfeed").t;return(0,t.jsxs)(u.xu,{sx:{},children:[!r&&(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"h6",children:d("author")})}),(0,t.jsx)(k.H,{metaDataType:"none",listItemType:"one-line",supportedVisualAltText:o||l||"",primaryText:o||l||"",supportedVisualType:"avatar",supportedVisualSource:n||i||"",removeHPadding:!0,disableHover:!0,justifyTextContentCenter:!0})]})};function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function P(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return j(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e){var n,o=e.onHandleTags,l=e.selectedTagIds,s=e.tagsList,r=e.shouldUseApplyMech,d=(0,i.useState)([]),a=d[0],c=d[1];(0,i.useEffect)((function(){if(0===(null===a||void 0===a?void 0:a.length)&&l&&(null===l||void 0===l?void 0:l.length)>0){var e="string"===typeof l?JSON.parse(l):l;c(e)}}),[]);var v=r?a:l;return(0,t.jsxs)(u.xu,{pb:10,children:[(0,t.jsx)(u.xu,{pb:4,children:(0,t.jsx)(w.xv,{category:"h6",children:"Tags"})}),(0,t.jsx)(u.kC,{style:{flexWrap:"wrap"},sx:{columnGap:2,rowGap:2},children:(null===s||void 0===s?void 0:s.tagIds)&&(null===s||void 0===s||null===(n=s.tagIds)||void 0===n?void 0:n.map((function(e){var n,i,l;return(null===s||void 0===s||null===(n=s.tags)||void 0===n?void 0:n[e])?(0,t.jsx)(w.Vp,{title:(null===s||void 0===s||null===(i=s.tags)||void 0===i||null===(l=i[e])||void 0===l?void 0:l.title)||"",onSelect:function(){return function(e){var n=[];a.includes(e)?(n=a.filter((function(n){return n!==e})),c(n)):(n=P(a).concat([e]),c(n)),o((null===n||void 0===n?void 0:n.length)?JSON.stringify(n):null)}(e)},className:"newsfeedTagCard",isSelected:null===v||void 0===v?void 0:v.includes(e),isDynamic:!0},e):(0,t.jsx)(u.xu,{})})))})]})},S=o(75226),T=o(45121),I=o(71138);var D=function(){var e,n=window.location.href,o=(0,x.$)("common").t;return(0,t.jsxs)(u.xu,{mt:[0,8,8],css:{img:{minWidth:28,minHeight:28}},children:[(0,t.jsx)(u.xu,{pb:2,children:(0,t.jsx)(w.xv,{category:"label",children:null===(e=o("shareWith"))||void 0===e?void 0:e.toLocaleUpperCase()})}),(0,t.jsxs)(u.kC,{children:[(0,t.jsx)(u.xu,{children:(0,t.jsx)(S.Z,{url:n,children:(0,t.jsx)(w.Ee,{src:"/socialLinkImages/Facebook.png",width:28,height:28})})}),(0,t.jsx)(u.xu,{mx:2,children:(0,t.jsx)(T.Z,{url:n,children:(0,t.jsx)(w.Ee,{src:"/socialLinkImages/LinkedIn.png",width:28,height:28})})}),(0,t.jsx)(u.xu,{mx:0,children:(0,t.jsx)(I.Z,{url:n,children:(0,t.jsx)(w.Ee,{src:"/socialLinkImages/Twitter.png",width:28,height:28})})})]})]})},N=o(70149);s().extend(d());var L=function(e){var n,o,i,l,s,r,d=e.data,a=e.callbacks,c=(e.helper,e.resultsText,d.newsfeedData),v=(d.newsfeedFetchStatus,d.footerData,!!(null===e||void 0===e?void 0:e.isPostTypePage)),p=c.currentPostTypeId,m=null===(n=c.newsfeedPostTypesById[null===c||void 0===c?void 0:c.currentPostTypeId])||void 0===n?void 0:n.typeName,y=a.feeds,k=y.goToNewsfeedBookmarks,b=y.goToNewsfeedLikes,j=y.goToNewsfeedPosts,P=(0,x.$)(["newsfeed","common"]).t,C=(p?null===(o=(0,g.Rp)("posts")[p])||void 0===o||o.header:null===(i=(0,g.Rp)("feeds"))||void 0===i||i.header,[{title:P("common:newsfeed").toLocaleUpperCase(),onClick:j},{title:m}]);return(0,t.jsxs)(t.Fragment,{children:[!!v&&(0,t.jsx)(u.xu,{pt:10,children:(0,t.jsx)(w.Oo,{data:C,noOfLinesForLink:2})}),(0,t.jsxs)(u.kC,{mt:[4,8],mb:[3,7],px:[2,0,0],style:{alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)(w.xv,{category:["h5","h2"],children:v?m:(r=P("newsfeed"),r.charAt(0).toUpperCase()+r.slice(1))}),(0,t.jsxs)(u.kC,{style:{alignItems:"center",columnGap:8},children:[(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.newsfeedData)||void 0===s?void 0:s.isNewsfeedLikesEnabled)&&(0,t.jsxs)(u.xu,{id:"#newsfeedLikesPagelink",sx:{display:["none","none","flex"],alignItems:"flex-start",columnGap:1,cursor:"pointer"},mr:2,onClick:function(){return b()},children:[(0,t.jsx)(u.xu,{style:{width:"16px",height:"16px"},children:(0,t.jsx)(w.tv,{icon:h.q.heartFill,size:16})}),(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.rU,{status:"basic",onClick:function(){},textProps:{buttonFont:"medium"},type:"internal",children:P("viewLikes")})})]}),(0,t.jsxs)(u.xu,{id:"#newsfeedBookmarksPagelink",sx:{display:["none","none","flex"],alignItems:"flex-start",columnGap:1,cursor:"pointer"},onClick:function(){return k()},children:[(0,t.jsx)(u.xu,{style:{width:"16px",height:"16px"},children:(0,t.jsx)(w.tv,{icon:h.q.bookmarkFilled,size:16})}),(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.rU,{status:"basic",onClick:function(){},textProps:{buttonFont:"medium"},type:"internal",children:P("bookmark_plural")})})]}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},onClick:function(){return b()},children:(0,t.jsx)(u.xu,{style:{width:"24px",height:"24px"},children:(0,t.jsx)(w.tv,{icon:h.q.heartFill,size:24})})}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},onClick:function(){return k()},children:(0,t.jsx)(u.xu,{style:{width:"24px",height:"24px"},children:(0,t.jsx)(w.tv,{icon:h.q.bookmarkFilled,size:24})})}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"],position:"relative"},onClick:function(){e.openModal()},children:(0,t.jsx)(w.tv,{icon:h.q.filter,size:24})})]})]}),v?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)(u.xu,{style:{position:"relative",width:"100%"},px:16,children:[(0,t.jsx)(N.Z,{widgetType:f.eq.POST_TYPES_WIDGET,widgetCallbacks:a.widgetCallbacks,widgetData:d.widgetData}),(0,t.jsx)(N.Z,{widgetType:f.eq.PROMO_WIDGET,widgetCallbacks:a.widgetCallbacks,widgetData:d.widgetData})]})]})},O=o(55951);function F(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function E(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){F(e,n,o[n])}))}return e}var A=function(e){var n,o,l,s,r,d,a,c,h,k,b,j,P,C,S=e.data,T=e.callbacks,I=e.helper,D=e.resultsText,N=S.newsfeedData,F=S.newsfeedFetchStatus,A=S.footerData,R=T.feeds,_=I.getBookmarkedState,B=R.goToNewsfeedPostDetails,H=R.onHandleBookmark,M=R.onHandleLike,U=(R.goToNewsfeedBookmarks,R.goToNewsfeedLikes,(0,x.$)(["newsfeed","common"]).t),z=(0,i.useState)(0),q=z[0],Y=z[1],G=(0,i.useState)(0),W=G[0],V=G[1],Q=!!(null===e||void 0===e?void 0:e.isPostTypePage),$=(null===N||void 0===N||null===(n=N.newsfeedPosts)||void 0===n||n.sliderPosts,null===N||void 0===N||null===(o=N.newsfeedPosts)||void 0===o||o.sliderPostIds,null===N||void 0===N?void 0:N.currentPostTypeId),X=null===N||void 0===N||null===(l=N.newsfeedPosts)||void 0===l?void 0:l.postIds,Z=null===N||void 0===N?void 0:N.newsfeedPosts,J=Q?null===(r=null===(s=(0,g.Rp)("posts")[N.currentPostTypeId||0])||void 0===s?void 0:s.content[0])||void 0===r?void 0:r.organism:null===(a=null===(d=(0,g.Rp)("feeds"))||void 0===d?void 0:d.content[0])||void 0===a?void 0:a.organism,K="sectionList"===J,ee=[],ne=[],oe=!0,te=!1,ie=void 0;try{for(var le,se=X[Symbol.iterator]();!(oe=(le=se.next()).done);oe=!0){var re,de=le.value;if((null===Z||void 0===Z?void 0:Z.allPosts[de])&&Object.keys(null===Z||void 0===Z?void 0:Z.allPosts[de]).length&&!(null===Z||void 0===Z?void 0:Z.allPosts[de].pinned))break;(null===(re=null===Z||void 0===Z?void 0:Z.allPosts[de])||void 0===re?void 0:re.pinned)&&(ne.push(de),ee.push(null===Z||void 0===Z?void 0:Z.allPosts[de]))}}catch(Ce){te=!0,ie=Ce}finally{try{oe||null==se.return||se.return()}finally{if(te)throw ie}}var ae=(null===N||void 0===N||null===(c=N.newsfeedPosts)||void 0===c?void 0:c.summary.pageNumber)<(null===N||void 0===N||null===(h=N.newsfeedPosts)||void 0===h?void 0:h.summary.totalMatchedPages),ue=(null===(k=Object.keys(null===N||void 0===N?void 0:N.newsfeedPostTypesById))||void 0===k||k.length,F===f.iF.SUCCESS&&0===(null===N||void 0===N||null===(b=N.newsfeedFilteredIds)||void 0===b?void 0:b.length)),ce=F===f.iF.FAILED,ve=(F===f.iF.IDLE||F===f.iF.IN_PROGRESS)&&(null===N||void 0===N||null===(j=N.newsfeedFilteredIds)||void 0===j?void 0:j.length)>0,fe=function(e){return!!(!ae||e<N.newsfeedPosts.postIds.length)},pe=(0,O.fB)((function(e,n,o){M(e,n,o),Y(e)}),1e3),he=(0,O.fB)((function(e){H(e),function(e){V(e)}(e)}),1e3),me=(0,i.useCallback)((function(e,n){var o,i,l,s,r,d,a,c,v,f=e;if(!fe(n))return(0,t.jsxs)(u.xu,{children:[" ",(0,t.jsx)(w.aN,{})]});var p,h,m=null===N||void 0===N||null===(o=N.userLikesData)||void 0===o||null===(i=o.newsfeedLikes)||void 0===i?void 0:i.likedIds.includes(null===f||void 0===f?void 0:f.id),g=m?null===N||void 0===N||null===(l=N.userLikesData)||void 0===l||null===(s=l.newsfeedLikes)||void 0===s?void 0:s.likedPosts[null===f||void 0===f?void 0:f.id].likeId:null,x=null===(r=N.newsfeedPostTypesById[null===f||void 0===f?void 0:f.postTypeId])||void 0===r?void 0:r.typeName,k=_(null===f||void 0===f?void 0:f.id,null===N||void 0===N||null===(d=N.newsfeedBookmarks)||void 0===d?void 0:d.bookmarkIds),b=n===(null===N||void 0===N||null===(a=N.newsfeedFilteredIds)||void 0===a?void 0:a.length)-1;return(0,t.jsxs)(u.xu,{children:[(0,t.jsx)(y,{hasTemplating:!0,post:f,schoolLogo:A.schoolLogo,schoolName:A.name,postTypeName:x,postTypeId:null===f||void 0===f?void 0:f.postTypeId,isBookmarked:k,isPostLiked:m,onHandlePost:function(){B(f.id,f)},onHandleBookmark:function(){return he(f.id)},onHandleLike:function(){return pe(f.id,m,g)},showLike:null===N||void 0===N?void 0:N.isNewsfeedLikesEnabled,showComment:null===N||void 0===N?void 0:N.isNewsfeedCommentsEnabled,commentCount:(null!==(p=null===f||void 0===f?void 0:f.commentCount)&&void 0!==p?p:"").toString(),likeCount:(null!==(h=f.likeCount)&&void 0!==h?h:"").toString(),onHandleComments:function(){return R.onHandleComment(f.id,f.slug)},likeFetchStatus:null===S||void 0===S||null===(c=S.newsfeedData)||void 0===c||null===(v=c.userLikesData)||void 0===v?void 0:v.userLikesFetchStatus,bookmarkFetchStatus:null===S||void 0===S?void 0:S.newsfeedFetchStatus,selectedLikeId:q,selectedBookmarkId:W,isPostTypesListingPage:!!Q}),(0,t.jsx)(u.xu,{mt:[3,6],mb:[0,0,6],children:!b&&(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},children:(0,t.jsx)(w.iz,{})})})]},f.id)}),[N,null===N||void 0===N?void 0:N.newsfeedFilteredIds]),ge=function(e,n){var o,i,l=null===N||void 0===N||null===(o=N.newsfeedPosts)||void 0===o||null===(i=o.sliderPosts)||void 0===i?void 0:i[e];return!fe(n)?(0,t.jsx)(w.aN,{}):(0,t.jsx)(u.xu,{children:(0,t.jsx)(m.TB,{thumbnailProps:{imageSource:null===l||void 0===l?void 0:l.featuredImage,accessibilityLabel:null===l||void 0===l?void 0:l.title,width:"264px",aspectRatio:"1:1"},showTag:!1,title:null===l||void 0===l?void 0:l.title,subtitle:(null===l||void 0===l?void 0:l.summary)||"",onCardClick:function(){B(e,l)}},(null===l||void 0===l?void 0:l.id)||n)},null===l||void 0===l?void 0:l.id)},xe=function(e,n){var o,i,l=null===N||void 0===N||null===(o=N.newsfeedPosts)||void 0===o||null===(i=o.allPosts)||void 0===i?void 0:i[e];return!fe(n)?(0,t.jsx)(w.aN,{}):(0,t.jsx)(u.xu,{children:(0,t.jsx)(m.QA,{thumbnailProps:{imageSource:null===l||void 0===l?void 0:l.featuredImage,accessibilityLabel:null===l||void 0===l?void 0:l.title,aspectRatio:"1:1"},title:null===l||void 0===l?void 0:l.title,bodyText:(null===l||void 0===l?void 0:l.summary)||"",capitalizeBodyText:!0,onClick:function(){B(e,l)}})},null===l||void 0===l?void 0:l.id)},ye=(0,i.useCallback)((function(){return!ae&&N.newsfeedFilteredIds.length>0?(0,t.jsx)(u.kC,{style:{justifyContent:"center",alignItems:"center"},mb:6,children:(0,t.jsx)(w.xv,{category:"h6",children:U("caughtUp")})}):ue||ce||F===f.iF.FAILED||0===(null===N||void 0===N?void 0:N.newsfeedFilteredIds.length)&&F===(null===f.iF||void 0===f.iF?void 0:f.iF.SUCCESS)?(0,t.jsx)(u.xu,{}):(0,t.jsx)(u.xu,{className:"newsfeed-section-footer",style:{height:"200px",display:"flex",justifyContent:"center"},children:(0,t.jsx)(w.aN,{})})}),[ae,N.newsfeedFilteredIds.length,ve,ue,ce]),we=N.currentPostContentType===f.b3.VIDEO,ke=function(){var e,n;return!!(null===N||void 0===N||null===(e=N.newsfeedPosts)||void 0===e||null===(n=e.sliderPostIds)||void 0===n?void 0:n.length)&&(0,t.jsxs)(u.xu,{sx:{marginRight:2},children:[(0,t.jsx)(p.Z,{variant:"hCollection",contentData:[],hListItemWidth:"264px",itemData:N.newsfeedPosts.sliderPostIds,itemDataList:[N.newsfeedPosts.sliderPostIds],ListHeaderComponent:function(){return(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"h6",children:U("newsfeed:pinnedPosts")})})},renderItem:ge,multiRenderItems:[ge]}),(0,t.jsx)(u.xu,{my:4,children:(0,t.jsx)(w.xv,{category:"h6",children:U("newsfeed:latestVideos")})})]})},be=(null===N||void 0===N?void 0:N.currentNewsfeedCategoryId)?U("emptyFeedTitle"):U("nothingToExploreDesc"),je=(null===N||void 0===N?void 0:N.currentNewsfeedCategoryId)?U("emptyFeedTypeMessage"):U("nothingToExplore"),Pe=[];return null===N||void 0===N||null===(P=N.newsfeedPosts)||void 0===P||null===(C=P.postIds)||void 0===C||C.forEach((function(e){var n;if(null===(n=N.newsfeedFilteredIds)||void 0===n?void 0:n.includes(e)){var o,t,i,l=null===N||void 0===N||null===(o=N.newsfeedPosts)||void 0===o?void 0:o.allPosts[e];if(K)(null===(i=null===N||void 0===N||null===(t=N.newsfeedPosts)||void 0===t?void 0:t.allPosts[e])||void 0===i?void 0:i.pinned)||Pe.push(l);else Pe.push(l)}})),(0,t.jsxs)(u.xu,{sx:{display:"flex",flex:1,flexDirection:"column",width:"100%",height:"100%",borderRightWidth:[0,0,1],borderRightStyle:"solid",borderRightColor:"background-basic-color-4"},pr:[0,0,4],mx:"auto",children:[(0,t.jsx)(L,E({},e)),!ce&&(0,t.jsx)(u.xu,{children:(0,t.jsx)(p.Z,{variant:J||"list",sectionKey:"publishedAt",sectionSorting:{isDate:!0},contentData:[{}],itemData:Pe,itemDataList:[Pe],infiniteLoaderProps:{loadMoreItems:function(){var e;(null===S||void 0===S?void 0:S.newsfeedFetchStatus)!==f.iF.IN_PROGRESS&&(ae&&(null===R||void 0===R||R.onHandleLoadMore((null===N||void 0===N||null===(e=N.newsfeedPosts)||void 0===e?void 0:e.summary.pageNumber)+1,$,null===N||void 0===N?void 0:N.currentNewsfeedCategoryId)))},itemCount:N.newsfeedPosts.summary.totalMatchedRecords||0,isItemLoaded:fe,hasNextPage:ae,isInfiniteLoaderLoading:ve},renderItem:me,multiRenderItems:[me],ListHeaderComponent:function(){return(0,t.jsxs)(t.Fragment,{children:[!!D&&(0,t.jsx)(u.xu,{mb:4,mt:0,children:(0,t.jsx)(w.xv,{category:"h6",children:D})}),we&&Q&&ke(),K&&!!(null===ne||void 0===ne?void 0:ne.length)&&(0,t.jsxs)(u.xu,{sx:{marginRight:2},children:[(0,t.jsx)(p.Z,{variant:"hCollection",contentData:[],hListItemWidth:"264px",itemData:ne,itemDataList:[ne],ListHeaderComponent:function(){return(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"h6",children:U("newsfeed:pinnedPosts")})})},renderItem:xe,multiRenderItems:[xe]}),(0,t.jsx)(u.xu,{my:4,children:(0,t.jsx)(w.xv,{category:"h6",children:U("newsfeed:latestVideos")})})]})]})},ListFooterComponent:ye,SectionHeaderComponent:function(e){var n=e.sectionName;return(0,t.jsx)(u.xu,{my:2,children:(0,t.jsx)(w.xv,{category:"s2",children:v()(n).calendar(Date.now(),{lastDay:"[Yesterday]",sameDay:"[Today]",nextWeek:"DD MMM YYYY",lastWeek:"DD MMM YYYY",sameElse:"DD MMM YYYY"})})})}})}),ue&&(0,t.jsx)(m.T9,{title:be,subtitle:je}),ce&&(0,t.jsx)(m.qz,{title:U("common:crashError")})]})},R=o(55344);function _(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function B(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){_(e,n,o[n])}))}return e}function H(e){var n,o,l,s=e.closeModal,r=void 0===s?function(){return!1}:s,d=(e.onHandleTagForSideList,e.widgetCallbacks),a=e.widgetData,c=e.onHandleTags,v=e.onHandleTagAndCategory,p=e.tagsList,m=e.currentNewsfeedCategoryId,g=e.currentNewsfeedTagIds,y=e.footerData,k=e.calendarViewProps,b=e.isCalendarView,j=e.showCategoryWidget,P=e.showTagsList,S=(0,x.$)(["newsfeed","common"]).t,T=((null===(n=document.querySelector("#__next"))||void 0===n?void 0:n.clientWidth)||0)<=936,I=[2,4,6],D=(null===p||void 0===p||null===(o=p.tagIds)||void 0===o?void 0:o.length)>0,L=(0,i.useState)({}),O=L[0],F=L[1],E=(0,i.useState)(null),A=E[0],_=E[1];(0,i.useEffect)((function(){T&&(m&&O!==m&&F({item:{id:m}}),A!==g&&_(g))}),[T,g,m]);return T&&(null===d||void 0===d?void 0:d.CATEGORY_WIDGET)&&(d.CATEGORY_WIDGET.onHandleCategoryForApplyMech=function(e,n){var o,t;(null===n||void 0===n||null===(o=n.item)||void 0===o?void 0:o.id)===(null===O||void 0===O||null===(t=O.item)||void 0===t?void 0:t.id)?F({item:{id:null}}):F(B({},n))}),(0,t.jsxs)(u.xu,{pb:12,mb:12,children:[(0,t.jsxs)(u.kC,{style:{alignItems:"center",justifyContent:"space-between"},sx:{display:["flex","flex","none"]},children:[(0,t.jsx)(u.xu,{onClick:r,children:(0,t.jsx)(w.tv,{icon:h.q.close,size:24})}),(0,t.jsx)(u.kC,{style:{alignItems:"center"},children:(0,t.jsx)(w.xv,{category:"h6",children:S("filter")})}),(0,t.jsx)(u.xu,{sx:{display:["none","none","block"]}}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},children:(0,t.jsx)(w.zx,{size:"tiny",onClick:function(){return function(){var e;T&&(v(null===O||void 0===O||null===(e=O.item)||void 0===e?void 0:e.id,A),r())}()},children:S("common:apply")})})]}),!!b&&(0,t.jsx)(u.xu,{m:4,children:(0,t.jsx)(w.aj,{textfieldProps:{label:S("jumpToDate"),required:!1,captionIcon:void 0,captionText:void 0,state:void 0,value:null===k||void 0===k?void 0:k.date},value:null===k||void 0===k?void 0:k.date,state:void 0,onChange:function(e){null===k||void 0===k||k.setDate(e),r()},maxDate:Date()})}),(0,t.jsx)(u.xu,{pl:I,mt:[8,8,10],children:(0,t.jsx)(t.Fragment,{children:!!j&&(0,t.jsx)(N.Z,{widgetType:f.eq.CATEGORY_WIDGET,widgetCallbacks:d,widgetData:a,widgetDataParams:{CATEGORY_WIDGET:{action_type:f.wZ.FETCH_ACTION,filter:"newsfeed"}},pageData:{hasDivider:!0,CATEGORY_WIDGET:{action_type:f.wZ.FETCH_ACTION,shouldUseApplyMech:T}}})})}),D&&P&&(null===p||void 0===p||null===(l=p.tagIds)||void 0===l?void 0:l.length)>0&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(u.xu,{pl:I,children:[(0,t.jsx)(C,{onHandleTags:function(e){T?_(e):c(e)},tagsList:p,selectedTagIds:g,shouldUseApplyMech:T}),(0,t.jsx)(u.xu,{pb:8,children:(0,t.jsx)(w.iz,{})})]})}),(0,t.jsx)(u.xu,{pl:I,children:(0,t.jsx)(R.ZW,B({},y))})]})}var M=i.memo(H,(function(e,n){var o,t,i,l,s,r,d,a,u,c,v,f,p,h,m,g;return(null===e||void 0===e||null===(o=e.tagsList)||void 0===o||null===(t=o.tagIds)||void 0===t?void 0:t.length)===(null===n||void 0===n||null===(i=n.tagsList)||void 0===i||null===(l=i.tagIds)||void 0===l?void 0:l.length)&&((null===e||void 0===e?void 0:e.currentNewsfeedTagIds)===(null===n||void 0===n?void 0:n.currentNewsfeedTagIds)&&((null===e||void 0===e?void 0:e.currentNewsfeedCategoryId)===(null===n||void 0===n?void 0:n.currentNewsfeedCategoryId)&&((null===e||void 0===e||null===(s=e.widgetData)||void 0===s||null===(r=s.CATEGORY_WIDGET)||void 0===r?void 0:r.currentNewsfeedCategoryId)===(null===n||void 0===n||null===(d=n.widgetData)||void 0===d||null===(a=d.CATEGORY_WIDGET)||void 0===a?void 0:a.currentNewsfeedCategoryId)&&((null===e||void 0===e||null===(u=e.widgetData)||void 0===u||null===(c=u.CATEGORY_WIDGET)||void 0===c||null===(v=c.categoriesData)||void 0===v?void 0:v.length)===(null===n||void 0===n||null===(f=n.widgetData)||void 0===f||null===(p=f.CATEGORY_WIDGET)||void 0===p||null===(h=p.categoriesData)||void 0===h?void 0:h.length)&&(e.isCalendarView===n.isCalendarView&&(null===(m=e.calendarViewProps)||void 0===m?void 0:m.date)===(null===(g=n.calendarViewProps)||void 0===g?void 0:g.date))))))})),U=o(61403),z=o.n(U);function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function Y(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function G(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){Y(e,n,o[n])}))}return e}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,i,l=[],s=!0,r=!1;try{for(o=o.call(e);!(s=(t=o.next()).done)&&(l.push(t.value),!n||l.length!==n);s=!0);}catch(d){r=!0,i=d}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return q(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s().extend(d()),z().setAppElement("#__next");var V=function(e){var n,o,l,s,r,d,c,v,p,h,m,y,w,k,b,j,P,C,S,T,I,D,N,L,O,F,E,R,_,B,H,U,q,Y,V,Q,$,X=(0,x.$)("newsfeed").t,Z=(0,a.B7)().theme,J={content:{top:0,left:0,right:0,bottom:0,marginRight:0,marginLeft:"auto",backgroundColor:null===(n=Z.rawColors)||void 0===n?void 0:n["background-basic-color-2"],width:(null===window||void 0===window?void 0:window.innerWidth)>550?"40%":"80%"},overlay:{backgroundColor:"rgba(128, 128, 128, 0.25)",tranisition:"all 0.2s ease-in-out"}},K=e.data,ee=null===K||void 0===K?void 0:K.newsfeedData,ne=(ee.currentPostContentType,ee.currentPostTypeId),oe=null===(s=null===(l=(0,g.Rp)("posts")[(null===(o=e.data)||void 0===o?void 0:o.newsfeedData.currentPostTypeId)||0])||void 0===l?void 0:l.content[0])||void 0===s?void 0:s.organism,te=ne?null===(r=(0,g.Rp)("posts")[ne])||void 0===r?void 0:r.header:null===(d=(0,g.Rp)("feeds"))||void 0===d?void 0:d.header,ie="calendarView"===oe,le=null===te||void 0===te||null===(c=te.order)||void 0===c?void 0:c.includes("categories_newsfeed_variant"),se=!ie,re=W(i.useState(!1),2),de=re[0],ae=re[1],ue=function(){ae(!1)},ce=function(n){var o,t;null===e||void 0===e||null===(o=e.callbacks)||void 0===o||null===(t=o.feeds)||void 0===t||t.onHandleTags(n)},ve="",fe=null===e||void 0===e||null===(v=e.data)||void 0===v||null===(p=v.newsfeedData)||void 0===p?void 0:p.currentNewsfeedCategoryId,pe=null===e||void 0===e||null===(h=e.data)||void 0===h||null===(m=h.newsfeedData)||void 0===m?void 0:m.currentNewsfeedTagIds;if(fe||pe){var he,me,ge,xe,ye,we,ke,be,je,Pe,Ce,Se,Te,Ie,De="",Ne="";if(fe)De=(null===(ye=null===e||void 0===e||null===(he=e.data)||void 0===he||null===(me=he.widgetData)||void 0===me||null===(ge=me.CATEGORY_WIDGET)||void 0===ge||null===(xe=ge.categoriesData)||void 0===xe?void 0:xe.filter((function(e){return e.id===fe})))||void 0===ye||null===(we=ye[0])||void 0===we?void 0:we.categoryName)||"";if(pe)JSON.parse(pe).forEach((function(n){var o,t,i,l;Ne=Ne+(Ne||De?" , ":"")+(null===(l=null===e||void 0===e||null===(o=e.data)||void 0===o||null===(t=o.newsfeedData)||void 0===t||null===(i=t.tagsList)||void 0===i?void 0:i.tags[n])||void 0===l?void 0:l.title)||""}));if(De||Ne)ve+=De,ve=X("showingResults",{filters:ve+=Ne,number:null===e||void 0===e||null===(ke=e.data)||void 0===ke||null===(be=ke.newsfeedData)||void 0===be||null===(je=be.newsfeedPosts)||void 0===je||null===(Pe=je.summary)||void 0===Pe?void 0:Pe.totalMatchedRecords}),(null===e||void 0===e||null===(Ce=e.data)||void 0===Ce?void 0:Ce.newsfeedFetchStatus)!==(null===f.iF||void 0===f.iF?void 0:f.iF.FAILED)&&0!==(null===e||void 0===e||null===(Se=e.data)||void 0===Se||null===(Te=Se.newsfeedData)||void 0===Te||null===(Ie=Te.newsfeedFilteredIds)||void 0===Ie?void 0:Ie.length)||(ve="")}return(0,t.jsx)(u.xu,{css:{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{width:0,height:0,opacity:0}},style:{maxHeight:"100vh",overflowY:"scroll",flex:1,justifyContent:"center"},children:(0,t.jsxs)(u.rj,{style:{justifyContent:"center",flex:1},sx:{gridTemplateColumns:["100%","93%","2fr 1fr"],maxWidth:Z.componentConfiguration.layoutStyles.maxWidth,alignItems:"flex-start",justifyContent:"flex-start",justifyItems:"flex-start"},mx:"auto",gap:0,children:[(0,t.jsx)(A,G({},e,{openModal:function(){ae(!0)},resultsText:ve})),(0,t.jsx)(z(),{isOpen:de,onRequestClose:ue,style:J,contentLabel:X("newsfeed"),shouldCloseOnOverlayClick:!0,children:(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},children:(0,t.jsx)(M,{currentNewsfeedCategoryId:null===e||void 0===e||null===(y=e.data)||void 0===y||null===(w=y.newsfeedData)||void 0===w?void 0:w.currentNewsfeedCategoryId,currentNewsfeedTagIds:null===e||void 0===e||null===(k=e.data)||void 0===k||null===(b=k.newsfeedData)||void 0===b?void 0:b.currentNewsfeedTagIds,footerData:null===e||void 0===e||null===(j=e.data)||void 0===j?void 0:j.footerData,onHandleTagAndCategory:null===e||void 0===e||null===(P=e.callbacks)||void 0===P||null===(C=P.feeds)||void 0===C?void 0:C.onHandleTagAndCategory,onHandleTags:null===e||void 0===e||null===(S=e.callbacks)||void 0===S||null===(T=S.feeds)||void 0===T?void 0:T.onHandleTags,tagsList:null===e||void 0===e||null===(I=e.data)||void 0===I||null===(D=I.newsfeedData)||void 0===D?void 0:D.tagsList,widgetData:null===e||void 0===e||null===(N=e.data)||void 0===N?void 0:N.widgetData,widgetCallbacks:null===e||void 0===e||null===(L=e.callbacks)||void 0===L?void 0:L.widgetCallbacks,calendarViewProps:null===e||void 0===e?void 0:e.calendarViewProps,isCalendarView:ie,closeModal:ue,onHandleTagForSideList:ce,showCategoryWidget:le,showTagsList:se})})}),(0,t.jsx)(u.xu,{sx:{display:["none","none","block"],flex:1,position:"sticky",top:0,overflowY:"auto",width:"100%",maxHeight:"100vh","&::-webkit-scrollbar":{width:0,height:0,opacity:.5}},children:(0,t.jsx)(M,{currentNewsfeedCategoryId:null===e||void 0===e||null===(O=e.data)||void 0===O||null===(F=O.newsfeedData)||void 0===F?void 0:F.currentNewsfeedCategoryId,currentNewsfeedTagIds:null===e||void 0===e||null===(E=e.data)||void 0===E||null===(R=E.newsfeedData)||void 0===R?void 0:R.currentNewsfeedTagIds,footerData:null===e||void 0===e||null===(_=e.data)||void 0===_?void 0:_.footerData,onHandleTagAndCategory:null===e||void 0===e||null===(B=e.callbacks)||void 0===B||null===(H=B.feeds)||void 0===H?void 0:H.onHandleTagAndCategory,onHandleTags:null===e||void 0===e||null===(U=e.callbacks)||void 0===U||null===(q=U.feeds)||void 0===q?void 0:q.onHandleTags,tagsList:null===e||void 0===e||null===(Y=e.data)||void 0===Y||null===(V=Y.newsfeedData)||void 0===V?void 0:V.tagsList,widgetData:null===e||void 0===e||null===(Q=e.data)||void 0===Q?void 0:Q.widgetData,widgetCallbacks:null===e||void 0===e||null===($=e.callbacks)||void 0===$?void 0:$.widgetCallbacks,closeModal:ue,onHandleTagForSideList:ce,calendarViewProps:null===e||void 0===e?void 0:e.calendarViewProps,isCalendarView:ie,showCategoryWidget:le,showTagsList:se})})]})})},Q=o(38398);s().extend(d());var $=function(e){var n,o,i,l,r=e.data,d=e.callbacks,a=(e.helper,r.newsfeedData),c=r.footerData,v=a.newsfeedPost,f=(a.newsfeedPostTypesById,d.feeds),p=v.postContentType,m=v.postTypeId,g=v.postTypeName,y=(f.onHandleBookmark,f.goToNewsfeedPosts),k=(0,x.$)("common").t,j=Q.b3.QUESTION_TYPE!==p,P=[{title:k("common:newsfeed").toLocaleUpperCase(),onClick:y},{title:g.toLocaleUpperCase(),onClick:function(){y(m,p,g)}},{title:null===(n=v.title)||void 0===n?void 0:n.toLocaleUpperCase()}],C=null===(o=s()(null===v||void 0===v?void 0:v.publishedAt))||void 0===o?void 0:o.fromNow();return a.currentPostContentType===Q.b3.VIDEO?(0,t.jsx)(w.aN,{}):(console.log("post header : ",null===v||void 0===v?void 0:v.categories),(0,t.jsxs)(u.xu,{pt:10,children:[(0,t.jsxs)(u.kC,{style:{alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)(w.Oo,{data:P,noOfLinesForLink:2}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"],position:"relative"},onClick:function(){e.openModal()},children:(0,t.jsx)(w.tv,{icon:h.q.filter,size:24})})]}),!!j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.xu,{mt:7,mb:[3,5,5],sx:{width:"100%"},children:(0,t.jsx)(w.pl,{aspectRatio:"16:9",imageSource:null===v||void 0===v?void 0:v.featuredImage,accessibilityLabel:null===v||void 0===v?void 0:v.title,resizeMode:"cover",disableHover:!0})}),(0,t.jsxs)(u.xu,{mb:[2,2,6],children:[(0,t.jsxs)(u.kC,{style:{flexDirection:"column"},children:[(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"h4",children:(null===v||void 0===v?void 0:v.title)||""})}),(0,t.jsxs)(u.kC,{mb:2,mt:1,style:{flexWrap:"wrap"},sx:{gap:2},children:[(null===v||void 0===v?void 0:v.categories)&&(null===v||void 0===v||null===(i=v.categories)||void 0===i?void 0:i.length)?null===v||void 0===v||null===(l=v.categories)||void 0===l?void 0:l.map((function(e){var n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.xv,{category:"c2",children:["#",(null===e||void 0===e||null===(n=e.categoryName)||void 0===n?void 0:n.toLocaleUpperCase())||""]}),(0,t.jsx)(w.xv,{category:"c2",children:"\u2022"})]})})):"",(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"c2",children:C||""})})]})]}),(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},pt:2,children:(0,t.jsx)(b,{authorImage:(null===v||void 0===v?void 0:v.authorImage)||"",authorName:(null===v||void 0===v?void 0:v.authorName)||"",schoolLogo:null===c||void 0===c?void 0:c.schoolLogo,schoolName:null===c||void 0===c?void 0:c.name,hideLabel:!0})})]}),(0,t.jsx)(w.iz,{})]})]}))};var X=function(e){var n=e.newsfeedPost;return(0,t.jsx)(u.xu,{mb:[4,8],mt:6,dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.publishedContent},sx:{"& .inline-content *":{display:"inline"},"& .inline-content figure":{m:0},color:"text-basic-color-2",fontSize:"newsfeed-post",lineHeight:"1.5em",fontFamily:"newsfeed-post",letterSpacing:"0.01em",a:{color:"link","&:hover":{textDecorationLine:"underline"}},iframe:{maxWidth:["100%"]},table:{borderCollapse:"collapse",width:"100% !important"},"td, th":{borderWidth:1,borderStyle:"solid",borderColor:"border",textAlign:"left",wordWrap:"break-word",padding:[2]},img:{maxWidth:["100%"]}}})},Z=o(75721),J=function(e){var n,o,i,l,s,r,d,a,c,v,p,h,m,g,y,k,b,j,P,C,S,T,I,D,N,L=e.onHandleTakeTestButton,O=e.openResult,F=e.contentDetails,E=(0,x.$)(["common","product","newsfeed"]).t,A=null===F||void 0===F?void 0:F.quizzes,R=null===F||void 0===F||null===(n=F.quizzes)||void 0===n?void 0:n.userQuizData,_=(0,Z.V)(["c1","h4"]),B=(0,Z.V)(["tiny","small"]),H=(null===A||void 0===A||null===(o=A.userQuizData)||void 0===o?void 0:o.length)>=2&&(null===A||void 0===A?void 0:A.userQuizData[1]),M=(null===A||void 0===A||null===(i=A.userQuizData)||void 0===i?void 0:i.length)>=1&&(null===A||void 0===A?void 0:A.userQuizData[0]),U=E("newsfeed:question",{count:null===A||void 0===A?void 0:A.qcount}),z=E("newsfeed:marks",{marks:Math.floor(parseInt(null!==(T=null===A||void 0===A?void 0:A.marks)&&void 0!==T?T:"0",10))}),q=E("newsfeed:duration",{duration:null===A||void 0===A?void 0:A.duration}),Y=function(e){return e===f.t6.SUBMITTED?E("newsfeed:youHaveScored"):E("newsfeed:lastAttemptNotSubmitted")},G=function(e){return E("newsfeed:score",{score:Math.floor(parseInt(e,10)).toString(),marks:Math.floor(parseInt(null!==(I=null===A||void 0===A?void 0:A.marks)&&void 0!==I?I:"0",10)).toString()})},W=(null===A||void 0===A||null===(l=A.userQuizData)||void 0===l?void 0:l.length)>=2?(D=null===(s=R[1])||void 0===s?void 0:s.retakes,N=!1,(null===A||void 0===A?void 0:A.maxRetakes)?N?E("product:firstAttempt"):E("newsfeed:latestAttemptMaxDesc",{retake:D,maxretake:A.maxRetakes}):N?E("product:firstAttempt"):E("newsfeed:latestAttemptDesc",{retake:D})):"",V=function(e,n,o,i){var l=!0;return n&&(l=o<n),o===n&&i!==f.t6.SUBMITTED&&(l=!0),l?(0,t.jsx)(w.zx,{variant:"primary",size:"small",onClick:L,children:e?E("newsfeed:continueTest").toUpperCase():E("product:retakeTest").toUpperCase()}):(0,t.jsx)(t.Fragment,{})},Q=(null===A||void 0===A||null===(r=A.userQuizData)||void 0===r?void 0:r.length)>=2?(0,t.jsx)(u.Zb,{variant:"reportCard",mb:[4,0],sx:{flexGrow:1,maxWidth:["100%","49%"]},children:(0,t.jsxs)(u.xu,{p:[2,4],children:[(0,t.jsx)(u.kC,{style:{flex:1},mb:[0,3],children:(0,t.jsxs)(u.xu,{style:{flex:1},mb:4,children:[(0,t.jsx)(w.xv,{category:"s1",noOfLines:1,children:W}),(0,t.jsx)(w.xv,{category:"p2",noOfLines:1,style:{marginBottom:8},children:Y(null===(d=R[1])||void 0===d?void 0:d.status)}),(0,t.jsx)(w.iz,{}),(0,t.jsx)(u.kC,{sx:{justifyContent:"center"},children:(null===H||void 0===H?void 0:H.qnEvalPending)?(0,t.jsx)(w.xv,{category:_,textTransform:"capitalize",alignment:"center",children:E("product:underEvaluation")}):(0,t.jsx)(w.xv,{category:_,style:{marginTop:8},alignment:"center",children:(null===(a=R[1])||void 0===a?void 0:a.status)===f.t6.IN_PROGRESS?E("product:inProgress"):G(null===(c=R[1])||void 0===c?void 0:c.score)})})]})}),(0,t.jsx)(u.xu,{sx:{},children:(0,t.jsxs)(u.kC,{sx:{justifyContent:"center"},children:[(null===(v=R[1])||void 0===v?void 0:v.status)!==f.t6.IN_PROGRESS&&(0,t.jsx)(w.zx,{onClick:function(){return O(f.Xm.LATEST)},variant:"primary",type:"outline",size:B,children:E("product:viewResult").toUpperCase(),sx:{marginRight:2}}),(0,t.jsxs)(u.xu,{sx:{marginLeft:2},children:[V((null===(p=R[1])||void 0===p?void 0:p.status)===f.t6.IN_PROGRESS,null===A||void 0===A?void 0:A.maxRetakes,null===(h=R[1])||void 0===h?void 0:h.retakes,null===(m=R[1])||void 0===m?void 0:m.status),(0,t.jsx)(u.xu,{})]})]})})]})}):(0,t.jsx)(t.Fragment,{}),$=(null===A||void 0===A||null===(g=A.userQuizData)||void 0===g?void 0:g.length)>=1?(0,t.jsx)(u.Zb,{variant:"reportCard",sx:{flex:1,flexGrow:1,maxWidth:["100%","49%"]},children:(0,t.jsxs)(u.xu,{p:[2,4],children:[(0,t.jsx)(u.kC,{style:{flex:1},mb:[0,3],children:(0,t.jsxs)(u.xu,{style:{flex:1},mb:4,children:[(0,t.jsx)(w.xv,{category:"s1",noOfLines:1,children:E("product:firstAttempt")}),(0,t.jsx)(w.xv,{category:"p2",noOfLines:1,style:{marginBottom:8},children:Y(null===(y=R[0])||void 0===y?void 0:y.status)}),(0,t.jsx)(w.iz,{}),(0,t.jsx)(u.kC,{sx:{justifyContent:"center"},children:(null===M||void 0===M?void 0:M.qnEvalPending)?(0,t.jsx)(w.xv,{category:_,textTransform:"capitalize",alignment:"center",children:E("product:underEvaluation")}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(w.xv,{category:_,alignment:"center",style:{marginTop:8},children:(null===(k=R[0])||void 0===k?void 0:k.status)===f.t6.IN_PROGRESS?E("product:inProgress"):G(null===(b=R[0])||void 0===b?void 0:b.score)})})})]})}),(0,t.jsx)(u.xu,{sx:{},children:(0,t.jsxs)(u.kC,{style:{justifyContent:"center"},children:[(null===(j=R[0])||void 0===j?void 0:j.status)!==f.t6.IN_PROGRESS&&(0,t.jsx)(w.zx,{onClick:function(){return O(f.Xm.FIRST)},variant:"primary",type:"outline",size:B,children:E("product:viewResult").toUpperCase()}),R.length<=1&&(0,t.jsxs)(u.xu,{sx:{marginLeft:2},children:[V((null===(P=R[0])||void 0===P?void 0:P.status)===f.t6.IN_PROGRESS,null===A||void 0===A?void 0:A.maxRetakes,null===(C=R[0])||void 0===C?void 0:C.retakes,null===(S=R[0])||void 0===S?void 0:S.status),(0,t.jsx)(u.xu,{})]})]})})]})}):(0,t.jsx)(t.Fragment,{});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.kC,{mt:4,sx:{flex:1,alignItems:"space-between"},children:[(0,t.jsxs)(u.kC,{sx:{flex:1,alignItems:"center"},children:[(0,t.jsx)(w.xv,{category:"s1",children:U}),(0,t.jsx)(w.xv,{style:{alignSelf:"center"},category:["c1","s1"],children:"\xa0\u2022\xa0"}),(0,t.jsx)(w.xv,{category:"s1",children:z}),!!(null===A||void 0===A?void 0:A.duration)&&(0,t.jsx)(w.xv,{style:{alignSelf:"center"},category:["c1","s1"],children:"\xa0\u2022\xa0"}),!!(null===A||void 0===A?void 0:A.duration)&&(0,t.jsx)(w.xv,{category:"s1",children:q})]}),!(null===R||void 0===R?void 0:R.length)&&A&&(0,t.jsx)(w.zx,{variant:"primary",size:"small",onClick:L,children:E("newsfeed:takeQuiz").toUpperCase()})]}),(0,t.jsx)(u.kC,{py:[1,6],px:[1,2],sx:{overflow:["scroll","hidden"],flexDirection:"column",justifyContent:"space-between"},children:(0,t.jsxs)(u.xu,{mt:[2,0,0],pt:4,sx:{justifyContent:2===(null===R||void 0===R?void 0:R.length)?"space-between":"center",alignItems:"center",flex:1,display:["block","flex"],"&:empty":{display:"none"}},children:[Q,$]})})]})},K=function(e){var n,o=null===e||void 0===e?void 0:e.callbacks,i=o.feeds,l=o.dailyQuiz,s=null===e||void 0===e?void 0:e.data,r=s.newsfeedData,d=(s.isSubscriptionMode,null===r||void 0===r||null===(n=r.newsfeedPost)||void 0===n?void 0:n.contentDetails),a={};d&&d.quizzes&&(a.quizId=d.quizzes.id,a.duration=d.quizzes.duration,a.questionCount=d.quizzes.qcount,a.totalMarks=d.quizzes.marks,a.userQuizData=d.quizzes.userQuizData);return(0,t.jsx)(J,{onHandleTakeTestButton:function(){var n,o,t,s=null===r||void 0===r?void 0:r.newsfeedPost,a=null===s||void 0===s||null===(n=s.contentDetails)||void 0===n?void 0:n.course;if(null===r||void 0===r?void 0:r.sharedIsUserLoggedIn)if((null===d||void 0===d?void 0:d.isBought)&&(null===d||void 0===d?void 0:d.isEnrolled)||a.isFree)null===l||void 0===l||l.goToTestPlayer(null===d||void 0===d||null===(o=d.quizzes)||void 0===o?void 0:o.id,null===d||void 0===d||null===(t=d.quizzes)||void 0===t?void 0:t.title);else{var u,c;null===e||void 0===e||null===(u=e.callbacks)||void 0===u||u.goToCheckout(null===d||void 0===d||null===(c=d.course)||void 0===c?void 0:c.id)}else null===i||void 0===i||i.navigateToSignIn()},openResult:function(e){l.goToTestReport(a.quizId,e,null)},contentDetails:d})},ee=o(14206),ne=o.n(ee),oe=function(e){e.width,e.progressHeight;var n=e.onClick,o=e.downloadUrl,l=e.fileName,s=(e.color,(0,x.$)("newsfeed").t),r=(0,i.useState)(0),d=r[0],a=r[1],c=function(){ne()({url:o,method:"GET",responseType:"blob",onDownloadProgress:function(e){var n=Math.round(100*e.loaded/e.total);a(n)}}).then((function(e){var n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=n;var t=e.config&&e.config.url&&e.config.url.match(/([.])\w+/g)||[],i=t[(null===t||void 0===t?void 0:t.length)-1]||".pdf";o.setAttribute("download","".concat(l).concat(i)),document.body.appendChild(o),o.click()})),n&&n()};return(0,t.jsxs)(u.kC,{sx:{flex:1,justifyContent:"flex-end"},children:[!!d&&100!==d&&(0,t.jsxs)(u.kC,{sx:{flex:1,alignItems:"center",my:1},children:[(0,t.jsx)(w.ko,{progress:d,indicatorColor:"primary",trackColor:"basic"}),(0,t.jsx)(w.xv,{category:"s1",style:{marginRight:8,marginLeft:8},children:"".concat(d,"%")})]}),!d&&100!==d&&(0,t.jsxs)(u.kC,{style:{alignItems:"center",justifyContent:"flex-end"},children:["  ",(0,t.jsx)(w.zx,{onClick:function(){return c()},variant:"primary",size:"small",children:s("download").toUpperCase()})]}),100===d&&(0,t.jsxs)(u.kC,{sx:{alignItems:"center",justifyContent:"flex-end",my:1},children:[(0,t.jsx)(w.tv,{icon:h.q.checkCircle,fontSize:"h6",color:"primary"}),(0,t.jsx)(w.xv,{style:{marginLeft:6},textTransform:"uppercase",buttonFont:"small",children:s("downloadedWithoutPercentage")})]})]})},te=function(e){var n=e.newsfeedPost;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.kC,{sx:{px:2,py:4,justifyContent:"space-between",alignItems:"center",flex:1},children:n.publishedContent?(0,t.jsx)(u.kC,{sx:{minWidth:"min-content",flex:1},children:(0,t.jsx)(oe,{width:"100px",downloadUrl:n.publishedContent,fileName:n.title,progressHeight:1})}):null}),(0,t.jsx)(w.iz,{})]})};function ie(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var le=function(e){e.callbacks;var n,o=e.data,i=(e.helper,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.newsfeedData);switch((null===i||void 0===i?void 0:i.newsfeedPost).postContentType){case f.b3.ARTICLE:var l;return(0,t.jsx)(X,{newsfeedPost:null===(l=o.newsfeedData)||void 0===l?void 0:l.newsfeedPost});case f.b3.QUIZ:return(0,t.jsx)(K,function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){ie(e,n,o[n])}))}return e}({},e));case f.b3.PDF:var s;return(0,t.jsx)(te,{newsfeedPost:null===(s=o.newsfeedData)||void 0===s?void 0:s.newsfeedPost});default:return(0,t.jsx)(t.Fragment,{})}};function se(e){var n=e.onHandleIcon,o=e.icon,i=e.text,l=e.iconStatus,s=void 0===l?"basic":l,r=e.className,d=e.inProgress,a=void 0!==d&&d;return(0,t.jsx)(u.xu,{className:r,onClick:function(e){null===e||void 0===e||e.stopPropagation(),n&&n()},m:1,mr:2,style:{borderWidth:0,width:"min-content",cursor:"pointer"},children:(0,t.jsxs)(u.kC,{sx:{alignItems:"center",width:"max-content",opacity:a?.6:1,transition:"opacity 0.2s ease-in-out","&:hover":{opacity:a?.6:1}},children:[!!o&&(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.tv,{icon:o,size:24,color:s})}),!!i&&(0,t.jsx)(u.kC,{pl:[1],style:{height:"24px",alignItems:"center",paddingTop:"2.5px"},children:(0,t.jsx)(u.xu,{children:(0,t.jsx)(w.xv,{category:"s2",noOfLines:1,children:i})})})]})})}var re=function(e){var n,o,l,s,r,d,a,c=e.data,v=e.helper,p=e.callbacks,m=e.calendarViewProps,y=e.closeModal,k=void 0===y?function(){return!1}:y,j=c.newsfeedData,P=c.footerData,C=p.feeds,S=C.onHandleLike,T=j.newsfeedPost,I=(j.newsfeedCategories,j.isNewsfeedLikesEnabled),N=j.isNewsfeedCommentsEnabled,L=(0,x.$)("newsfeed").t,O="calendarView"===(null===(l=null===(o=(0,g.Rp)("posts")[(null===(n=e.data)||void 0===n?void 0:n.newsfeedData.currentPostTypeId)||0])||void 0===o?void 0:o.content[0])||void 0===l?void 0:l.organism),F=null===v||void 0===v?void 0:v.getBookmarkedState(null===T||void 0===T?void 0:T.id,null===j||void 0===j||null===(s=j.newsfeedBookmarks)||void 0===s?void 0:s.bookmarkIds),E=(0,i.useState)(!1),A=E[0],R=E[1];(0,i.useEffect)((function(){var e,n;(null===j||void 0===j||null===(e=j.newsfeedPost)||void 0===e?void 0:e.isLiked)!==A&&R(null===j||void 0===j||null===(n=j.newsfeedPost)||void 0===n?void 0:n.isLiked)}),[null===j||void 0===j||null===(r=j.newsfeedPost)||void 0===r?void 0:r.isLiked]);var _=null===Object||void 0===Object?void 0:Object.fromEntries(null===(d=new URLSearchParams(window.location.search))||void 0===d?void 0:d.entries()),B=Number(null===_||void 0===_?void 0:_.likeId)||null,H=(null===j||void 0===j||null===(a=j.userLikesData)||void 0===a?void 0:a.userLikesFetchStatus)===f.iF.IN_PROGRESS;return(0,t.jsxs)(u.xu,{pl:[0,0,4],children:[(0,t.jsxs)(u.xu,{mb:2,sx:{display:["none","none","block"]},children:[!!O&&(0,t.jsx)(u.xu,{mb:2,children:(0,t.jsx)(w.aj,{textfieldProps:{label:L("jumpToDate"),required:!1,captionIcon:void 0,captionText:void 0,state:void 0,value:null===m||void 0===m?void 0:m.date},value:null===m||void 0===m?void 0:m.date,state:void 0,onChange:function(e){k(),null===m||void 0===m||m.setDate(e)}})}),!(null===m||void 0===m?void 0:m.noPosts)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{authorImage:(null===T||void 0===T?void 0:T.authorImage)||"",authorName:(null===T||void 0===T?void 0:T.authorName)||"",schoolLogo:null===P||void 0===P?void 0:P.schoolLogo,schoolName:null===P||void 0===P?void 0:P.name}),(0,t.jsx)(u.xu,{py:2,sx:{display:["none","none","block"]},children:(0,t.jsx)(w.iz,{})})]})]}),!(null===m||void 0===m?void 0:m.noPosts)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.kC,{style:{},pb:[6,6,0],pl:0,children:[!!I&&(0,t.jsx)(se,{className:"newsfeedPostCardLike",iconStatus:A?"primary":"basic",icon:A?h.q.heartFill:h.q.heart,text:L("like"),onHandleIcon:function(){H||(R((function(e){return!e})),S(null===T||void 0===T?void 0:T.id,A,B))},inProgress:H}),!!N&&(0,t.jsx)(se,{className:"newsfeedPostCardComment",icon:h.q.message,text:L("comment"),onHandleIcon:function(){return C.onHandleComment(null===T||void 0===T?void 0:T.id,T.slug)}}),(0,t.jsx)(se,{text:L(F?"bookmarked":"bookmark"),className:"newsfeedPostCardBookmark",icon:F?h.q.bookmarkFilled:h.q.bookmark,onHandleIcon:function(){return null===C||void 0===C?void 0:C.onHandleBookmark(null===T||void 0===T?void 0:T.id)}})]}),(0,t.jsx)(D,{})]})]})},de=o(62664),ae=o(1374),ue=function(e){var n=e.callbacks,o=e.helper,l=null===n||void 0===n?void 0:n.feeds,s=l.navigateToSignIn,r=l.onSubmitNewsfeedQuestionAnswer,d=e.data.newsfeedData,a=d.sharedIsUserLoggedIn,c=d.sharedUserId,v=d.sharedAuthToken,f=null===d||void 0===d?void 0:d.newsfeedPost,p=(0,x.$)("common").t,h=(0,i.useState)(null),m=h[0],g=h[1],y=(0,i.useState)(!1),k=y[0],b=y[1],j=f.contentDetails,P=j.question,C=(j.urlToken,j.course),S=j.lesson,T=j.signed_url,I=P.choices,D=P.answer?JSON.parse(P.answer):[];"number"===typeof D&&(D=[D]);var N=P.ans_description_lesson?JSON.parse(P.ans_description_lesson):{},L={},O=[];N&&N.length&&N.forEach((function(e,n){L[n]={fileId:e.src_id||null,fileName:e.src,fileType:e.src_type,slideState:e.state,startFile:e.url||null},O.push(n)})),(0,i.useEffect)((function(){var e=document.querySelectorAll(".question-content a");e&&e.length&&e.forEach((function(e){return e.target="_blank"}))}),[]);var F=null===o||void 0===o?void 0:o.setPlayerData(T,P.id,Q.T_.PURCHASED,"",c,v,{},0),E=null===o||void 0===o?void 0:o.constructSlideDataForLessonPlay({slides:{slideDetails:L,slideIds:O}},null===C||void 0===C?void 0:C.id,null===S||void 0===S?void 0:S.id,T,null),A=JSON.parse(I),R={};try{R=JSON.parse(f.publishedContent)}catch(B){console.log("question poll parse fail",B,f.publishedContent)}var _=0;return Object.keys(R).forEach((function(e){return _+=R[e]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.xu,{mt:8}),(0,t.jsx)(w.xv,{category:"h6",textTransform:"capitalize",children:p("question")}),(0,t.jsx)(u.xu,{mt:5}),(0,t.jsx)(w.xv,{category:"p1",children:(0,t.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:P.qtext}})}),A.map((function(e){return(0,t.jsxs)(u.xu,{className:"question-content",children:[(0,t.jsx)(w.EU,{checked:m==e.group_order,name:"question",size:2,status:m===e.group_order?D.includes(m)?"primary":"error":"basic",label:(0,t.jsx)(u.xu,{ml:2,sx:{width:"90%"},children:(0,t.jsx)(w.xv,{category:"p2",children:(0,t.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:e.option_text}})})}),onChange:function(){null===m&&(g(e.group_order),r(f.id,e.group_order))}}),null!==m?(0,t.jsxs)(u.kC,{my:4,sx:{alignItems:"center"},children:[(0,t.jsx)(u.xu,{style:{width:"100%"},children:(0,t.jsx)(w.ko,{indicatorColor:m===e.group_order?D.includes(m)?"primary":"error":"basic",progress:R[e.group_order]/_*100||0})}),(0,t.jsx)(u.xu,{ml:2}),(0,t.jsxs)(w.xv,{category:"p2",children:[Math.round(R[e.group_order]/_*100)||0,"%"]})]}):(0,t.jsx)(u.xu,{mt:5})]})})),(0,t.jsx)(u.xu,{my:8,children:P.ans_description||O.length?(0,t.jsx)(w.zx,{variant:"primary",disabled:null===m,onClick:function(){a?b(!k):s()},children:p("testPlayer:AnswerExplanation")}):null}),(0,t.jsx)(w.u_,{isOpen:k,onRequestClose:function(){return b(!1)},children:(0,t.jsxs)(u.xu,{className:"question-content",sx:{maxHeight:"90vh",overflowY:"auto",width:["100vw","100vw","50vw"],px:4,py:5,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)"},children:[(0,t.jsxs)(u.kC,{sx:{justifyContent:"space-between"},children:[(0,t.jsx)(w.xv,{category:"h4",children:p("testPlayer:AnswerExplanation")}),(0,t.jsx)(u.x8,{onClick:function(){return b(!1)}})]}),(0,t.jsxs)(u.xu,{mt:6,children:[O.length?(0,t.jsx)(w.oM,{ratio:16/9,children:(0,t.jsx)(de.qj,{children:function(e){var n=e.width,o=e.height;return(0,t.jsx)(ae.a,{lessonData:F,slideData:E,lessonBookmarkData:{},currentBookMarkIdTs:0,callbacks:{onGoBack:function(){return null},setPLayerSemiFullScreenState:function(){return null},diagnose:function(){return null},markAsComplete:function(){return null}},dimensions:{width:n,height:o},isAnswerExplaination:!0})}})}):null,(0,t.jsx)(w.xv,{category:"p1",children:(0,t.jsx)(u.xu,{dangerouslySetInnerHTML:{__html:P.ans_description}})})]})]})})]})};function ce(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function ve(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function fe(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){ve(e,n,o[n])}))}return e}function pe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,i,l=[],s=!0,r=!1;try{for(o=o.call(e);!(s=(t=o.next()).done)&&(l.push(t.value),!n||l.length!==n);s=!0);}catch(d){r=!0,i=d}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ce(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ce(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s().extend(d());var he=function(e){var n,o,l,s,r,d,c,v,p,h,g,y=(0,a.B7)().theme,k={content:{top:0,left:0,right:0,bottom:0,marginRight:0,marginLeft:"auto",width:(null===window||void 0===window?void 0:window.innerWidth)>550?"40%":"80%",backgroundColor:null===(n=y.rawColors)||void 0===n?void 0:n["background-basic-color-2"]},overlay:{backgroundColor:"rgba(128, 128, 128, 0.25)",tranisition:"all 0.2s ease-in-out"}},b=e.data,j=e.callbacks,P=e.calendarViewProps,C=b.newsfeedPostFetchStatus,S=b.newsfeedData,T=(0,x.$)("newsfeed").t,I=b.newsfeedData,D=I.sharedIsUserLoggedIn,N=I.currentPostContentType,L=null===S||void 0===S||null===(o=S.newsfeedPost)||void 0===o?void 0:o.postContentType,O=j.feeds,F=(j.goToCheckout,O.navigateToSignIn,O.goToNewsfeedEmbedPlayer),E=O.replaceToSignIn,A=null===b||void 0===b||null===(l=b.newsfeedData)||void 0===l?void 0:l.newsfeedPost,R=(A.contentType,A.contentDetails),_=A.title,B=A.slug,H=(N||L)===f.b3.VIDEO,M=(N||L)===f.b3.COURSE_EMBED,U=(N||L)===f.b3.PROMO,q=pe(i.useState(!1),2),Y=q[0],G=q[1],W=function(){G(!1)};if(i.useEffect((function(){if(R&&Object.keys(R).length){var e,n;if(R.course&&(r=R.course),R.lessons&&(d=R.lessons,c=R.sections),R.lesson&&(v=R.lesson),U)if(r.seoTitle&&R.course.id)if((null===(e=R.course)||void 0===e?void 0:e.courseType)===f.lW.COURSE)null===O||void 0===O||O.goToLessonPlayer(r.seoTitle,r.id,null,null,r.course_type,B,0);else null===O||void 0===O||O.goToCourseDetails(null===r||void 0===r?void 0:r.seoTitle,R.course.id,null,null,null===(n=R.course)||void 0===n?void 0:n.courseType,"");if(H)if(D){if(r&&v&&R){var o,t,i;F(r.seoTitle,R.course.id,null===R||void 0===R||null===(o=R.lesson)||void 0===o?void 0:o.id,null===(t=R.lesson)||void 0===t?void 0:t.sectionId,null===(i=R.course)||void 0===i?void 0:i.courseType,B,_)}}else E();if(M&&r&&d){var l=null===d||void 0===d?void 0:d.find((function(e){return c[0].id===e.section_id}));r&&d&&(null===O||void 0===O||O.goToLessonPlayer(r.seoTitle,r.id,l.id,l.section_id,r.course_type,B,1))}}}),[R]),H||M||U||C===f.iF.IN_PROGRESS||C===f.iF.IDLE)return(0,t.jsx)(w.aN,{});if((null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.newsfeedPostFetchStatus)===f.iF.FAILED)return(0,t.jsx)(m.qz,{title:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(h=p.newsfeedData)||void 0===h||null===(g=h.newsfeedError)||void 0===g?void 0:g.errorMessage,onRetry:function(){var n;return null===e||void 0===e||null===(n=e.callbacks)||void 0===n?void 0:n.onErrorRefresh()}});var V=f.b3.QUESTION_TYPE===(N||L),Q=(null===P||void 0===P?void 0:P.noPosts)?(0,t.jsx)(m.T9,{title:T("newsfeed:emptyFeedTitle"),subtitle:T("newsfeed:emptyFeedForSelectedDateMessage")}):V?(0,t.jsx)(ue,fe({},e)):(0,t.jsx)(le,fe({},e));return(0,t.jsxs)(u.rj,{style:{justifyContent:"center",flex:1},sx:{gridTemplateColumns:["91%","91%","2fr 1fr"],width:y.componentConfiguration.layoutStyles.newsfeedWidth,maxWidth:1152},mx:"auto",gap:0,children:[(0,t.jsxs)(u.xu,{sx:{borderRightWidth:[0,0,1],borderRightStyle:"solid",borderColor:"border-basic-color-4"},pr:[0,0,6],children:[(0,t.jsx)($,fe({},e,{openModal:function(){G(!0)}})),Q]}),!H&&(0,t.jsx)(u.xu,{children:(0,t.jsxs)(u.xu,{pt:[2,4,10],sx:{position:["relative","relative","sticky"],top:0},children:[(0,t.jsx)(u.xu,{sx:{display:["none","none","block"],flex:1,top:0,overflowY:"auto",width:"100%",maxHeight:"100vh","&::-webkit-scrollbar":{width:0,height:0,opacity:.5}},children:(0,t.jsx)(re,fe({},e))}),(0,t.jsx)(z(),{isOpen:Y,onRequestClose:W,style:k,contentLabel:T("newsfeed"),shouldCloseOnOverlayClick:!0,children:(0,t.jsx)(u.xu,{sx:{display:["block","block","none"]},children:(0,t.jsx)(re,fe({},e,{closeModal:W}))})})]})})]})};function me(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function ge(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function xe(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){ge(e,n,o[n])}))}return e}function ye(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,i,l=[],s=!0,r=!1;try{for(o=o.call(e);!(s=(t=o.next()).done)&&(l.push(t.value),!n||l.length!==n);s=!0);}catch(d){r=!0,i=d}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return me(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return me(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}s().extend(d()),z().setAppElement("#__next");function we(e,n,o){var t=new RegExp("([?&])"+n+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(t)?e.replace(t,"$1"+n+"="+o+"$2"):e+i+n+"="+o}var ke=function(e){var n,o,l,s,r,d,a=e.data,u=e.callbacks,c=a.newsfeedData,f=null===c||void 0===c||null===(n=c.newsfeedPosts)||void 0===n?void 0:n.postIds,p=new URLSearchParams(window.location.search).get("date"),h=ye(i.useState(p),2),m=h[0],x=h[1],y=ye(i.useState(!1),2),w=y[0],k=y[1],b=null===(o=e.data)||void 0===o?void 0:o.newsfeedData.currentPostTypeId,j="detailsView"===((null===(s=null===(l=(0,g.Rp)("posts")[b])||void 0===l?void 0:l.content[0])||void 0===s?void 0:s.calendarCollectionView)||""),P=null===(d=null===(r=(0,g.Rp)("posts")[b||0])||void 0===r?void 0:r.content[0])||void 0===d?void 0:d.organism,C="calendarView"===P;return i.useEffect((function(){if(C){var e,n,o,t=null===c||void 0===c||null===(e=c.newsfeedPosts)||void 0===e?void 0:e.allPosts;if(m)if(null===f||void 0===f?void 0:f.length)u.video.getNewsfeedPostData(null===(n=t[f[0]])||void 0===n?void 0:n.slug),k(!1);else k(!0);else if(null===f||void 0===f?void 0:f.length)x(j?v()(null===(o=t[f[0]])||void 0===o?void 0:o.publishedAt).format("YYYY-MM-DD"):v()().format("YYYY-MM-DD"))}}),[f]),i.useEffect((function(){if(C)if(j){var e;null===u||void 0===u||null===(e=u.feeds)||void 0===e||e.fetchPostsByDateRange(v()(m).format("YYYY-MM-DD"),v()(m).add(1,"days").format("YYYY-MM-DD"),null===c||void 0===c?void 0:c.currentPostTypeId)}else{var n,o,t=v()(v()(m).format("YYYY-MM-DD")).subtract(16,"days").format("YYYY-MM-DD"),i=v()(v()(m).format("YYYY-MM-DD")).add(16,"days").format("YYYY-MM-DD"),l=we(window.location.href,"startDate",t),s=we(l,"date",m),r=we(s,"endDate",i);null===u||void 0===u||null===(n=u.feeds)||void 0===n||n.routerUrlReplace(r),null===u||void 0===u||null===(o=u.feeds)||void 0===o||o.fetchPostsByDateRange(t,i,null===c||void 0===c?void 0:c.currentPostTypeId)}}),[m]),"calendarView"!==P?(0,t.jsx)(V,xe({},e,{isPostTypePage:!0})):"calendarView"===P&&j?(0,t.jsx)(he,xe({},e,{calendarViewProps:{date:m,setDate:x,noPosts:w}})):"calendarView"!==P||j?void 0:(0,t.jsx)(V,xe({},e,{isPostTypePage:!0,calendarViewProps:{date:m,setDate:x,noPosts:w}}))};s().extend(d());var be=function(e){(0,x.$)("newsfeed").t;var n,o,l,r,d,a,c,v,p,m,g,y,b=(e.newsfeedFetchStatus===f.iF.IDLE||e.newsfeedFetchStatus===f.iF.IN_PROGRESS)&&(null===(n=e.userLikesData)||void 0===n||null===(o=n.newsfeedLikes)||void 0===o||null===(l=o.likedIds)||void 0===l?void 0:l.length)>0,j=(null===(r=e.newsfeedPosts)||void 0===r?void 0:r.summary.pageNumber)<(null===(d=e.newsfeedPosts)||void 0===d?void 0:d.summary.totalMatchedPages),P=function(n){return!!(!j||n<e.newsfeedPosts.postIds.length)},C=(0,i.useCallback)((function(n,o){var i,l,r,d,a,c,v,f=null===e||void 0===e||null===(i=e.newsfeedPosts)||void 0===i||null===(l=i.allPosts)||void 0===l?void 0:l[n],p=null===(r=s()(null===f||void 0===f?void 0:f.publishedAt))||void 0===r?void 0:r.fromNow();if(!P(o))return(0,t.jsx)(w.aN,{});var m=null===(d=e.newsfeedPostTypesById[null===f||void 0===f?void 0:f.postTypeId])||void 0===d?void 0:d.typeName,g=null===(v=null===(a=e.userLikesData)||void 0===a||null===(c=a.newsfeedLikes)||void 0===c?void 0:c.likedPosts[n])||void 0===v?void 0:v.likeId;return(0,t.jsx)(k.H,{listItemType:"two-line",primaryText:(0,t.jsx)(u.kC,{mr:10,children:(0,t.jsx)(w.xv,{style:{display:"inline"},children:f.title})}),secondaryText:(0,t.jsx)(w.xv,{sx:{pt:[2]},category:"c2",children:"".concat(m," \u2022 ").concat(p)}),supportedVisualType:"large-thumbnail",supportedVisualSource:f.featuredImage,supportedVisualAltText:f.title,metaDataType:"component",metaDataOptions:{metaComponent:(0,t.jsx)(u.kC,{pl:2,sx:{height:"100%",alignItems:"center",justifyContent:"center"},onClick:function(o){o.stopPropagation(),null===e||void 0===e||e.onHandleLike(n,!0,g)},children:(0,t.jsx)(w.tv,{size:20,icon:h.q.heartFill,color:"primary"})})},onClick:function(){return null===e||void 0===e?void 0:e.goToNewsfeedPostDetails(n,f)},hasDivider:o!==T.length-1})}),[e.userLikesData,null===(a=e.userLikesData)||void 0===a||null===(c=a.newsfeedLikes)||void 0===c?void 0:c.likedIds]),S=(0,i.useCallback)((function(){var n;return e.newsfeedFetchStatus===f.iF.IN_PROGRESS||(null===e||void 0===e||null===(n=e.userLikesData)||void 0===n?void 0:n.userLikesFetchStatus)===f.iF.IN_PROGRESS?(0,t.jsx)(u.xu,{style:{height:"100px",display:"flex",justifyContent:"center"},children:(0,t.jsx)(w.aN,{})}):(0,t.jsx)(t.Fragment,{children:" "})}),[null===e||void 0===e||null===(v=e.userLikesData)||void 0===v||null===(p=v.newsfeedLikes)||void 0===p||null===(m=p.likedIds)||void 0===m?void 0:m.length,b]),T=[];return null===e||void 0===e||null===(g=e.userLikesData)||void 0===g||null===(y=g.newsfeedLikes)||void 0===y||y.likedIds.map((function(n){(null===e||void 0===e?void 0:e.newsfeedFilteredIds.includes(n))&&T.push(n)})),(0,t.jsx)(k.F,{variant:"list",contentData:[],itemData:T,renderItem:C,multiRenderItems:[C],infiniteLoaderProps:{loadMoreItems:function(){var n;e.newsfeedFetchStatus!==f.iF.IN_PROGRESS&&(j&&(null===e||void 0===e||e.onHandleLoadMore((null===e||void 0===e||null===(n=e.newsfeedPosts)||void 0===n?void 0:n.summary.pageNumber)+1)))},itemCount:e.newsfeedPosts.summary.totalMatchedRecords||0,isItemLoaded:P,hasNextPage:j,isInfiniteLoaderLoading:b},ListFooterComponent:S,removeGutter:!0})},je=i.memo(be),Pe=function(e){var n,o,i=(0,x.$)(["newsfeed","common"]).t,l=e.data,s=e.callbacks,r=l.newsfeedData,d=l.newsfeedFetchStatus,a=s.feeds,c=r.userLikesData,v=r.newsfeedPosts,p=r.newsfeedPostTypesById,h=r.newsfeedFilteredIds,g=r.isFetchAllPostFailed,y=r.newsfeedError,k=r.sharedIsUserLoggedIn,b=c.newsfeedLikes,j=a.goToNewsfeedPostDetails,P=a.onHandleLike,C=a.onHandleLoadMore,S=a.goToStore,T=a.navigateToSignIn,I=a.goToNewsfeedPosts;if(!k)return T(),(0,t.jsx)(w.aN,{});if(g)return(0,t.jsx)(m.qz,{title:null===y||void 0===y?void 0:y.errorMessage,onRetry:function(){return window.location.reload()}});var D=[{title:i("common:home"),onClick:function(){return S()}},{title:i("common:newsfeed"),onClick:function(){return I()}},{title:i("likes")}];return(0,t.jsx)(u.kC,{sx:{flex:1,flexDirection:"column"},children:(0,t.jsxs)(u.xu,{sx:{maxWidth:27,width:"100%"},mx:"auto",px:3,children:[(0,t.jsx)(u.xu,{my:6,children:(0,t.jsx)(w.Oo,{data:D})}),(0,t.jsx)(w.xv,{category:"h6",textTransform:"capitalize",sx:{py:[6]},children:i("likes",{count:0|b.likedIds.length})}),(0,t.jsx)(u.xu,{pb:6,children:d===f.iF.SUCCESS&&0===(null===c||void 0===c||null===(n=c.newsfeedLikes)||void 0===n||null===(o=n.likedIds)||void 0===o?void 0:o.length)?(0,t.jsx)(m.T9,{title:i("noFeeds")}):(0,t.jsx)(je,{newsfeedFetchStatus:d,userLikesData:c,newsfeedPosts:v,newsfeedPostTypesById:p,newsfeedFilteredIds:h,goToNewsfeedPostDetails:j,onHandleLike:P,onHandleLoadMore:C})})]})})},Ce=i.memo(Pe,(function(e,n){var o,t,i,l,s,r,d,a;return(null===(o=e.data)||void 0===o?void 0:o.newsfeedFetchStatus)===(null===(t=n.data)||void 0===t?void 0:t.newsfeedFetchStatus)&&(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.newsfeedData)||void 0===l||null===(s=l.userLikesData)||void 0===s?void 0:s.userLikesFetchStatus)===(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(d=r.newsfeedData)||void 0===d||null===(a=d.userLikesData)||void 0===a?void 0:a.userLikesFetchStatus)}));function Se(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var Te=function(e){return(0,t.jsx)(Ce,function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){Se(e,n,o[n])}))}return e}({},e))},Ie=i.memo(Te);s().extend(d());var De=function(e){(0,x.$)("newsfeed").t;var n,o,l,r,d,a,c,v,p,m,g,y=e.bookmarkFetchStatus!==f.iF.SUCCESS&&(null===(n=e.newsfeedBookmarks)||void 0===n||null===(o=n.bookmarkIds)||void 0===o?void 0:o.length)>0,b=(null===(l=e.newsfeedBookmarks)||void 0===l||null===(r=l.summary)||void 0===r?void 0:r.pageNumber)<(null===(d=e.newsfeedBookmarks)||void 0===d||null===(a=d.summary)||void 0===a?void 0:a.totalMatchedPages),j=function(n){var o,t;return!!(!b||n<(null===(o=e.newsfeedBookmarks)||void 0===o||null===(t=o.bookmarkIds)||void 0===t?void 0:t.length))},P=(0,i.useCallback)((function(n,o){var i,l,r=null===e||void 0===e||null===(i=e.newsfeedBookmarkPosts)||void 0===i?void 0:i[n],d=null===(l=s()(null===r||void 0===r?void 0:r.publishedAt))||void 0===l?void 0:l.fromNow();return!j(o)?(0,t.jsx)(w.aN,{}):(0,t.jsx)(k.H,{listItemType:"two-line",primaryText:(0,t.jsx)(u.kC,{mr:10,children:(0,t.jsx)(w.xv,{style:{display:"inline"},children:null===r||void 0===r?void 0:r.title})}),secondaryText:(0,t.jsx)(w.xv,{sx:{pt:[2]},category:"c2",children:"".concat(d)}),supportedVisualType:"large-thumbnail",supportedVisualSource:null===r||void 0===r?void 0:r.featuredImage,supportedVisualAltText:null===r||void 0===r?void 0:r.title,metaDataType:"component",metaDataOptions:{metaComponent:(0,t.jsx)(u.kC,{pl:2,sx:{height:"100%",alignItems:"center",justifyContent:"center"},onClick:function(o){o.stopPropagation(),null===e||void 0===e||e.onHandleBookmark(n)},children:(0,t.jsx)(w.tv,{size:20,icon:h.q.bookmarkFilled})})},onClick:function(){return null===e||void 0===e?void 0:e.goToNewsfeedPostDetails(n,r)},hasDivider:o!==S.length-1})}),[e.newsfeedBookmarkPosts,null===(c=e.newsfeedBookmarks)||void 0===c?void 0:c.bookmarkIds]),C=(0,i.useCallback)((function(){return e.newsfeedBookmarks&&e.newsfeedBookmarks.summary&&e.newsfeedBookmarks.bookmarkIds.length&&e.newsfeedBookmarkPosts&&e.bookmarkFetchStatus!==f.iF.IN_PROGRESS?(0,t.jsx)(t.Fragment,{children:" "}):(0,t.jsx)(u.xu,{style:{height:"100px",display:"flex",justifyContent:"center"},children:(0,t.jsx)(w.aN,{})})}),[null===(v=e.newsfeedBookmarks)||void 0===v?void 0:v.bookmarkIds.length,y]),S=null===(p=e.newsfeedBookmarks)||void 0===p?void 0:p.bookmarkIds;return(0,t.jsx)(k.F,{variant:"list",contentData:[],itemData:S,renderItem:P,multiRenderItems:[P],infiniteLoaderProps:{loadMoreItems:function(){var n,o;e.bookmarkFetchStatus===f.iF.SUCCESS&&(b&&(null===e||void 0===e||e.onHandleLoadMore((null===e||void 0===e||null===(n=e.newsfeedBookmarks)||void 0===n||null===(o=n.summary)||void 0===o?void 0:o.pageNumber)+1)))},itemCount:(null===(m=e.newsfeedBookmarks)||void 0===m||null===(g=m.summary)||void 0===g?void 0:g.totalMatchedRecords)||0,isItemLoaded:j,hasNextPage:b,isInfiniteLoaderLoading:y},ListFooterComponent:C,removeGutter:!0})},Ne=function(e){var n=(0,x.$)(["newsfeed","common"]).t,o=e.data,i=e.callbacks,l=o.newsfeedData,s=o.newsfeedBookmarkFetchStatus,r=i.feeds,d=l.newsfeedBookmarks,a=l.newsfeedBookmarkPosts,c=l.newsfeedError,v=l.sharedIsUserLoggedIn,p=r.goToNewsfeedPostDetails,h=r.onHandleBookmark,g=r.onHandleLoadMoreBookmarks,y=r.goToStore,k=r.navigateToSignIn,b=r.goToNewsfeedPosts;if(!v)return k(),(0,t.jsx)(w.aN,{});if(s===f.iF.IN_PROGRESS&&(!d||!d.summary||!d.bookmarkIds.length||!a))return(0,t.jsx)(w.aN,{});if(s===f.iF.FAILED&&c&&c.errorCode&&c.errorMessage)return(0,t.jsx)(m.qz,{title:null===c||void 0===c?void 0:c.errorMessage,onRetry:function(){return window.location.reload()}});var j=[{title:n("common:home"),onClick:function(){return y()}},{title:n("common:newsfeed"),onClick:function(){return b()}},{title:n("bookmark")}];return(0,t.jsx)(u.kC,{sx:{flex:1,flexDirection:"column"},children:(0,t.jsxs)(u.xu,{sx:{maxWidth:27,width:"100%"},mx:"auto",px:3,children:[(0,t.jsx)(u.xu,{my:6,children:(0,t.jsx)(w.Oo,{data:j})}),(0,t.jsx)(w.xv,{category:"h6",textTransform:"capitalize",sx:{py:[6]},children:n("bookmark",{count:0|d.bookmarkIds.length})}),(0,t.jsx)(u.xu,{pb:6,children:s===f.iF.SUCCESS&&d&&!d.bookmarkIds.length?(0,t.jsx)(m.T9,{title:n("noBookmarks")}):(0,t.jsx)(De,{bookmarkFetchStatus:s,newsfeedBookmarks:d,newsfeedBookmarkPosts:a,goToNewsfeedPostDetails:p,onHandleBookmark:h,onHandleLoadMore:g})})]})})},Le=i.memo(Ne);function Oe(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var Fe=function(e){return(0,t.jsx)(Le,function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){Oe(e,n,o[n])}))}return e}({},e))},Ee=i.memo(Fe)}}]);