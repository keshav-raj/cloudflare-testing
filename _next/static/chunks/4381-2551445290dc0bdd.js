(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4381],{87815:function(e){e.exports=function(){"use strict";return function(e,t,r){e=e||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,r,o){return n.fromToBase(e,t,r,o)}r.en.relativeTime=o,n.fromToBase=function(t,n,i,u,s){for(var a,c,l,f=i.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=p.length,y=0;y<d;y+=1){var h=p[y];h.d&&(a=u?r(t).diff(i,h.d,!0):i.diff(t,h.d,!0));var g=(e.rounding||Math.round)(Math.abs(a));if(l=a>0,g<=h.r||!h.r){g<=1&&y>0&&(h=p[y-1]);var m=f[h.l];s&&(g=s(""+g)),c="string"==typeof m?m.replace("%d",g):m(g,n,h.l,l);break}}if(n)return c;var v=l?f.future:f.past;return"function"==typeof v?v(c):v.replace("%s",c)},n.to=function(e,t){return i(e,t,this,!0)},n.from=function(e,t){return i(e,t,this)};var u=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(u(this),e)},n.fromNow=function(e){return this.from(u(this),e)}}}()},55714:function(e,t,r){"use strict";r.d(t,{$_:function(){return o.Z},wp:function(){return n.Z}});var n=r(2137),o=r(10100);r(24246),r(27378),r(55480),r(98782),r(14916),r(14358),r(79136),r(86677);var i=r(14620);r(2113);i.Tg.TICKET_STATUS_PENDING,i.Tg.TICKET_STATUS_CLOSED},29418:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(35230),o=r.n(n),i=r(24246),u=r(86677),s=r(27378),a=r(38906),c=r(79471),l=r(14916),f=r(23998),p=r(53850),d=r(11959),y=r(267),h=r(95045);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r,n,o,i,u){try{var s=e[i](u),a=s.value}catch(c){return void r(c)}s.done?t(a):Promise.resolve(a).then(n,o)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}function E(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?g(e):t}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function P(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,t);var r,n,o,s=L(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).doUserVerifications=function(){if(t.props.userLoginStatus===f.zU.LOGGED_IN_MOBILE_VERIFICATION_PENDING){if("/learn/account/otp"===t.props.router.pathname)return;u.default.push(p.y4.otp,p.XC.otp())}else if(t.props.userLoginStatus===f.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===f.QF.EMAIL_LINK){if("/learn/account/email-verification"===t.props.router.pathname)return;u.default.push(p.y4.emailVerification,p.XC.emailVerification())}else if(t.props.userLoginStatus===f.zU.LOGGED_IN_EMAIL_VERIFICATION_PENDING&&t.props.emailVerificationType===f.QF.EMAIL_OTP){if("/learn/account/otp"===t.props.router.pathname)return;u.default.push(p.y4.otp,p.XC.otp())}else t.props.navigationCurrentScreen===d.i_.SEGMENT||t.props.navigationCurrentScreen===d.i_.SIGNIN||t.props.navigationCurrentScreen===d.i_.PROFILE_BUILDER||!y.Gj.segment_enabled||t.props.userSegmentId||t.props.userLoginStatus!==f.zU.LOGGED_IN_VERIFIED&&t.props.userLoginStatus!==f.zU.NOT_LOGGED_IN?t.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&t.props.isProfileBuilderEnabled&&!t.props.isStudentFilledProfile&&t.props.navigationCurrentScreen!==d.i_.PROFILE_BUILDER&&(void 0!==t.props.inProgressPayment?u.default.push(p.y4.profileFields,p.XC.profileFields()):u.default.replace(p.y4.profileFields,p.XC.profileFields(),{shallow:!0})):t.props.userLoginStatus===f.zU.NOT_LOGGED_IN&&y.Gj.pricing_model===h._n.SUBSCRIPTION_TYPE?u.default.push(p.y4.segment,p.XC.segment()):t.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&u.default.replace(p.y4.segment,p.XC.segment(),{shallow:!0})},t.doUserVerifications=t.doUserVerifications.bind(g(t)),t}return r=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.router,r=e.navigationCurrentScreen,n=e.doSendNavChangeEvent,o=e.doSetCurrentAccessingLesson;if(this.doUserVerifications(),n(p.ZP[t.pathname],r,(new Date).getTime(),I({},t.query),!1,!0),console.log(p.ZP[t.pathname]),t.pathname===p.y4.lessonPlayer&&!t.query.courseId){var i=c.$2,u=t.query.sectionId,s=t.query.lessonId;o({courseId:i,sectionId:u,lessonId:s,autoScrollLessonTs:(new Date).getTime()},s)}}},{key:"componentDidUpdate",value:function(e){this.props.navigationCurrentScreen===d.i_.SEGMENT||this.props.navigationCurrentScreen===d.i_.SIGNIN||this.props.navigationCurrentScreen===d.i_.PROFILE_BUILDER||!y.Gj.segment_enabled||this.props.userSegmentId||this.props.userLoginStatus!==f.zU.LOGGED_IN_VERIFIED&&this.props.userLoginStatus!==f.zU.NOT_LOGGED_IN||(this.props.userLoginStatus===f.zU.NOT_LOGGED_IN&&y.Gj.pricing_model===h._n.SUBSCRIPTION_TYPE?u.default.push(p.y4.segment,p.XC.segment()):this.props.userLoginStatus===f.zU.LOGGED_IN_VERIFIED&&u.default.replace(p.y4.segment,p.XC.segment(),{shallow:!0})),void 0!==this.props.inProgressPayment&&this.doUserVerifications(),void 0!==this.props.realUserLoginStatus&&(this.props.inProgressPayment||this.props.navigationCurrentScreen===d.i_.CHECKOUT||this.props.doSetRealUserLoginStatus()),this.props.isAuthTokenExpired&&e.isAuthTokenExpired!==this.props.isAuthTokenExpired&&((0,l.FN)({message:"Your login session is expired."}),this.props.doRestartAuthentication(),u.default.push(p.y4.signin))}},{key:"render",value:function(){return this.props.sharedIsSchoolLocked&&this.props.sharedIsUserLoggedIn?(0,i.jsx)(l.R7,{doSignoutUser:this.props.doSignoutUser}):(0,i.jsx)(e,I({},this.props))}}])&&v(r.prototype,n),o&&v(r,o),a}(s.Component);return t.getInitialProps=function(){var e,t=(e=o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.isServer,e.abrupt("return",{isServer:r});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){m(i,n,o,u,s,"next",e)}function s(e){m(i,n,o,u,s,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}(),(0,u.withRouter)((0,a.$)("doSignoutUser","doSendNavChangeEvent","doSetCurrentAccessingLesson","doRestartAuthentication","selectSharedIsUserLoggedIn","selectIsAuthTokenExpired","selectNavigationCurrentScreen","selectSharedIsSchoolLocked","selectSharedIsUserLoggedIn","selectUserLoginStatus","selectIsProfileBuilderEnabled","selectIsStudentFilledProfile","selectEmailVerificationType","selectUserSegmentId","selectInProgressPayment","selectRealUserLoginStatus","doSetRealUserLoginStatus",t))}},85396:function(e,t,r){"use strict";r.d(t,{Ln:function(){return g},QQ:function(){return I},Pz:function(){return f}});var n=r(24246),o=(r(27378),r(83461)),i=r(72022),u=r(73345),s=r(56419),a=r(55344);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}var f=function(e){var t=e.data,r=(e.callbacks,t.isUserLoggedIn),c=(t.raiseTicketData,t.supportApiStatus,t.supportErrorMessage,t.supportState,t.tickets,(0,o.B7)().theme);return r?(0,n.jsxs)(i.kC,{sx:{maxWidth:c.componentConfiguration.layoutStyles.maxWidth,flexDirection:"column",rowGap:4,flex:1,width:"100%"},mx:"auto",pt:[4,8,8],pb:[4,8,8],px:[4,0,0],children:[(0,n.jsx)(s.v,l({},e)),(0,n.jsx)(u.JT,l({},e))]}):(0,n.jsx)(a.mn,{})},p=r(45356),d=r(9078);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}var g=function(e){var t=(0,d.$)(["support","common"]).t,r=e.callbacks,o=r.goToStore,s=r.goToSupport,a=[{title:t("common:home").toLocaleUpperCase(),onClick:function(){o()}},{title:t("support"),onClick:function(){s()}},{title:t("raiseATicket")}];return(0,n.jsxs)(i.kC,{mt:8,px:[4,0,0],mx:"auto",sx:{flexDirection:"column",flex:1,rowGap:6},mb:8,children:[(0,n.jsx)(p.Oo,{data:a}),(0,n.jsx)(u.Z6,h({},e))]})},m=r(38423),v=r(21155);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}var I=function(e){var t=e.callbacks,r=e.data,s=((0,o.B7)().theme,r.currentTicketDetails),a=r.supportErrorMessage,c=r.supportState,l=r.supportApiStatus;return t.fetchCurrentTicketDetils,t.goBack,t.replyToTicket,c===v.yj.VIEWING_TICKET&&l===v.iF.IN_PROGRESS?(0,n.jsx)(p.aN,{}):!s||c===v.yj.VIEWING_TICKET&&l===v.iF.FAILED?(0,n.jsx)(m.qz,{title:a||""}):(0,n.jsxs)(i.kC,{sx:{flexDirection:"column",maxWidth:21,flex:1,width:"100%",rowGap:6},mx:"auto",py:8,px:[4,0,0],children:[(0,n.jsx)(u.rz,b({},e)),(0,n.jsx)(u.ti,b({},e))]})}},96664:function(e,t,r){"use strict";r.d(t,{UK:function(){return f}});var n=r(27378);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect,u={status:"not-requested",loading:!1,result:void 0,error:void 0},s={status:"loading",loading:!0,result:void 0,error:void 0},a=function(){},c={initialState:function(e){return e&&e.executeOnMount?s:u},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return s},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:a,onError:a},l=function(e,t,r){!t&&(t=[]);var u=function(e){return o({},c,{},e)}(r),s=(0,n.useState)(null),a=s[0],l=s[1],f=function(e){var t=(0,n.useState)((function(){return e.initialState(e)})),r=t[0],i=t[1],u=(0,n.useCallback)((function(){return i(e.initialState(e))}),[i,e]),s=(0,n.useCallback)((function(){return i(e.setLoading(r))}),[r,i]),a=(0,n.useCallback)((function(t){return i(e.setResult(t,r))}),[r,i]),c=(0,n.useCallback)((function(t){return i(e.setError(t,r))}),[r,i]),l=(0,n.useCallback)((function(e){return i(o({},r,{},e))}),[r,i]);return{value:r,set:i,merge:l,reset:u,setLoading:s,setResult:a,setError:c}}(u),p=function(){var e=(0,n.useRef)(!1);return(0,n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}(),d=function(){var e=(0,n.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),y=function(e){return p()&&d.is(e)},h=function(e){var t=(0,n.useRef)(e);return i((function(){t.current=e})),(0,n.useCallback)((function(){return t.current}),[t])}((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=function(){try{return Promise.resolve(e.apply(void 0,r))}catch(t){return Promise.reject(t)}}();return l(r),d.set(o),f.setLoading(),o.then((function(e){y(o)&&f.setResult(e),u.onSuccess(e,{isCurrent:function(){return d.is(o)}})}),(function(e){y(o)&&f.setError(e),u.onError(e,{isCurrent:function(){return d.is(o)}})})),o})),g=(0,n.useCallback)((function(){return h().apply(void 0,arguments)}),[h]),m=!p();return(0,n.useEffect)((function(){var e=function(){return h().apply(void 0,t)};m&&u.executeOnMount&&e(),!m&&u.executeOnUpdate&&e()}),t),o({},f.value,{set:f.set,merge:f.merge,reset:f.reset,execute:g,currentPromise:d.get(),currentParams:a})};var f=function(e,t){return l(e,[],o({},t,{executeOnMount:!1,executeOnUpdate:!1}))}}}]);