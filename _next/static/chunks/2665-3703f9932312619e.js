"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2665],{2665:function(t,e,n){n.d(e,{Z:function(){return O}});var r=n(24246),i=n(26193),o=n(83553),s=n(61320),l=n.n(s),a=n(86677),u=n(27378),c=n(98539),d=n(33218),x=n(87228),m=n(74566),h=n(55480),f=n(14916),j=n(71117),p=n(71289),y=n(19052),g=n(53850),b=n(40504),v=n(9078),C=n(59441),I=n(93146),k=n(28862),w=n(85361);function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,l=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=(0,k.Z)((function(t){var e=t.text,n=t.onDelete,i=(0,v.$)("community").t,o=T(u.useState(!1),2),s=o[0],l=o[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.sN,{onClick:function(t){l(!0)},value:e,text:e}),(0,r.jsx)(w.Z,{actionText:i("deletePost"),isModalOpen:s,setModal:l,onConfirm:function(){n()},headingText:i("deletePost")})]})}));function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,l=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=(0,k.Z)((function(t){var e=t.text,n=t.currentCommunityDetails,i=t.doUpdateCommunityPost,o=t.postId,s=t.isPinned,l=M(u.useState(!1),2),a=l[0],c=l[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.sN,{onClick:function(t){return c(!0)},value:o,text:e}),(0,r.jsx)(w.Z,{actionText:e,isModalOpen:a,setModal:c,onConfirm:function(){i({communityId:n.id,postId:o,pinned:!s})},headingText:e})]})})),F=function(t){switch(t){case o.SV.ARTICLE:return o.rK.POST;case o.SV.POLL:return o.rK.POLL;case o.SV.TEXT:return o.rK.TEXT;default:return""}},O=function(t){var e=t.title,n=t.id,s=t.slug,u=t.description,k=t.image,w=t.logo,S=t.memberCount,T=t.postCount,P=t.width,M=t.heading,O=t.noImage,L=t.isCommunityCard,Z=t.postTypeId,N=t.createdAt,R=t.defaultImage,z=t.descriptionLineClamp,D=(t.handleClick,t.memberId),_=t.isShowMenu,q=t.userStatus,B=t.bookmarkId,H=t.likeId,U=t.likeCount,V=t.isLiked,K=t.isPinned,X=t.onClickEdit,$=t.sharedUserId,W=t.postAuthorId,Y=t.onDeletePost,G=a.default&&a.default.query&&a.default.query.postId,Q=(0,v.$)("community").t,J="";n&&s&&(J="".concat(origin,"/learn/communities/").concat(s,"/").concat(n));var tt={title:"Community post",text:e,url:J};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.xu,{sx:{width:P||360,p:4,boxShadow:"card.normal",borderRadius:4,overflow:"hidden"},children:[(0,r.jsxs)(h.kC,{justifyContent:"space-between",children:[(0,r.jsxs)(h.kC,{children:[(0,r.jsx)(h.xu,{height:"40px",width:"40px",sx:{"& div":{borderWidth:1,borderColor:"primary.main"}},children:(0,r.jsx)(j.qE,{src:w,name:e,size:"xsmall"})}),(0,r.jsx)(h.xu,{ml:4}),(0,r.jsxs)(h.xu,{children:[(0,r.jsx)(b.xv,{variant:"body2",children:e}),S?(0,r.jsxs)(b.xv,{variant:"caption2",children:[S," ",Q("member",{count:S})]}):null,Z?(0,r.jsxs)(h.kC,{sx:{alignItems:"center"},children:[(0,r.jsx)(b.xv,{variant:"caption2",children:F(Z)}),(0,r.jsx)(d.riV,{}),N&&(0,r.jsx)(b.xv,{variant:"caption2",children:l()(N).fromNow()})]}):null]}),(0,r.jsx)(h.xu,{ml:4})]}),(0,r.jsxs)(h.kC,{sx:{"& ul":G?{}:{position:"fixed",minWidth:"auto",zIndex:999,minHeight:"auto",maxHeight:"50vh",overflow:"auto",marginRight:"30px"}},children:[K?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.lYB,{}),(0,r.jsx)(h.xu,{ml:4})]}):null,_||q||$&&$===W?(0,r.jsxs)(i.qy,{keepOpenOnClick:!0,menuTitle:(0,r.jsx)(c.T41,{}),children:[_&&(0,r.jsx)(E,{text:Q(K?"unPin":"pinToTop"),postId:n,isPinned:K}),X&&$&&$===W?(0,r.jsx)(b.sN,{onClick:function(t){X()},text:Q("editPost")}):(0,r.jsx)(r.Fragment,{}),_&&$!==W&&q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{memberId:D,text:Q("removeMember")}),(0,r.jsx)(I.Z,{isBan:!0,memberStatus:q,memberId:D,text:q===o.G8.isPermitted?Q("banMember"):Q("unBanMember")})]}):null,Y&&(_||$===W)&&(0,r.jsx)(A,{onDelete:Y,text:Q("deletePost")})]}):null]})]}),(0,r.jsxs)(h.xu,{sx:{cursor:"pointer"},onClick:function(){if(n&&s.length)return a.default.push({pathname:g.y4.communityPostDetails,query:{communityTitle:s,postTitle:M}},g.XC.communityPostDetails({communityTitle:s,postId:n||""}))},children:[O?(0,r.jsx)(h.xu,{mt:6}):k?(0,r.jsx)(h.xu,{my:4,sx:{borderRadius:4,overflow:"hidden",maxHeight:406,":hover":{img:{transition:"all 0.5s ease-in-out",opacity:"0.9",transform:"scale(1.1)"}}},children:(0,r.jsx)(f.oM,{ratio:16/9,children:(0,r.jsx)(b.Ee,{alt:"",src:k,width:"100%",height:"auto",borderRadius:"inherit",objectFit:"cover"})})}):(0,r.jsx)(h.xu,{mt:6}),R&&!k?(0,r.jsx)(h.xu,{my:4,sx:{borderRadius:4,overflow:"hidden",maxHeight:406},children:(0,r.jsx)(f.oM,{ratio:16/9,children:(0,r.jsx)(h.xu,{height:"100%",children:(0,r.jsx)(b.Yb,{title:e,productType:1})})})}):null,M&&(0,r.jsx)(h.xu,{mb:2,mt:2,children:(0,r.jsx)(b.X6,{variant:"h6",children:M})}),(0,r.jsx)(h.xu,{mt:1,children:(0,r.jsx)(b.xv,{variant:"body2",lineClamp:z||3,children:Z&&Z===o.SV.ARTICLE?(0,r.jsx)(h.xu,{sx:{"& img":{maxWidth:"100%"}},dangerouslySetInnerHTML:{__html:u}}):u})}),(0,r.jsxs)(h.kC,{justifyContent:"space-between",children:[(0,r.jsx)(h.kC,{children:(0,r.jsxs)(r.Fragment,{children:[L?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.xu,{sx:{mt:3},children:(0,r.jsx)(p.Z,{postId:n,isLiked:V,likeCount:U,likeId:H})}),(0,r.jsx)(h.xu,{mr:3})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.kC,{sx:{mt:3,alignItems:"center"},children:[(0,r.jsx)(b.Bz,{size:"small",children:(0,r.jsx)(x.ajU,{})}),(0,r.jsx)(h.xu,{ml:2}),(0,r.jsxs)(b.xv,{variant:"body2",color:"onSurface.light",children:[T," ",L?Q("post",{count:T}):""]})]}),(0,r.jsx)(h.xu,{mr:3})]}),L?null:(0,r.jsxs)(h.kC,{sx:{mt:3,alignItems:"center"},onClick:function(t){t.stopPropagation(),function(){if(window)try{window.navigator.share(tt)}catch(t){console.log("shareApi error ",t.message);try{navigator.clipboard.writeText("".concat(J,"&source=link")).then((function(){return console.log("copied "),(0,b.FN)({message:"".concat(Q("urlCopiedSuccessfully"),"!"),position:"bottom-left"})}))}catch(e){console.log("can not copy to clipboard")}}}()},children:[(0,r.jsx)(b.Bz,{size:"small",children:(0,r.jsx)(m.KQY,{})}),(0,r.jsx)(h.xu,{ml:1}),(0,r.jsx)(b.xv,{variant:"body2",color:"onSurface.light",children:Q("share")})]})]})}),L?null:(0,r.jsx)(h.xu,{sx:{mt:3},children:(0,r.jsx)(y.Z,{postId:n,bookmarkId:B})})]})]})]})})}}}]);