"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7847],{27847:function(e,n,t){t.d(n,{Hp:function(){return Pe},s2:function(){return m},te:function(){return M},oP:function(){return y},ok:function(){return _},B7:function(){return J},tq:function(){return O},ti:function(){return ye},fS:function(){return ue}});var r=t(24246),o=t(27378),i=t(86677),l=t(72022),s=t(45356),a=t(9078),c=t(55344),u=t(27953),d=function(e){var n,t,d,f=i.default.query.source,x=e.data,p=e.callbacks,m=x.isSignUpMode,g=x.shouldShowReferralCode,v=x.shouldAuthenticateWithUserName,h=x.errorMessages,b=x.authErrorMessage,j=x.termsConditionsUrl,y=x.onAuthSubmitProgress,C=x.testRecaptcha,S=x.socialSignins,k=x.privacyPolicyUrl,w=x.isMandatorySignin,O=p.goToSignIn,I=p.goToSignUp,E=p.onAuthSubmit,P=p.onEmailOrUserNameSubmit,T=p.onSocialSignIn,M=p.onSocialSignInFail,D=p.onForgotPassword,F=p.exploreNavigation,U=(0,o.useRef)(null),L=(0,o.useRef)(null),_=(0,o.useRef)({}),A=(0,o.useState)(!1),R=A[0],N=A[1],z=(0,a.$)("account").t,V=(0,o.useState)(""),B=V[0],q=V[1],Y=(0,o.useState)(""),W=Y[0],$=Y[1],K=(0,o.useState)(""),H=K[0],G=K[1],Z=(0,o.useState)(null!==(d=null===(n=x.referralCode)||void 0===n||null===(t=n.params)||void 0===t?void 0:t.code)&&void 0!==d?d:""),J=Z[0],X=Z[1],Q=(0,o.useState)(!1),ee=Q[0],ne=Q[1],te=window&&window.location.origin&&window.location.origin.includes("learnyst.com"),re=window&&window.location.origin&&window.location.origin.includes("localhost:"),oe=!(te||re);(0,o.useEffect)((function(){window.addEventListener("message",(function(e){"MM:3PCunsupported"===e.data?ne(!0):"MM:3PCsupported"===e.data&&ne(!1)}),!1)}),[]),(0,o.useEffect)((function(){N(y)}),[y]),(0,o.useEffect)((function(){N(!1)}),[b,h]);var ie=(0,o.useCallback)((function(e){e&&(E(W,H,B,J,z,e,"string"===typeof f?f:void 0,oe),N(!0))}),[W,H,B,J,z,E,f]),le=(0,o.useCallback)((function(){P(W,B,U,z)}),[W,P]),se=(0,o.useCallback)((function(){P(W,B,U,z)}),[B,P]),ae=(0,o.useCallback)((function(e){U.current=e.current}),[]),ce=(0,o.useCallback)((function(e){L.current=e.current}),[]),ue=(0,o.useCallback)((function(e){"Enter"===e.key&&P(W,B,U,z)}),[W,B,U,z]),de=(0,o.useCallback)((function(e){var n,t,r,o,i;"Enter"===e.key&&(g&&0!==J.length?null===(n=L.current)||void 0===n||n.focus():(null===(t=_.current)||void 0===t||null===(r=t.reset)||void 0===r||r.call(t),null===(o=_.current)||void 0===o||null===(i=o.execute)||void 0===i||i.call(o),N(!0)))}),[g,J,_.current]),fe=(0,o.useCallback)((function(e){var n,t,r,o;"Enter"===e.key&&(null===_||void 0===_||null===(n=_.current)||void 0===n||null===(t=n.reset)||void 0===t||t.call(n),null===_||void 0===_||null===(r=_.current)||void 0===r||null===(o=r.execute)||void 0===o||o.call(r),N(!0))}),[_]),xe=(0,o.useCallback)((function(){var e,n,t,r;y||(null===_||void 0===_||null===(e=_.current)||void 0===e||null===(n=e.reset)||void 0===n||n.call(e),null===_||void 0===_||null===(t=_.current)||void 0===t||null===(r=t.execute)||void 0===r||r.call(t))}),[_,y]),pe=(0,o.useCallback)((function(){return z(y||R?"loading":m?"signUpButton":"signIn")}),[m,y,z,R]),me=0===(v?W:B).length||0===H.length,ge=(0,o.useState)(!1),ve=ge[0],he=ge[1];return(0,o.useEffect)((function(){setTimeout((function(){he(!0)}),2e3)}),[]),(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",alignItems:"stretch",margin:"0 auto"},children:[(0,r.jsx)(l.xu,{children:(0,r.jsx)(s.xv,{category:"h4",alignment:"center",textTransform:"capitalize",children:z(m?"createAccount":"signinToYourAccount")})}),(0,r.jsx)(l.xu,{pt:4,children:(0,r.jsxs)(l.kC,{sx:{alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)(l.xu,{pr:2,children:(0,r.jsx)(s.xv,{children:z(m?"accountExists":"noAccount")})}),(0,r.jsx)(s.rU,{type:"internal",onClick:function(){return(m?O:I)()},textProps:{category:"c2"},underline:!0,children:z(m?"signIn":"signUpButton").toUpperCase()})]})}),(0,r.jsx)(l.xu,{pt:6,children:v?(0,r.jsx)(s.nv,{label:"".concat(z("userName"),"*"),onChange:$,value:W,onBlur:le,placeholderText:z("userNamePlaceholder"),state:(null===h||void 0===h?void 0:h.userNameErrorMsg)||(null===b||void 0===b?void 0:b.length)?"error":void 0,captionIcon:(null===h||void 0===h?void 0:h.userNameErrorMsg)?u.q.infoCircular:void 0,captionText:null===h||void 0===h?void 0:h.userNameErrorMsg,onKeyDown:ue}):(0,r.jsx)(s.nv,{label:"".concat(z("email"),"*"),onChange:q,value:B,onBlur:se,placeholderText:z("emailPlaceholder"),state:(null===h||void 0===h?void 0:h.emailErrorMsg)||(null===b||void 0===b?void 0:b.length)?"error":void 0,captionIcon:(null===h||void 0===h?void 0:h.emailErrorMsg)?u.q.infoCircular:void 0,captionText:null===h||void 0===h?void 0:h.emailErrorMsg,type:"email",onKeyDown:ue})}),(0,r.jsx)(l.xu,{pt:2,children:(0,r.jsx)(s.nv,{type:"password",label:"".concat(z("password"),"*"),placeholderText:z("passwordPlaceholder"),value:H,onChange:G,setInputRef:ae,state:(null===h||void 0===h?void 0:h.passwordErrorMsg)?"error":void 0,captionText:null===h||void 0===h?void 0:h.passwordErrorMsg,onKeyDown:de,captionIcon:(null===h||void 0===h?void 0:h.passwordErrorMsg)?u.q.infoCircular:void 0})}),m&&g&&J&&(0,r.jsx)(l.xu,{pt:4,children:(0,r.jsx)(s.nv,{placeholderText:z("referralCodePlaceholder"),value:J,onChange:X,label:z("referral_code"),setInputRef:ce,onKeyDown:fe})}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",alignItems:"stretch","& button":{mx:0}},children:[(0,r.jsx)(s.zx,{onClick:xe,size:"large",disabled:me,children:(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[(R||y)&&(0,r.jsx)(l.$j,{color:"text-control-color",sx:{height:2,width:2,mr:2}}),(0,r.jsx)(l.xu,{children:pe().toUpperCase()})]})}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[!!b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.tv,{icon:u.q.alertCircular,color:"error",cursor:"default"}),(0,r.jsx)(l.xu,{pl:1})]}),(0,r.jsx)(l.xu,{sx:{flex:"1 1"},children:(0,r.jsxs)(s.xv,{category:"c1",children:[b,"\xa0"]})})]})]}),!m&&(0,r.jsx)(l.xu,{pt:1,pb:2,sx:{textAlign:"center"},children:(0,r.jsx)(s.rU,{type:"internal",textProps:{category:"c2",textDecorationLine:"underline",alignment:"center"},status:"basic",onClick:function(){return D()},children:z("forgotPassword").toUpperCase()})}),!v&&(S.google_client_id||S.fb_app_id||S.apple_data)&&(0,r.jsxs)(l.kC,{pt:4,sx:{flexDirection:"column",alignItems:"stretch"},children:[(0,r.jsx)(s.xv,{alignment:"center",children:z("common:or")}),S.google_client_id&&(0,r.jsxs)(l.xu,{pt:2,children:[(0,r.jsx)(c.Ji,{type:"light",gplusWebClientId:S.google_client_id,onSuccess:T,onFailure:M}),(0,r.jsx)(l.kC,{sx:{alignItems:"center"},pt:1,children:ee&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.tv,{fontSize:"c1",icon:u.q.infoCircular,color:"error"}),(0,r.jsx)(l.xu,{pl:1,sx:{flex:"1 1"},children:(0,r.jsxs)(s.xv,{category:"c1",children:[z("cookiesBlockedMessage"),"\xa0"]})})]})})]}),S.fb_app_id&&(0,r.jsx)(l.xu,{pt:4,children:(0,r.jsx)(c.mt,{onSuccess:T,onFailure:M,facebookAppId:S.fb_app_id})}),S.apple_data&&ve&&(0,r.jsx)(l.xu,{pt:4,children:(0,r.jsx)(c.XL,{type:"light",onSuccess:T,onFailure:M,apple_data:S.apple_data})})]}),m&&(j||k)&&(0,r.jsx)(l.kC,{pt:9,sx:{alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(s.xv,{alignment:"center",children:[(0,r.jsxs)(s.xv,{category:"c2",style:{display:"inline"},children:[z("acceptTerms"),"\xa0"]}),j&&(0,r.jsx)(s.rU,{textProps:{category:"c2",style:{display:"inline"}},type:"external",href:j,underline:!0,children:z("terms")}),j&&k&&(0,r.jsxs)(s.xv,{category:"c2",style:{display:"inline"},children:["\xa0&\xa0",(0,r.jsx)("br",{})]}),k&&(0,r.jsx)(s.rU,{textProps:{category:"c2",style:{display:"inline"}},type:"external",href:k,underline:!0,children:z("privacyPolicy")})]})}),!w&&(0,r.jsx)(l.kC,{pt:6,sx:{alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(s.xv,{children:[(0,r.jsx)(s.xv,{category:"p1",style:{display:"inline"},children:z(m?"continueWithoutSignup":"continueWithoutSignin")}),"\xa0\xa0",(0,r.jsx)(s.rU,{textProps:{category:"c2",style:{display:"inline"}},type:"internal",onClick:function(){return F()},underline:!0,children:z("explore").toUpperCase()})]})}),(0,r.jsx)(c.Iy,{recaptchaRef:_,testRecaptcha:C,onChangeRecaptcha:ie}),(0,r.jsx)("iframe",{title:"Third-Party Cookies",src:"https://mindmup.github.io/3rdpartycookiecheck/start.html",style:{display:"none"}})]})};function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}var p=function(e){return(0,r.jsx)(l.kC,{sx:{flex:1,justifyContent:"center"},px:4,py:10,children:(0,r.jsxs)(l.xu,{sx:{maxWidth:19,margin:"0 auto",width:"100%"},children:[e.data.schoolLogo?(0,r.jsx)(l.xu,{sx:{height:12,width:"100%",position:"relative",textAlign:"center"},children:(0,r.jsx)(s.pl,{imageSource:e.data.schoolLogo,resizeMode:"contain",accessibilityLabel:"Logo",disableHover:!0,hideOutline:!0})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.xu,{sx:{height:8}}),(0,r.jsx)(l.kC,{sx:{width:"100%",justifyContent:"center"},children:(0,r.jsx)(s.xv,{category:"h6",children:e.data.schoolName})})]}),(0,r.jsx)(l.xu,{pt:8}),(0,r.jsx)(d,x({},e))]})})},m=o.memo(p),g=t(96664),v=function(e){var n=(0,a.$)("account").t,t=(0,o.useState)(""),i=t[0],d=t[1],f=(0,o.useState)(),x=f[0],p=f[1],m=(0,o.useState)(),v=m[0],h=m[1],b=(0,o.useState)(!1),j=b[0],y=b[1],C=(0,o.useRef)({}),S=e.callbacks,k=e.data,w=S.submitEmail,O=S.navigateToSignIn,I=k.isAuthTypeUserName,E=k.isAuthTypeEmail,P=k.testRecaptcha,T=k.isEmailNotValid,M=k.supportEmail,D=(0,g.UK)(w),F="success"===D.status,U="error"===D.status,L=F?u.q.checkCircle:u.q.infoCircular,_=F||U?L:void 0,A=F||U?F?"success":"error":void 0,R=!!window&&!!window.location.origin&&!window.location.origin.includes("learnyst.com")&&!window.location.origin.includes("localhost:"),N=(0,o.useCallback)((function(e){e&&D.execute(i,n,e,R)}),[w,R,i,n,D]),z=(0,o.useCallback)((function(){var e,n,t,r;j||(y(!0),null===(e=C.current)||void 0===e||null===(n=e.reset)||void 0===n||n.call(e),null===(t=C.current)||void 0===t||null===(r=t.execute)||void 0===r||r.call(t))}),[C.current,T,j]);return(0,o.useEffect)((function(){if(p(void 0),h(void 0),(F||U)&&y(!1),F)p(n("resetPasswordSuccess"));else if(U&&!T){var e;h(null===(e=D.error)||void 0===e?void 0:e.message)}else T&&h(n("invalid_email"))}),[D.status,T]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",maxWidth:19,margin:"auto"},children:[(0,r.jsx)(s.xv,{category:"h4",alignment:"center",children:n("resetPassword")}),(0,r.jsx)(l.xu,{pt:4}),E&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.xv,{alignment:"center",children:n("resetYourPasswordDes")}),(0,r.jsx)(l.xu,{pt:6}),(0,r.jsx)(s.nv,{type:"email",placeholderText:n("emailPlaceholder"),label:n("email"),onChange:d,value:i,captionText:j?void 0:null!==v&&void 0!==v?v:x,captionIcon:j?void 0:_,state:j?void 0:A}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.zx,{onClick:z,size:"large",children:(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[j&&(0,r.jsx)(l.$j,{color:"text-control-color",sx:{height:2,width:2,mr:2}}),(0,r.jsx)(l.xu,{children:n(j?"common:loading":"submit").toLocaleUpperCase()})]})})]}),I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{children:n("pleaseContactAdmin")}),M&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.xu,{pt:1}),(0,r.jsx)(s.rU,{href:"mailto:".concat(M),children:M})]})]}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.zx,{onClick:function(){return O()},size:"large",type:"ghost",variant:"basic",children:n("cancel").toLocaleUpperCase()})]}),(0,r.jsx)(c.Iy,{recaptchaRef:C,onChangeRecaptcha:N,testRecaptcha:!!P})]})},h=o.memo(v);function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var j=function(e){return(0,r.jsx)(h,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}({},e))},y=o.memo(j),C=function(e){var n=(0,a.$)("account").t,t=(0,o.useState)(""),i=t[0],c=t[1],d=(0,o.useState)(""),f=d[0],x=d[1],p=(0,o.useState)(!1),m=p[0],v=p[1],h=(0,o.useState)(""),b=h[0],j=h[1],y=(0,o.useState)(!1),C=y[0],S=y[1],k=(0,o.useRef)(null),w=e.callbacks,O=e.data,I=w.navigateBack,E=w.onSubmitPassword,P=O.newPasswordErrorMsg,T=O.confirmPasswordErrorMsg,M=(0,g.UK)(E),D=P?u.q.infoCircular:void 0,F=T?u.q.infoCircular:void 0,U=(0,o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m||(S(!t),M.execute(t,{newPassword:i,confirmPassword:f,t:n},R))}),[i,f,E,n,k.current,m]),L=(0,o.useCallback)((function(e){"Enter"===e.key&&U(void 0,!0)}),[i,f]),_=(0,o.useCallback)((function(e){"Enter"===e.key&&U()}),[i,f]),A=(0,o.useCallback)((function(e){k.current=e.current}),[]),R=(0,o.useCallback)((function(){var e;null===(e=k.current)||void 0===e||e.focus()}),[k.current]);return(0,o.useEffect)((function(){var e,t;(v("loading"===M.status),"error"===M.status)&&j(null!==(t=null===(e=M.error)||void 0===e?void 0:e.message)&&void 0!==t?t:"");"success"===M.status&&C&&(0,s.FN)({message:n("passwordModifySuccess")})}),[M.status,C]),(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(l.xu,{sx:{width:"100%",height:"100%",px:2},children:(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",maxWidth:19,margin:"auto",width:"100%",boxSizing:"border-box"},children:[(0,r.jsx)(s.xv,{category:"h4",alignment:"center",children:n("resetPassword")}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(s.xv,{alignment:"center",children:n("createPassword")}),(0,r.jsx)(l.xu,{pt:6}),(0,r.jsx)(s.nv,{type:"password",label:n("newPassword"),placeholderText:n("enterNewPassword"),captionIcon:D,captionText:P,state:P?"error":"basic",onKeyDown:L,onChange:c,value:i}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.nv,{type:"password",label:n("confirmPassword"),placeholderText:n("re_enter_new_password"),captionIcon:F,captionText:T,state:T?"error":"basic",onKeyDown:_,onChange:x,value:f,setInputRef:A}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(s.zx,{onClick:U,size:"large",children:(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[m&&(0,r.jsx)(l.$j,{color:"text-control-color",sx:{height:2,width:2,mr:2}}),(0,r.jsx)(l.xu,{children:n(m?"common:loading":"submit").toLocaleUpperCase()})]})}),(0,r.jsx)(l.xu,{pt:2}),!!b&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(s.xv,{status:"error",category:"c1",children:[b,"\xa0"]}),(0,r.jsx)(l.xu,{pt:2})]}),(0,r.jsx)(s.zx,{onClick:function(){return I()},size:"large",type:"ghost",variant:"basic",children:n("cancel").toLocaleUpperCase()})]})})})},S=o.memo(C);function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w=function(e){return(0,r.jsx)(S,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}({},e))},O=o.memo(w),I=function(e){var n=(0,a.$)("account").t,t=e.data,i=e.callbacks,c=t.userEmail,u=i.onResendEmail,d=i.onEmailVerificationComplete,f=i.onExitFromEmailVerification,x=(0,g.UK)(u),p=(0,g.UK)(d),m=(0,o.useCallback)((function(){x.execute()}),[]),v=(0,o.useCallback)((function(){p.execute()}),[]),h=(0,o.useCallback)((function(){f()}),[]);return(0,o.useEffect)((function(){"success"===x.status?(0,s.FN)({message:n("emailSentSuccessfully")}):"error"===x.status&&(0,s.FN)({message:n("someErrorOccurred")})}),[x.status]),(0,o.useEffect)((function(){"error"===p.status&&(0,s.FN)({message:n("notVerified")})}),[p.status]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.kC,{sx:{flexDirection:["column-reverse","row"],flex:1,justifyContent:"center"},children:[(0,r.jsx)(l.xu,{px:4,sx:{margin:"auto"},children:(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",maxWidth:21},children:[(0,r.jsx)(s.xv,{category:"h4",alignment:"center",children:n("verifyEmail")}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(s.xv,{children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:n("pleaseVerify",{name:"<b>".concat(c,"</b>")})}})}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.xv,{children:n("emailVerificationMessage")}),(0,r.jsx)(l.kC,{pt:6,sx:{justifyContent:"center"},children:(0,r.jsx)(s.zx,{onClick:v,size:"large",disabled:p.loading,children:(p.loading?n("common:loading"):n("completedVerification")).toLocaleUpperCase()})}),(0,r.jsx)(l.kC,{pt:2,sx:{justifyContent:"center"},children:(0,r.jsx)(s.zx,{onClick:m,type:"outline",size:"large",disabled:x.loading,children:(x.loading?n("common:loading"):n("resendEmail")).toLocaleUpperCase()})})]})}),(0,r.jsx)(l.xu,{p:4,sx:{position:"absolute",right:0,top:0},children:(0,r.jsx)(s.zx,{onClick:h,children:n("common:signOut").toLocaleUpperCase()})})]})})},E=o.memo(I);function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var T=function(e){return(0,r.jsx)(E,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}({},e))},M=o.memo(T),D=function(e){var n=e.data,t=e.callbacks,i=n.userEmail,c=n.userMobileNumber,d=n.isMobileOtptype,f=n.isEmailOtpType,x=n.isMobileVerified,p=n.shouldAllowOtpVerification,m=n.phoneInputInitialCountry,g=n.isInternationalOtpEnabled,v=n.isPhoneInputDisabled,h=n.isRequestOtpError,b=n.authErrorMessage,j=n.shouldOtpResendCount,y=n.isSubmitOtpLoading,C=n.isAuthApiFailed,S=n.otpSentType,k=t.onRequestOtp,w=t.onSubmitOtp,O=t.onExitFromOtpVerification,I=t.onRequestResendOtp,E=t.onMobileNumberEdit,P=(0,o.useState)(i),T=P[0],M=P[1],D=(0,o.useState)(c),F=D[0],U=D[1],L=(0,o.useState)(""),_=L[0],A=L[1],R=(0,o.useState)(0),N=R[0],z=R[1],V=(0,o.useState)(!1),B=V[0],q=V[1],Y=(0,o.useState)(!1),W=Y[0],$=Y[1],K=(0,a.$)("account").t,H=K(x?"We_need_to_reverify_your_account_for_security":"Verify_your_account_by_login_through_OTP"),G=K("pleaseEnterOtpSentTo",{mobileNumber:F,otpSentType:K(S)}),Z=d?G:K("emailOtpResendMessage",{userEmail:i}),J=b,X={getValue:function(){return F},setValue:U},Q=(0,o.useCallback)((function(){B||y||(W?I(X):k(X),q(!0),$(!1),A(""))}),[X,B,y,W]),ee=(0,o.useCallback)((function(){B||y||(w(void 0,_,(function(){return(0,s.FN)({message:K(d?"mobileNumberVerified":"emailVerified")})})),q(!0))}),[_,d,B,y]),ne=(0,o.useCallback)((function(){I(X),z(60)}),[I,X,j,J]);return(0,o.useEffect)((function(){p&&!W&&(z(60),q(!1))}),[p,W]),(0,o.useEffect)((function(){q(!1)}),[d,f]),(0,o.useEffect)((function(){if(N>0){var e=setTimeout((function(){z((function(e){return e-1}))}),1e3);return function(){clearTimeout(e)}}}),[N]),(0,o.useEffect)((function(){!p&&h&&q(!1),p&&C&&q(!1)}),[h,C,p]),(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",maxWidth:19,margin:"auto",minWidth:[0,19],alignItems:"stretch",px:2},children:[(0,r.jsxs)(s.xv,{category:"h4",alignment:"center",children:[f&&K("emailVerification"),d&&K("mobileVerification")]}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(s.xv,{alignment:"center",children:p&&!W?Z:H}),p&&d&&!x&&(0,r.jsxs)(s.xv,{alignment:"center",sx:{pt:2},children:[K("enteredIncorrectNumber"),"\xa0",(0,r.jsx)(s.rU,{type:"internal",onClick:function(){$(!0),E()},underline:!0,textProps:{category:"c2",style:{display:"inline"}},children:K("edit").toLocaleUpperCase()})]}),(0,r.jsx)(l.xu,{pt:6}),(!p||W)&&(0,r.jsxs)(r.Fragment,{children:[f&&(0,r.jsx)(s.nv,{value:T,onChange:M,label:K("email"),placeholderText:K("emailPlaceholder"),captionText:h?J:void 0,state:h?"error":void 0,captionIcon:h?u.q.infoCircular:void 0,disabled:!0}),d&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.sb,{label:K("phoneNumber"),value:X.getValue(),onChange:X.setValue,country:m,countryCodeEditable:g,disableDropdown:!g,disabled:v,captionText:b&&h?b:void 0,required:!0})}),(0,r.jsx)(l.xu,{pt:2})]}),p&&!W&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.lO,{label:K("mobileVerificationOtp"),captionText:C?J:void 0,captionIcon:C?u.q.infoCircular:void 0,status:C?"error":void 0,onChange:A}),(0,r.jsx)(l.xu,{pt:6}),(0,r.jsx)(l.kC,{sx:{justifyContent:"space-between"},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xv,{alignment:"center",style:{display:"inline"},children:[K("didNotReceiveOtp"),"\xa0"]}),(0,r.jsxs)(s.xv,{style:{display:"inline"},children:["\xa0",N?"00:".concat(N.toLocaleString("en-US",{minimumIntegerDigits:2})):(0,r.jsx)(s.rU,{underline:!0,disabled:!!N,type:"internal",onClick:ne,textProps:{category:"c2",style:{display:"inline"}},children:K(g?"resend":"getOtpViaCall").toLocaleUpperCase()})]})]})})]}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.zx,{onClick:p&&!W?ee:Q,disabled:6!==_.length&&!(W||!p),children:(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[(B||y)&&(0,r.jsx)(l.$j,{color:"text-control-color",sx:{height:2,width:2,mr:2}}),(0,r.jsx)(l.xu,{children:K(B||y?"common:loading":"submit").toLocaleUpperCase()})]})}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.zx,{onClick:function(){return O()},type:"ghost",variant:"basic",children:K("cancel").toLocaleUpperCase()})]})},F=o.memo(D);function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var L=function(e){return(0,r.jsx)(F,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){U(e,n,t[n])}))}return e}({},e))},_=o.memo(L),A=t(38423),R=t(61320),N=t.n(R);function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){z(e,n,t[n])}))}return e}var B=function(e){var n=e.fields,t=e.fieldAttributes,i=e.defaultValues,a=e.labels,c=e.setLabels,d=(0,o.useState)(V({},i)),f=d[0],x=d[1],p=(0,o.useRef)({}),m=(0,o.useState)({}),g=m[0],v=m[1],h=(0,o.useRef)(!1),b=(0,o.useRef)(null);(0,o.useEffect)((function(){n.filter((function(e){var n;return!!(null===(n=t[e.id])||void 0===n?void 0:n.isPhoneType)})).forEach((function(e){return p.current[e.id]=i[e.id]}))}),[i]),(0,o.useEffect)((function(){var n,t=!1;Object.keys(f).forEach((function(e){(f[e]||i[e])&&f[e]!==i[e]&&(t=!0)})),t&&(null===(n=e.onChange)||void 0===n||n.call(e,V({},i,f)))}),[f,i]);var j=(0,o.useCallback)((function(e,n,r){var o=t[e];(!o.isPhoneType&&!o.isTextFieldType||g[e])&&(r&&c(V({},a,z({},e,r))),x((function(t){return V({},t,z({},e,n))})))}),[t,g,a]),y=u.q.infoCircular,C=function(e,n){n&&c((function(t){return V({},t,z({},e.id,null===n||void 0===n?void 0:n.label))}))},S=function(e){var n,c,u,d,x,m,g,k,w,O,I,E=t[e.id],P=i[e.id],T=JSON.stringify(e.id),M=null===(n=e.values)||void 0===n?void 0:n.find((function(e){return e.key===P})),D=null!==(x=null===(c=e.values)||void 0===c?void 0:c.find((function(n){return f[e.id]===n.key})))&&void 0!==x?x:M,F=null===D||void 0===D||null===(u=D.child_field)||void 0===u?void 0:u.map(S);return a[e.id]||!(null===D||void 0===D?void 0:D.label)||(null===b||void 0===b||null===(d=b.current)||void 0===d?void 0:d[e.id])||(b.current||(b.current={}),b.current[e.id]=null===D||void 0===D?void 0:D.label,C(e,D)),E?E.isDropDownType?(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)("span",{ref:function(e){e&&!h.current&&E.errorMessage&&(e.scrollIntoView({behavior:"smooth",block:"start"}),h.current=!0)},children:[(0,r.jsx)(s.Ph,{label:E.label,onChange:function(n){var t;j(e.id,null===n||void 0===n?void 0:n.value.toString(),null===n||void 0===n||null===(t=n.label)||void 0===t?void 0:t.toString())},name:T,options:e.values.map((function(e){return{label:e.label,value:e.key}})),defaultValue:D?{label:D.label,value:D.key}:void 0,captionIcon:E.errorMessage?y:void 0,captionText:null!==(m=E.errorMessage)&&void 0!==m?m:void 0,status:E.errorMessage?"error":void 0,required:E.isMandatory}),F]})}):E.isRadioButtonType?(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)("span",{ref:function(e){e&&!h.current&&E.errorMessage&&(e.scrollIntoView({behavior:"smooth",block:"start"}),h.current=!0)},children:[(0,r.jsx)(A.Ee,{name:E.id.toString(),options:e.values.map((function(e){return{label:e.label,value:e.key}})),label:E.label,onChange:function(n,t){j(e.id,n,t)},textAlignment:"center",required:E.isMandatory,value:P,captionIcon:E.errorMessage?y:void 0,captionText:E.errorMessage?E.errorMessage:void 0,status:E.errorMessage?"error":void 0}),(0,r.jsx)(l.xu,{py:E.errorMessage?0:1}),F]})}):E.isPhoneType?(0,r.jsx)("span",{ref:function(e){e&&!h.current&&E.errorMessage&&(e.scrollIntoView({behavior:"smooth",block:"start"}),h.current=!0)},children:(0,r.jsx)(s.sb,{label:E.label,value:null!==(g=f[e.id])&&void 0!==g?g:""===P?void 0:P,disabled:!E.isTextFieldEditable,onChange:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];p.current[E.id]="+"+n[0]},name:T,required:E.isMandatory,captionIcon:E.errorMessage?y:void 0,captionText:E.errorMessage?E.errorMessage:void 0,status:E.errorMessage?"error":void 0,onBlur:function(){j(E.id,p.current[E.id])},onFocus:function(){return v((function(e){return V({},e,z({},E.id,!0))}))}})}):E.isDateType?(0,r.jsx)("span",{ref:function(e){e&&!h.current&&E.errorMessage&&(e.scrollIntoView({behavior:"smooth",block:"start"}),h.current=!0)},children:(0,r.jsx)(s.aj,{name:T,minDate:null===(k=E.validationRules.min)||void 0===k?void 0:k.toString(),maxDate:null===(w=E.validationRules.max)||void 0===w?void 0:w.toString(),textfieldProps:{label:E.label,required:E.isMandatory,captionIcon:E.errorMessage?y:void 0,captionText:E.errorMessage?E.errorMessage:void 0,state:E.errorMessage?"error":void 0,value:f[e.id]?N()(f[e.id]).format("YYYY-MM-DD"):P?N()(P).format("YYYY-MM-DD"):void 0},value:f[e.id]?N()(f[e.id]).format("YYYY-MM-DD"):P?N()(P).format("YYYY-MM-DD"):void 0,state:E.errorMessage?"error":void 0,onChange:function(n){j(e.id,N()(n).format("YYYY-MM-DD"))}})}):(0,r.jsx)("span",{ref:function(e){e&&!h.current&&E.errorMessage&&(e.scrollIntoView({behavior:"smooth",block:"start"}),h.current=!0)},children:(0,r.jsx)(s.nv,{name:T,minValue:E.isNumericFieldType?Math.max(-1e16,Number(null!==(O=E.validationRules.min)&&void 0!==O?O:-1e16)):void 0,maxValue:E.isNumericFieldType?Math.min(1e16,Number(null!==(I=E.validationRules.max)&&void 0!==I?I:1e16)):void 0,type:E.isNumericFieldType?"number":"text",label:E.label,initialValue:""===P?void 0:P,required:E.isMandatory,onBlur:function(n){j(e.id,n.target.value)},captionIcon:E.errorMessage?y:void 0,captionText:E.errorMessage?E.errorMessage:void 0,state:E.errorMessage?"error":void 0,onFocus:function(){return v((function(e){return V({},e,z({},E.id,!0))}))}})}):(0,r.jsx)(o.Fragment,{},e.id)};return(0,r.jsx)(r.Fragment,{children:n.map((function(e,t){return(0,r.jsxs)(o.Fragment,{children:[S(e),t!==n.length-1&&(0,r.jsx)(l.xu,{pt:2})]},e.id)}))})};function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Y(e,n,t[n])}))}return e}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,s=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(a){s=!0,o=a}finally{try{l||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(e){var n=e.data,t=e.callbacks,i=n.fields,c=n.isProfileFieldsPageLoading,u=n.fieldAttributes,d=n.defaultValues,f=n.isUpdateSuccess,x=n.isProfileFieldsSkipCountExceeded,p=n.isProfileUpdateTab,m=n.profileFieldsError,g=t.formSubmitCallback,v=t.fieldSubmitCallback,h=t.navigateToPostSigninRoute,b=t.navigateToProfile,j=t.signOut,y=t.onSkipProfile,C=(0,a.$)("account").t,S=(0,o.useState)({}),k=S[0],w=S[1],O=(0,o.useState)({}),I=O[0],E=O[1],P=(0,o.useState)(!1),T=P[0],M=P[1],D=(0,o.useCallback)((function(){var e;null===(e=Object.entries(u))||void 0===e||e.map((function(e){var n,t=$(e,2),r=t[0],o=t[1];(k[r]||(null===(n=u[r])||void 0===n?void 0:n.isMandatory))&&v(k[r],o,C,I[r])})),M(!0)}),[i,k,u,I]);(0,o.useEffect)((function(){T&&g(C,I)}),[T,I]);var F=(0,o.useCallback)((function(){p?b():j()}),[p]);return(0,o.useEffect)((function(){M(!1)}),[d]),(0,o.useEffect)((function(){f?((0,s.FN)({message:C("dataSaved")}),setTimeout((function(){p?b():h()}),0)):M(!1)}),[p,f]),(0,o.useEffect)((function(){!c&&T&&f&&(!(!!m&&i.some((function(e){var n,t;return(void 0==d[e.id]||!!(null===(n=u[e.id])||void 0===n?void 0:n.errorMessage))&&!!(null===(t=u[e.id])||void 0===t?void 0:t.isMandatory)})))&&!p&&h())}),[c,T,f]),c||f?(0,r.jsx)(s.aN,{}):(0,r.jsx)(l.kC,{sx:{p:6,flex:1,alignItems:"center"},children:(0,r.jsxs)(l.kC,{sx:{flexDirection:"column",width:"100%",maxWidth:19,mx:"auto",minWidth:[0,19],alignItems:"stretch"},children:[(0,r.jsx)(s.xv,{category:"h4",alignment:"center",children:C("Help_us_building_your_profile")}),(0,r.jsx)(l.xu,{pt:3}),(0,r.jsx)(s.xv,{category:"p2",alignment:"center",children:C("mandatoryFields")}),(0,r.jsx)(l.xu,{pb:3,children:!!(null===m||void 0===m?void 0:m.errorMessage)&&(0,r.jsx)(l.xu,{ref:function(e){return null===e||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:(0,r.jsx)(s.xv,{status:"error",children:m.errorMessage})})}),!x&&!p&&(0,r.jsx)(l.kC,{pb:2,sx:{justifyContent:"center"},children:(0,r.jsx)(s.zx,{onClick:function(){return y()},size:"small",type:"ghost",variant:"secondary",sx:{px:1},children:C("skipForNow").toLocaleUpperCase()})}),(0,r.jsx)(B,{fields:i,fieldAttributes:u,defaultValues:W({},d,k),onChange:w,labels:I,setLabels:E}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(s.zx,{onClick:D,size:"large",children:C("save").toLocaleUpperCase()}),(0,r.jsx)(l.xu,{pt:2}),(0,r.jsx)(s.zx,{onClick:F,size:"large",type:"ghost",variant:"basic",children:C(p?"cancel":"signOut").toLocaleUpperCase()})]})})},H=o.memo(K);function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Z=function(e){return(0,r.jsx)(H,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){G(e,n,t[n])}))}return e}({},e))},J=o.memo(Z),X=t(83461),Q=t(37740);function ee(e,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):e instanceof n}var ne=function(e){var n,t,i,c=e.segmentMappedList,d=e.allSegmentsData,f=e.onSelectSegment,x=e.selectedSegmentId,p=e.isSubscriptionMode,m=(0,X.B7)().theme,g=(0,a.$)("product").t,v=(0,o.useCallback)((function(e){var n,t=0;if(!e)return t;if(null===e||void 0===e||null===(n=e.subSegmentOrder)||void 0===n||n.forEach((function(e){t+=v(d[e])})),ee(e.productOrder,Array))return t;var r=Object.keys(e.productOrder).includes("product")?e.productOrder.product:e.productOrder;return ee(r,Array)||Object.keys(r).forEach((function(e){var n,o;"subscription_id"!==e&&(t+=null!==(o=null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n.length)&&void 0!==o?o:0)})),t}),[d]),h=(0,o.useCallback)((function(e){return e.subSegmentOrder?e.subSegmentOrder.filter((function(e){return Object.keys(d).includes((+e).toString())})).length:0}),[d]),b=null===(n=m.rawColors)||void 0===n?void 0:n["color-primary-500"],j=null===(t=m.rawColors)||void 0===t?void 0:t["color-primary-300"],y=null===(i=m.rawColors)||void 0===i?void 0:i["border-basic-color-3"],C=(0,o.useCallback)((function(e,n){var t=[];return!e&&t.push("".concat(v(n))+" ".concat(g("segment:product",{count:v(n)})," ")),n.subSegmentOrder&&t.push("".concat(h(n)," ").concat(g("segment:subsegment",{count:h(n)}))),t.join(" \u25cf ")}),[v,h]);return(0,r.jsx)(l.rj,{gap:6,columns:[1,2,3],children:c.map((function(e,n){var t,i;if(!e)return(0,r.jsx)(o.Fragment,{},n);var a=e.id===x,c=a?b:y,d=a?(0,r.jsx)(l.kC,{sx:{alignItems:"center",height:"100%"},children:(0,r.jsx)(s.tv,{icon:u.q.checkCircleFilled,color:"primary",fontSize:"h4"})}):(0,r.jsx)(r.Fragment,{});return(0,r.jsx)(l.kC,{sx:{border:"".concat(null===(t=m.borderWidths)||void 0===t?void 0:t[1],"px solid ").concat(c),borderRadius:"".concat(null===(i=m.radii)||void 0===i?void 0:i.card,"px"),overflow:"hidden",":hover":{borderColor:j}},children:(0,r.jsx)(Q.H,{onClick:function(){return f(e.id)},metaDataType:"component",supportedVisualType:"small-thumbnail",supportedVisualAltText:e.name,primaryText:(0,r.jsx)(s.xv,{category:"h6",noOfLines:1,children:e.name}),secondaryText:(0,r.jsx)(s.xv,{category:"c2",noOfLines:1,children:C(!!p,e)}),supportedVisualSource:e.segmentImage,metaDataOptions:{metaComponent:d}})},e.id)}))})},te=o.memo(ne),re=function(e){var n,t,i=(0,a.$)("product").t,c=(0,X.B7)().theme,u=(0,o.useState)(0),d=(u[0],u[1]),f=(0,o.useState)(0),x=(f[0],f[1]),p=((0,o.useCallback)((function(e){var n=null===e||void 0===e?void 0:e.getBoundingClientRect().height,t=null===e||void 0===e?void 0:e.offsetHeight;n&&t&&(d(t),x(n))}),[]),null===(n=c.rawColors)||void 0===n?void 0:n["border-basic-color-3"]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.kC,{sx:{width:"100%",position:"sticky",py:4,px:6,backgroundColor:"inherit",justifyContent:"center",bottom:0,zIndex:1,borderTop:"".concat(null===(t=c.borderWidths)||void 0===t?void 0:t[1],"px solid ").concat(p)},children:(0,r.jsxs)(l.kC,{sx:{maxWidth:27,width:"100%"},children:[(0,r.jsx)(s.zx,{onClick:e.onClickSuccessButton,disabled:e.successButtonDisabled,children:i("segmentSave").toLocaleUpperCase()}),(0,r.jsx)(l.xu,{pr:2}),(0,r.jsx)(s.zx,{onClick:e.onClickGoBack,type:"outline",disabled:e.goBackButtonDisabled,children:i("goBack").toLocaleUpperCase()}),e.showSkipButton&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.xu,{pr:2}),(0,r.jsx)(s.zx,{variant:"basic",onClick:function(){var n;return null===(n=e.onClickSkip)||void 0===n?void 0:n.call(e)},type:"ghost",children:i("segment:skip").toLocaleUpperCase()})]})]})})})};function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ie(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e){var n,t,i=e.data,c=e.callbacks,u=i.schoolLogo,d=i.segmentOrder,f=i.segmentList,x=i.schoolName,p=i.isSubscriptionMode,m=i.userSegmentId,g=i.isSegmentLoading,v=c.onSetCurrentSegment,h=c.onSetSegment,b=(c.goToStore,c.goBack),j=(0,o.useState)(null),y=j[0],C=j[1],S=(0,o.useState)([]),k=S[0],w=S[1],O=(0,o.useState)(null!==(t=null===d||void 0===d?void 0:d.map((function(e){return f[e]})).filter((function(e){return!!e})))&&void 0!==t?t:[]),I=O[0],E=O[1],P=(0,o.useState)(!1),T=P[0],M=P[1],D=(0,a.$)("product").t,F=(0,o.useCallback)((function(e){C(e)}),[]),U=(0,o.useCallback)((function(){if(y){v(y),w(ie(k).concat([y]));var e=f[y].subSegmentOrder;if(e)E(e.map((function(e){return f[e]})).filter((function(e){return!!e})));else{M(!0);var n=ie(k).concat([y]).map((function(e){return f[e].name})).join("/");h(y,n,(function(){return b()}))}}}),[y,k]),L=(0,o.useCallback)((function(){var e=ie(k);if(e.pop(),w(e),0!==e.length){var n=e[e.length-1];C(n);var t=f[n].subSegmentOrder;t&&E(t.map((function(e){return f[e]})).filter((function(e){return!!e})))}else{var r;C(null),E(null!==(r=null===d||void 0===d?void 0:d.map((function(e){return f[e]})).filter((function(e){return!!e})))&&void 0!==r?r:[])}}),[k,f,d]),_=(0,o.useCallback)((function(e){if(e){var n=k.findIndex((function(n){return n===e})),t=ie(k);t.splice(n+1),w(t),C(e);var r=f[e].subSegmentOrder;r&&E(r.map((function(e){return f[e]})).filter((function(e){return!!e})))}else{var o;w([]),C(null),E(null!==(o=null===d||void 0===d?void 0:d.map((function(e){return f[e]})).filter((function(e){return!!e})))&&void 0!==o?o:[])}}),[k,f,d]);(0,o.useEffect)((function(){var e;E(null!==(e=null===d||void 0===d?void 0:d.map((function(e){return f[e]})).filter((function(e){return!!e})))&&void 0!==e?e:[])}),[f,d]),(0,o.useEffect)((function(){var e;if(m&&(!y||!I.some((function(e){return e.id===y}))))if(I.some((function(e){return e.id===m})))C(m);else{var n,t=!0,r=!1,o=void 0;try{for(var i,l=function(e,n){var t=n.value,r=parseInt(t);if(I.some((function(e){return e.id===r})))return C(r),"break"},s=(null!==(n=null===N||void 0===N||null===(e=N.ancestry)||void 0===e?void 0:e.split("/"))&&void 0!==n?n:[])[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){if("break"===l(0,i))break}}catch(a){r=!0,o=a}finally{try{t||null==s.return||s.return()}finally{if(r)throw o}}}}),[m,f,I]);var A,R=[{title:D("segment:segment",{count:d.length}).toLocaleUpperCase(),onClick:_}].concat(ie(k.length<5?k.map((function(e){return{title:f[e].name.toUpperCase(),onClick:function(){return _(e)}}})):ie(k.slice(0,1).map((function(e){return{title:f[e].name.toUpperCase(),onClick:function(){return _(e)}}}))).concat([{title:"..."}],ie(k.slice(-2).map((function(e){return{title:f[e].name.toUpperCase(),onClick:function(){return _(e)}}})))))),N=m?f[m]:void 0;return(g||0===d.length||T)&&s.aN,(0,r.jsxs)(l.kC,{sx:{flex:1,flexDirection:"column",backgroundColor:"inherit"},children:[(0,r.jsx)(l.kC,{sx:{flex:1,flexDirection:"column",backgroundColor:"inherit",px:6},children:(0,r.jsxs)(l.kC,{sx:{maxWidth:27,mx:"auto",my:10,width:"100%",alignItems:"stretch",flexDirection:"column",flex:1,overflow:"auto"},children:[(0,r.jsx)(l.xu,{sx:{height:12,width:"100%",margin:"0 auto"},children:u?(0,r.jsx)(s.pl,{accessibilityLabel:"Logo",imageSource:u,resizeMode:"contain",disableHover:!0,hideOutline:!0}):(0,r.jsx)(l.kC,{sx:{justifyContent:"center",alignItems:"flex-end",height:"100%"},children:(0,r.jsx)(s.xv,{category:"h6",children:x})})}),(0,r.jsx)(l.xu,{pt:4}),(0,r.jsx)(l.kC,{sx:{justifyContent:"center"},children:(0,r.jsx)(s.xv,{category:"h4",children:D("pleaseSelectSegment")})}),(0,r.jsx)(l.xu,{pt:10}),N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:D("segment:currentSegmentText",{currentSegment:"<b>"+(null!==(A=null===(n=N.ancestry)||void 0===n?void 0:n.split("/").map((function(e){return f[e].name})).join(" / "))&&void 0!==A?A:"")+(N.ancestry?" / ":"")+N.name+"</b>"})}})}),(0,r.jsx)(l.xu,{pt:4})]}),(0,r.jsx)(s.Oo,{data:R}),(0,r.jsx)(l.xu,{pt:4}),f&&I&&(0,r.jsx)(te,{segmentMappedList:I,allSegmentsData:f,onSelectSegment:F,selectedSegmentId:y,isSubscriptionMode:p})]})}),(0,r.jsx)(re,{onClickSuccessButton:U,onClickGoBack:L,successButtonDisabled:!(y&&I.some((function(e){return e.id===y}))),goBackButtonDisabled:!k.length,showSkipButton:!!m&&!p,onClickSkip:function(){return b()}})]})},se=o.memo(le);function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ce=function(e){return(0,r.jsx)(se,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ae(e,n,t[n])}))}return e}({},e))},ue=o.memo(ce),de=t(21395),fe=t(36778),xe=function(e){var n,t,o=e.currentSegment,i=e.segmentList,c=e.isUserLoggedIn,u=e.userSegment,d=e.learnerSegmentConfig,f=e.onClickEnroll,x=e.onClickSetSegment,p=(0,a.$)("segment").t,m=(0,X.B7)().theme,g=i[o];return(0,r.jsx)(l.xu,{py:6,sx:{width:"100%",backgroundImage:(null===g||void 0===g?void 0:g.coverImage)?"linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(".concat(g.coverImage,")"):"linear-gradient(269.55deg, ".concat(null===(n=m.colors)||void 0===n?void 0:n["color-info-transparent-100"]," 0%, ").concat(null===(t=m.colors)||void 0===t?void 0:t["color-primary-transparent-100"]," 100%)"),backgroundSize:"cover"},children:(0,r.jsxs)(l.xu,{sx:{maxWidth:27,width:"100%"},mx:"auto",px:3,children:[(0,r.jsxs)(l.kC,{sx:{alignItems:"center"},children:[(0,r.jsx)(l.xu,{mr:4,sx:{width:7},children:(0,r.jsx)(s.pl,{accessibilityLabel:g.name,imageSource:g.segmentImage,shape:"rounded",noSourceImage:"letter",aspectRatio:"1:1",resizeMode:"contain"})}),(0,r.jsx)(s.xv,{category:"h2",textCustomColor:(null===g||void 0===g?void 0:g.coverImage)?"color-basic-100":void 0,children:null===g||void 0===g?void 0:g.name})]}),(0,r.jsx)(l.xu,{mt:2,children:(0,r.jsx)(s.xv,{category:"p1",textCustomColor:(null===g||void 0===g?void 0:g.coverImage)?"color-basic-100":void 0,children:null===g||void 0===g?void 0:g.description})}),(null===g||void 0===g?void 0:g.segmentType)===fe.vZ.LEAF_SEGMENT&&(0,r.jsx)(r.Fragment,{children:c?d&&d.allow_segment_switch&&d.learner_segment_enabled&&o!==u&&(0,r.jsx)(l.xu,{mt:4,children:(0,r.jsx)(s.zx,{type:"filled",variant:"primary",size:"small",onClick:function(){return x(o,null===g||void 0===g?void 0:g.segmentPath)},children:p("changeToThisSegment").toUpperCase()})}):(0,r.jsx)(l.xu,{mt:4,children:(0,r.jsx)(s.zx,{type:"filled",variant:"primary",size:"small",onClick:function(){return f(o,null===g||void 0===g?void 0:g.segmentPath)},children:p("signUp").toUpperCase()})})})]})})},pe=function(e){var n=e.subSegmentOrder,t=e.segmentList,o=e.onExploreClick,i=(0,a.$)(["common","segment"]).t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{category:"h4",textTransform:"capitalize",children:i("segment:subsegment",{count:null===n||void 0===n?void 0:n.length})}),(0,r.jsx)(l.xu,{sx:{mt:[10],width:"100%",height:"100%"},children:null===n||void 0===n?void 0:n.map((function(e,l){if(!t[e])return null;var a=t[e];return(0,r.jsx)(Q.H,{listItemType:"three-line",supportedVisualType:"component",supportedVisualSource:(0,r.jsx)(s.pl,{accessibilityLabel:a.name,aspectRatio:"1:1",imageSource:a.segmentImage,noSourceImage:"letter",shape:"rounded",width:"100px"}),primaryText:a.name,secondaryText:a.description,metaDataType:"component",isSupportVisualLeftAndMetaDataRight:!0,removeSpacing:!0,hasDivider:l!==n.length-1,metaDataOptions:{metaComponent:(0,r.jsx)(s.zx,{type:"ghost",variant:"basic",size:"small",followIcon:u.q.arrowRight,onClick:function(){return o(a.segmentSlug,a.id,a.segmentType)},children:i("explore").toUpperCase()})}},l)}))})]})},me=t(94817);function ge(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return ge(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ge(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he=function(e){var n,t,c,u,d=(0,a.$)("product").t,f=e.data,x=e.helpers,p=e.callbacks,m=(0,de.Rp)("store").content,g=(0,i.useRouter)(),v=f.segmentList,h=f.isSubscriptionMode,b=f.userSegmentId,j=f.currentSegment,y=f.sharedIsUserLoggedIn,C=f.courses,S=f.pricing,k=f.currency,w=f.courseCompletionStatsRaw,O=f.isSegmentLoading,I=f.unEnrolledCourses,E=f.enrolledCourses,P=f.productsFetchStatus,T=f.learnerSegmentConfig,M=x.getSlugSegmentId,D=x.calculateCourseCompletion,F=x.renderTestStatus,U=p.onSetSegment,L=p.onSetCurrentSegment,_=p.onSetDetailsPageSegmentPath,R=p.onSetDetailsPageSegmentId,N=p.navigateToCourseSales,z=p.navigateToCourseDashboard,V=p.onshowAllCourse,B=p.onSegmentExploreClick,q=p.navigateToSignup,Y=(0,o.useState)(!1),W=Y[0],$=Y[1];(0,o.useEffect)((function(){var e,n=M(g.query.customSegmentSlug,v);n?(L(n),_(n,v),(null===(e=v[n])||void 0===e?void 0:e.segmentType)!==fe.vZ.LEAF_SEGMENT||Object.keys(C).length||R(n)):L(null);$(!0)}),[v,g.query.customSegmentSlug]),(0,o.useEffect)((function(){var e;j&&(null===(e=v[j])||void 0===e?void 0:e.segmentType)===fe.vZ.LEAF_SEGMENT&&Object.keys(C).length&&R(null)}),[C]),n=ve(I.courseIds).concat(ve(E.courseIds)),t=ve(I.bundleIds).concat(ve(E.bundleIds)),c=ve(I.mockTestIds).concat(ve(E.mockTestIds)),u=ve(I.testSeriesIds).concat(ve(E.testSeriesIds));var K=P===fe.iF.SUCCESS,H=j&&v[j].segmentType===fe.vZ.LEAF_SEGMENT,G=n.length||t.length||u.length||c.length;return O||P===fe.iF.IN_PROGRESS?(0,r.jsx)(s.aN,{}):Object.keys(v).length?(0,r.jsx)(r.Fragment,{children:W&&(!H||H&&K)?(0,r.jsxs)(l.xu,{sx:{flex:1},children:[j&&(0,r.jsx)(xe,{currentSegment:j,segmentList:v,isUserLoggedIn:y,userSegment:b,learnerSegmentConfig:T,onClickEnroll:q,onClickSetSegment:U}),(0,r.jsx)(l.xu,{sx:{maxWidth:27,width:"100%"},mx:"auto",px:3,mt:10,mb:10,children:j&&!H?(0,r.jsx)(pe,{subSegmentOrder:v[j].subSegmentOrder,segmentList:v,onExploreClick:B}):(0,r.jsx)(r.Fragment,{children:G&&Object.keys(C).length?(0,r.jsx)(me.cm,{isSubscriptionMode:h,content:m,courseIds:n,mocktestIds:c,testSeriesIds:u,bundleIds:t,courses:C,pricing:S,findTestStatus:F,courseCompletionStatsRaw:w,calculateCourseCompletion:D,currency:k,showDivider:!0,navigateToSales:N,navigateToDashboard:z,onViewAll:V}):K&&(0,r.jsx)(A.T9,{title:d("noCoursesToShow")})})})]}):null}):(0,r.jsx)(A.T9,{title:d("noSegmentsFound")})};function be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var je=function(e){return(0,r.jsx)(he,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){be(e,n,t[n])}))}return e}({},e))},ye=o.memo(je),Ce=t(21155),Se=t(44328);function ke(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function we(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ke(e,n,t[n])}))}return e}var Oe=function(e){var n,t,c,u,d=(0,a.$)("discussion").t,f=i.default.query,x=f.postId,p=f.courseId,m=f.courseSeo,g=f.postSeo,v=e.allDiscussionsData,h=v.callbacks,b=v.data,j=(0,o.useState)(!0),y=j[0],C=j[1],S=(0,o.useState)(!x&&!p),k=S[0],w=S[1],O=h.navigateBack,I=b.discussion.discussionType===Ce.sV.POST_DISCUSSION,E=[{title:d("common:home").toLocaleUpperCase(),onClick:function(){return O()}},{title:null!==(u=null!==(c=null!==(t=I?b.discussion.discussionPostTitle:null!==(n=b.courseData.currentLessonTitle)&&void 0!==n?n:b.courseData.currentCourseSeoTitle)&&void 0!==t?t:m)&&void 0!==c?c:g)&&void 0!==u?u:""},{title:d("discussions").toLocaleUpperCase()}];return(0,o.useEffect)((function(){var e=k;if(b.discussion.discussionFetchStatus===Ce.iF.IDLE&&(e=!0),b.discussion.discussionFetchStatus===Ce.iF.SUCCESS&&e){if(!e)return void(e=!0);C(!1)}k!==e&&w(e)}),[b.discussion.discussionFetchStatus]),y?(0,r.jsx)(s.aN,{}):(0,r.jsx)(l.kC,{sx:{width:"100%",px:4,justifyContent:"center",flex:1},children:(0,r.jsxs)(l.kC,{sx:{maxWidth:23,flex:1,flexDirection:"column"},children:[(0,r.jsx)(l.xu,{pb:4,pt:8,children:(0,r.jsx)(s.Oo,{data:E})}),(0,r.jsx)(Se.Z,we({},e))]})})};function Ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ee=function(e){return(0,r.jsx)(Oe,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ie(e,n,t[n])}))}return e}({},e))},Pe=o.memo(Ee)}}]);