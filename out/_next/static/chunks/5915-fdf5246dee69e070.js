"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5915],{5915:function(e,t,r){r.d(t,{Oq:function(){return qe},sN:function(){return ae},c2:function(){return f},A:function(){return Oe},QN:function(){return re},BE:function(){return Me},pc:function(){return Ie},Rl:function(){return Ye},yh:function(){return W},j3:function(){return C},My:function(){return w},gp:function(){return Y}});var n=r(24246),o=r(27378),s=r(83461),i=r(5725),l=r(9078),u=r(40504),a=r(62533),c=r(25920),d=r(79894),v=r(67281),g=r(70282),p=r(3880);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){var t=e.data,r=e.callbacks,o=e.helpers,s=(0,l.$)("product").t,u=(0,g.Rp)("products").content[0].component,a=t.coursesData,c=t.pricing,x=t.customerConfigData,m=t.isSubscriptionMode,f=a.enrolledCourseData,T=a.unEnrolledCourseData,b=a.courseCompletionStatsRaw,y=r.getProductLink,S=o.calculateCourseCompletion,C=h(T).concat(h(f));return(0,n.jsx)(n.Fragment,{children:C.length?(0,n.jsx)(i.rj,{gap:"12px",columns:[1,2,3],children:C.map((function(e,t){var r;y&&(r=y(e.id,e.courseSeoTitle,e.courseType));var o=r.pathname,s=r.query,l=r.asPath;return(0,n.jsx)(i.kC,{sx:{justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(d.default,{href:{pathname:o,query:s},as:l,children:(0,n.jsx)(i.xu,{sx:{width:"100%",height:"100%",maxWidth:"360px"},children:(0,n.jsx)(v.Z,{isSubscriptionMode:m,index:t,entity:u,currency:null===x||void 0===x?void 0:x.CURRENCY,courseDetails:e,courseCompletionStatsRaw:b,pricing:c,calculateCourseCompletion:S,onCardClick:function(){}})})})},e.id)}))}):(0,n.jsx)(p.T9,{title:s("noCoursesToEnroll")})})},f=function(e){var t,r,o=e.data,d=e.callbacks,v=e.helpers,g=(0,l.$)(["common"]).t,x=(0,s.B7)().theme,h=o.productFetchStatus,f=o.coursesData,T=d.onReFetchProducts,b=f.productsError;if(h===c.iF.FAILED){var y=b.errorMessage;return(0,n.jsx)(p.qz,{title:y,onRetry:function(){return T()}})}return h===c.iF.IN_PROGRESS||h===c.iF.IDLE?(0,n.jsx)(a.aN,{}):(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(i.xu,{sx:{background:"linear-gradient(269.55deg, ".concat(null===(t=x.colors)||void 0===t?void 0:t["color-info-transparent-100"]," 0%, ").concat(null===(r=x.colors)||void 0===r?void 0:r["color-primary-transparent-100"]," 100%)")},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(i.kC,{my:7,sx:{alignItems:"center"},children:(0,n.jsx)(a.xv,{category:"h1",children:g("course_plural")})})})}),(0,n.jsx)(i.xu,{pt:6,pb:6,sx:{width:"100%"},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(m,{data:o,callbacks:d,helpers:v})})})]})},T=r(25910);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var t=e.data,r=e.callbacks,o=e.helpers,s=(0,l.$)("product").t,i=(0,g.Rp)("products").content[2].component,u=t.coursesData,a=t.pricing,c=t.customerConfigData,x=t.isSubscriptionMode,h=u.enrolledTestSeriesData,m=u.unEnrolledTestSeriesData,f=u.courseCompletionStatsRaw,b=r.getProductLink,S=o.calculateCourseCompletion,C=y(h).concat(y(m));return(0,n.jsx)(n.Fragment,{children:C.length?(0,n.jsx)(T.rj,{gap:"12px",columns:[1,2,3],children:C.map((function(e,t){var r;b&&(r=b(e.id,e.courseSeoTitle,e.courseType));var o=r.pathname,s=r.query,l=r.asPath;return(0,n.jsx)(T.kC,{sx:{justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(d.default,{href:{pathname:o,query:s},as:l,children:(0,n.jsx)(T.xu,{sx:{width:"100%",height:"100%",maxWidth:"360px",cursor:"pointer"},children:(0,n.jsx)(v.Z,{isSubscriptionMode:x,index:t,entity:i,currency:null===c||void 0===c?void 0:c.CURRENCY,courseDetails:e,courseCompletionStatsRaw:f,pricing:a,calculateCourseCompletion:S,onCardClick:function(){}})})})},e.id)}))}):(0,n.jsx)(p.T9,{title:s("noCoursesToEnroll")})})},C=function(e){var t,r,o=e.data,d=e.callbacks,v=e.helpers,g=(0,l.$)(["common"]).t,x=(0,s.B7)().theme,h=o.productFetchStatus,m=o.coursesData,f=d.onReFetchProducts,T=m.productsError;if(h===c.iF.FAILED){var b=T.errorMessage;return(0,n.jsx)(p.qz,{title:b,onRetry:function(){return f()}})}return h===c.iF.IN_PROGRESS||h===c.iF.IDLE?(0,n.jsx)(a.aN,{}):(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(i.xu,{sx:{background:"linear-gradient(269.55deg, ".concat(null===(t=x.colors)||void 0===t?void 0:t["color-info-transparent-100"]," 0%, ").concat(null===(r=x.colors)||void 0===r?void 0:r["color-primary-transparent-100"]," 100%)")},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(i.kC,{my:7,sx:{alignItems:"center"},children:(0,n.jsx)(a.xv,{category:"h1",children:g("practise")})})})}),(0,n.jsx)(i.xu,{pt:6,pb:6,sx:{width:"100%"},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(S,{data:o,callbacks:d,helpers:v})})})]})};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var t=e.data,r=e.callbacks,o=e.helpers,s=(0,l.$)(["common","product"]).t,i=(0,g.Rp)("products").content[1].component,u=t.coursesData,a=t.pricing,c=t.customerConfigData,x=t.isSubscriptionMode,h=u.enrolledMockTestData,m=(u.courses,u.unEnrolledMockTestData),f=r.getProductLink,b=o.renderTestStatus,y=I(m).concat(I(h));return(0,n.jsx)(n.Fragment,{children:y.length?(0,n.jsx)(T.rj,{gap:"12px",columns:[1,2,3],children:y.map((function(e,t){var r;f&&(r=f(e.id,e.courseSeoTitle,e.courseType));var o=r.pathname,s=r.query,l=r.asPath;return(0,n.jsx)(T.kC,{sx:{justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(d.default,{href:{pathname:o,query:s},as:l,children:(0,n.jsx)(T.xu,{sx:{width:"100%",height:"100%",maxWidth:"360px",cursor:"pointer"},children:(0,n.jsx)(v.Z,{isSubscriptionMode:x,index:t,entity:i,currency:null===c||void 0===c?void 0:c.CURRENCY,courseDetails:e,pricing:a,findTestStatus:b,onCardClick:function(){}})})})},e.id)}))}):(0,n.jsx)(p.T9,{title:s("noCoursesToEnroll")})})},w=function(e){var t,r,o=e.data,d=e.callbacks,v=e.helpers,g=(0,l.$)(["common"]).t,x=(0,s.B7)().theme,h=o.productFetchStatus,m=o.coursesData,f=d.onReFetchProducts,T=m.productsError;if(h===c.iF.FAILED){var b=T.errorMessage;return(0,n.jsx)(p.qz,{title:b,onRetry:function(){return f()}})}return h===c.iF.IN_PROGRESS||h===c.iF.IDLE?(0,n.jsx)(a.aN,{}):(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(i.xu,{sx:{background:"linear-gradient(269.55deg, ".concat(null===(t=x.colors)||void 0===t?void 0:t["color-info-transparent-100"]," 0%, ").concat(null===(r=x.colors)||void 0===r?void 0:r["color-primary-transparent-100"]," 100%)")},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(i.kC,{my:7,sx:{alignItems:"center"},children:(0,n.jsx)(a.xv,{category:"h1",children:g("tests")})})})}),(0,n.jsx)(i.xu,{pt:6,pb:6,sx:{width:"100%"},children:(0,n.jsx)(u.W2,{children:(0,n.jsx)(E,{data:o,callbacks:d,helpers:v})})})]})},D=function(e){var t,r,o=e.isSubscriptionMode,u=e.shouldShowLegacyProducts,c=e.schoolName,d=e.isUserLoggedIn,v=e.userName,g=e.oldEnrollmentNavigation,p=(0,l.$)(["common","product","segment"]).t,x=(0,s.B7)().theme;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.xu,{sx:{background:"linear-gradient(90deg, ".concat(null===(t=x.colors)||void 0===t?void 0:t["color-primary-800"]," 20%, ").concat(null===(r=x.colors)||void 0===r?void 0:r["color-primary-400"]," 80%)")},children:(0,n.jsx)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:(0,n.jsxs)(i.kC,{my:10,sx:{justifyContent:"center",flexDirection:"column"},children:[d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.xv,{category:"h6",textTransform:"capitalize",sx:{color:"color-basic-100"},children:p("segment:segmentNameIntro",{userName:v})}),(0,n.jsx)(i.xu,{pt:1}),(0,n.jsx)(a.xv,{category:"h4",sx:{color:"color-basic-100"},children:p("welcomeMessage",{value:c})})]}):(0,n.jsx)(a.xv,{category:"h1",sx:{color:"color-basic-100"},children:p("welcomeMessage",{value:c})}),u&&(0,n.jsxs)(i.xu,{mt:3,children:[(0,n.jsx)(a.xv,{category:"p1",sx:{color:"color-basic-100"},children:p(o?"product:subscriptionOldPurchaseMessage":"product:OtpOldPurchaseMessage",{schoolName:c})}),(0,n.jsx)(i.xu,{mt:1}),(0,n.jsx)(a.rU,{type:"internal",textProps:{category:"p1"},onClick:function(){return g()},children:p("product:yourOldPurchases")})]})]})})})})},k=r(71656),R=function(e){var t,r=e.isSubscriptionMode,o=e.enrolledCourseId,u=e.courseCompletionStatsRaw,d=e.enrolledCourseDetails,v=e.findTestStatus,g=e.getCourseType,x=e.courseCompletionStatus,h=e.onClickNavigation,m=e.navigateToMyEnrollments,f=(0,l.$)(["product","common"]).t,T=(0,s.B7)().theme,b=x(null===u||void 0===u?void 0:u.courseCompletionData,o,(null===d||void 0===d?void 0:d.lessonCount)||(null===d||void 0===d?void 0:d.testCount)),y=g(null===d||void 0===d?void 0:d.courseType,1),S=(null===d||void 0===d?void 0:d.courseType)===c.lW.TEST&&(null===v||void 0===v?void 0:v(null===d||void 0===d?void 0:d.courseStatus,null===d||void 0===d?void 0:d.courseStartTime,null===d||void 0===d?void 0:d.courseEndTime,f)),C=null===d||void 0===d?void 0:d.lessonCount,j=null===d||void 0===d?void 0:d.testCount,I=null===d||void 0===d?void 0:d.coursesCount,E=null===d||void 0===d?void 0:d.numberOfFreeLessons,w=C?"".concat(C," ").concat(f("lesson",{count:C-j})):null,D=j?"".concat(j," ").concat(f("test",{count:j})):null,R=I?"".concat(I," ").concat(f("course",{count:I})):null,P=E?"".concat(E," ").concat(f("trial",{count:E})):null,O=[];I&&O.push(R),C&&O.push(w),j&&O.push(D),E&&O.push(P);var A=O.join(" \u2022 "),L=(null===d||void 0===d?void 0:d.courseType)!==c.lW.TEST?A:S;return(0,n.jsxs)(i.xu,{mt:4,children:[(0,n.jsxs)(i.kC,{sx:{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[(0,n.jsx)(a.xv,{category:["h5","h5","h5"],children:f("continueLearning")}),(0,n.jsx)(a.zx,{type:"ghost",variant:"basic",onClick:function(){return m()},followIcon:k.q.arrowRight,sx:{display:["none","block","block"]},children:(0,n.jsx)(a.xv,{category:["p2","p1","p1"],textTransform:"uppercase",children:f("common:myEnrollments")})})]}),(0,n.jsx)(i.xu,{mt:1,sx:{border:"1px solid",cursor:"pointer",borderColor:"border-basic-color-4",borderRadius:null===(t=T.radii)||void 0===t?void 0:t.card,overflow:"hidden",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},children:(0,n.jsx)(p.p6,{style:{px:4,py:[4,4,4]},thumbnailProps:{imageSource:null===d||void 0===d?void 0:d.courseImageUrl,accessibilityLabel:null===d||void 0===d?void 0:d.courseTitle,aspectRatio:"16:9",resizeMode:"cover",shape:"rounded"},customWidth:[12,"225px","225px"],isSubscriptionMode:r,overlineText:y,title:null===d||void 0===d?void 0:d.courseTitle,subtitle:L,isPurchased:!0,progress:b,showProgress:(null===d||void 0===d?void 0:d.courseType)===c.lW.COURSE||(null===d||void 0===d?void 0:d.courseType)===c.lW.TEST_SERIES,onCardClick:function(){return h({courseSeo:null===d||void 0===d?void 0:d.courseSeoTitle})}})}),(0,n.jsx)(a.zx,{type:"ghost",onClick:function(){return m()},followIcon:k.q.arrowRight,sx:{display:["block","none","none"],marginLeft:"auto",mt:2},children:(0,n.jsx)(a.xv,{category:["label","p1","p1"],textTransform:"capitalize",children:f("common:myEnrollments").toUpperCase()})})]})},P=r(1264),O=r(21155),A=function(e){var t=e.widgetData,r=e.widgetCallbacks;return(0,n.jsxs)(i.kC,{sx:{flexDirection:"column",rowGap:[5]},children:[(0,n.jsx)(P.Z,{widgetType:O.eq.ALERT_WIDGET,widgetCallbacks:r,widgetData:t}),(0,n.jsx)(P.Z,{widgetType:O.eq.CATEGORY_WIDGET,widgetCallbacks:r,widgetData:t,widgetDataParams:{CATEGORY_WIDGET:{action_type:O.wZ.FETCH_ACTION,filter:"product"}},pageData:{CATEGORY_WIDGET:{action_type:O.wZ.NAVIGATE_ACTION,collectionType:"hCollection"}}})]})},L=r(58914);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){var t=(0,l.$)("product").t,r=e.data,o=e.helpers,s=e.callbacks,u=(0,g.Rp)("store"),d=u.content,v=(u.header,r.coursesData),x=r.customerConfigData,h=r.pricing,m=r.isSubscriptionMode,f=r.productsFetchStatus,T=r.productsError,b=(r.alertsFetchStatus,r.userData),y=r.shouldShowLegacyProducts,S=r.widgetData,C=s.onshowAllCourse,j=s.navigateToCourseDetails,I=s.navigateToLessonPlayer,E=s.navigateToMyEnrollments,w=s.widgetCallbacks,k=s.onReFetchProducts,P=o.renderTestStatus,O=o.calculateCourseCompletion,F=o.getListTitle,M=f===c.iF.IN_PROGRESS||f===c.iF.IDLE;if(f===c.iF.FAILED){var U=T.errorMessage;return(0,n.jsx)(p.qz,{title:U,onRetry:function(){return k()}})}if(M)return(0,n.jsx)(a.aN,{});var W=null===x||void 0===x?void 0:x.CURRENCY,q=v.courses,B=v.enrolledCourses,_=v.unEnrolledCourses,V=v.allEnrolledIds,H=v.courseCompletionStatsRaw,z=N(_.courseIds).concat(N(B.courseIds)),G=N(_.mockTestIds).concat(N(B.mockTestIds)),$=N(_.testSeriesIds).concat(N(B.testSeriesIds)),Z=N(_.bundleIds).concat(N(B.bundleIds)),Y=null===z||void 0===z?void 0:z.length,Q=null===G||void 0===G?void 0:G.length,J=null===$||void 0===$?void 0:$.length,K=null===Z||void 0===Z?void 0:Z.length,X=b.sharedIsUserLoggedIn,ee=b.sharedUserName;return(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(D,{isSubscriptionMode:m,shouldShowLegacyProducts:y,schoolName:null===x||void 0===x?void 0:x.NAME,isUserLoggedIn:X,userName:ee,oldEnrollmentNavigation:function(){return C&&C(c.J5,101)}}),(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",children:[!m&&X&&(null===V||void 0===V?void 0:V.length)?(0,n.jsx)(i.xu,{mt:5,mb:5,px:3,children:(0,n.jsx)(R,{isSubscriptionMode:m,enrolledCourseId:V[0],enrolledCourseDetails:q[V[0]],findTestStatus:P,getCourseType:F,courseCompletionStatsRaw:H,courseCompletionStatus:O,onClickNavigation:I,navigateToMyEnrollments:E})}):null,(0,n.jsx)(i.xu,{mt:5,px:3,children:(0,n.jsx)(A,{widgetData:S,widgetCallbacks:w})}),(0,n.jsx)(i.xu,{mt:5,children:Y||Q||K||J?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(L.cm,{isSubscriptionMode:m,content:d,unEnrolledCourseIds:_.courseIds,unEnrolledMockTestIds:_.mockTestIds,unEnrolledTestSeriesIds:_.testSeriesIds,unEnrolledBundleIds:_.bundleIds,enrolledCourseIds:B.courseIds,enrolledMockTestIds:B.mockTestIds,enrolledTestSeriesIds:B.testSeriesIds,enrolledBundleIds:B.bundleIds,courseIds:z,mocktestIds:G,testSeriesIds:$,bundleIds:Z,courses:q,pricing:h,findTestStatus:P,courseCompletionStatsRaw:H,calculateCourseCompletion:O,currency:W,showDivider:!0,navigateToSales:j,navigateToDashboard:I,onViewAll:C,applyPaddingForHeaders:!0})}):(0,n.jsx)(p.T9,{title:t("noCoursesToEnroll")})})]})]})};function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=function(e){return(0,n.jsx)(M,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U(e,t,r[t])}))}return e}({},e))},q=r(86677),B=r(58931),_=r(80747);function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(e){var t=e.isSubscriptionMode,r=e.pricing,s=e.productType,u=(e.productCount,e.productIdsByType),c=e.allProductIds,d=e.courseTags,v=e.mockTestTags,x=e.testSeriesTags,h=e.bundleTags,m=(e.allTags,e.products),f=e.currency,T=e.courseCompletionStatsRaw,b=e.calculateCourseCompletion,y=e.getCourseDataArray,S=e.getFilteredTagsIds,C=e.getTitle,j=e.getProductTypeIds,I=e.getProductTags,E=e.findTestStatus,w=e.navigateToSales,D=e.navigateToDashboard,k=(0,l.$)(["common","product"]).t,R=(0,g.Rp)("allProducts").content,P=(0,q.useRouter)().pathname,O=(0,q.useRouter)(),A=(0,o.useState)(!1),F=A[0],N=A[1],M=(0,o.useState)(s),U=M[0],W=M[1],H=(0,o.useState)([]),z=H[0],G=H[1],$={courseTags:d,mockTestTags:v,bundleTags:h,testSeriesTags:x},Z=(0,o.useState)(I($,U)),Y=Z[0],Q=Z[1];(0,o.useEffect)((function(){Q(I($,U))}),[U,d,v,x,h]),(0,o.useEffect)((function(){O.query.tags&&O.query.tags.length&&!z.length&&!F&&G(Array.isArray(O.query.tags)?O.query.tags:[O.query.tags]);var e={show:_.J5[U],type:U};O.query.tags&&!F&&(e.tags=O.query.tags),z&&z.length&&(e.tags=z),q.default.replace({pathname:P,query:e},{query:e},{shallow:!0})}),[U,z]);var J=j(U,u,c);if(z.length){var K=y(m,J);J=S(z,K)}var X,ee,te,re,ne,oe=(V(X={},_.lW.COURSE,C(_.lW.COURSE)),V(X,_.lW.TEST,C(_.lW.TEST)),V(X,_.lW.BUNDLE,C(_.lW.BUNDLE)),V(X,_.lW.TEST_SERIES,C(_.lW.TEST_SERIES)),V(X,_.lW.INVALID,C(_.lW.INVALID)),V(X,101,C(101)),X),se=101===U;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.kC,{mt:7,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(i.kC,{sx:{alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",textTransform:"capitalize",children:oe[U]}),(0,n.jsx)(i.xu,{pl:2,children:(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:J.length})})]}),!se&&(0,n.jsx)(i.xu,{sx:{height:5},children:(0,n.jsx)(B.Nt,{currentFilter:U,filterText:U!==_.lW.INVALID?oe[U]:null,onHandleChange:function(e){return W(parseInt(e))},bundleLength:null!==(ee=u.bundleIds.length)&&void 0!==ee?ee:0,courseLength:null!==(te=u.courseIds.length)&&void 0!==te?te:0,mocktestsLength:null!==(re=u.mockTestIds.length)&&void 0!==re?re:0,testsSeriesLength:null!==(ne=u.testSeriesIds.length)&&void 0!==ne?ne:0})})]}),!se&&Y.length>0&&(0,n.jsx)(i.xu,{my:7,children:(0,n.jsx)(a.Ph,{inputValue:z.map((function(e){return{value:e,label:e}})),options:Y.filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return{value:e,label:e}})),isMulti:!0,onChange:function(e){var t=[];e&&(t=e.map((function(e){return e.value}))),N(!0),G(t)},placeholder:k("product:searchByTag")})}),(0,n.jsx)(i.xu,{my:9,children:J.length?(0,n.jsx)(L.cm,{isSubscriptionMode:t,content:R,allProductIds:J,courses:m,pricing:r,getCourseTitle:C,findTestStatus:E,courseCompletionStatsRaw:T,calculateCourseCompletion:b,currency:f,showDivider:!0,navigateToSales:w,navigateToDashboard:D}):(0,n.jsx)(p.T9,{title:k("product:noCoursesToEnroll")})})]})};function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(e){var t=(0,l.$)("product").t,r=(0,q.useRouter)().query.type,o=e.data,s=e.helpers,u=e.callbacks,d=o.productsFetchStatus,v=o.coursesData,g=o.pricing,x=o.currency,h=o.isSubscriptionMode,m=o.productsError,f=u.navigateToCourseDetails,T=u.navigateToLessonPlayer,b=u.navigateBack,y=u.onReFetchProducts,S=s.getTitle,C=(s.getEnrolledUnenrolledIds,s.calculateCourseCompletion),j=s.getCourseDataArray,I=s.getProductTypeIds,E=(s.getRenderDataIds,s.renderTestStatus),w=s.getProductTags,D=s.getFilteredTagsIds,k=v.courses,R=(v.allEnrolledIds,v.enrolledCourses),P=v.unEnrolledCourses,O=v.legacyProducts,A=v.courseCompletionStatsRaw,L=v.productTags,F=v.enrolledProductTags,N=G(P.courseIds).concat(G(R.courseIds)),M=G(P.mockTestIds).concat(G(R.mockTestIds)),U=G(P.testSeriesIds).concat(G(R.testSeriesIds)),W={bundleIds:G(P.bundleIds).concat(G(R.bundleIds)),courseIds:N,mockTestIds:M,testSeriesIds:U},_=G(L.courseTags).concat(G(F.courseTags)),V=G(L.mockTestTags).concat(G(F.mockTestTags)),z=G(L.bundleTags).concat(G(F.bundleTags)),$=G(L.testSeriesTags).concat(G(F.testSeriesTags)),Z=G(_).concat(G(V),G(z),G($)),Y=Number(r),Q=G(P.courseIds).concat(G(P.mockTestIds),G(P.testSeriesIds),G(P.bundleIds),G(R.courseIds),G(R.mockTestIds),G(R.testSeriesIds),G(R.bundleIds)),J=G(O.courseIds).concat(G(O.mockTestIds),G(O.testSeriesIds),G(O.bundleIds)),K=101===Y,X=K?J:Q,ee=S(Number(r)),te=[{title:t("store"),onClick:function(){return b()}},{title:ee}],re=d===c.iF.IN_PROGRESS||d===c.iF.IDLE;if(d===c.iF.FAILED){var ne=m.errorMessage;return(0,n.jsx)(p.qz,{title:ne,onRetry:function(){return y()}})}return re?(0,n.jsx)(a.aN,{}):(0,n.jsxs)(i.xu,{sx:{flex:1},children:[(0,n.jsx)(B.h4,{text:ee}),(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsx)(i.xu,{mt:6,mb:9,children:(0,n.jsx)(a.Oo,{data:te})}),X.length||K?(0,n.jsx)(H,{isSubscriptionMode:h,products:k,pricing:g,currency:x,productType:parseInt(r),getTitle:S,productIdsByType:K?O:W,allProductIds:X,getProductTypeIds:I,courseTags:_,mockTestTags:V,testSeriesTags:$,bundleTags:z,allTags:Z,getCourseDataArray:j,getFilteredTagsIds:D,getProductTags:w,findTestStatus:E,courseCompletionStatsRaw:A,calculateCourseCompletion:C,navigateToSales:f,navigateToDashboard:T}):(0,n.jsx)(p.T9,{title:t("noCoursesToEnroll")})]})]})};function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y=function(e){return(0,n.jsx)($,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Z(e,t,r[t])}))}return e}({},e))};function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J=function(e){var t=e.isSubscriptionMode,r=e.pricing,s=(e.productType,e.productCount,e.enrolledCourses),u=e.enrolledCourseIds,d=e.courseTags,v=e.mockTestTags,x=e.testSeriesTags,h=e.bundleTags,m=(e.allTags,e.products),f=e.currency,T=e.courseCompletionStatsRaw,b=e.getProductTypeIds,y=e.getCourseDataArray,S=e.getFilteredTagsIds,C=e.getProductTags,j=e.getTitle,I=e.findTestStatus,E=e.calculateCourseCompletion,w=e.navigateToSales,D=e.navigateToDashboard,k=(0,l.$)(["common","product"]).t,R=(0,g.Rp)("enrollments"),P=R.content,O=(R.header,(0,q.useRouter)().pathname),A=(0,q.useRouter)(),F=(0,o.useState)(!1),N=F[0],M=F[1],U=(0,o.useState)(c.lW.INVALID),W=U[0],_=U[1],V=(0,o.useState)([]),H=V[0],z=V[1],G={courseTags:d,mockTestTags:v,bundleTags:h,testSeriesTags:x},$=(0,o.useState)(C(G,W)),Z=$[0],Y=$[1];(0,o.useEffect)((function(){Y(C(G,W))}),[W,d,v,x,h]),(0,o.useEffect)((function(){A.query.tags&&A.query.tags.length&&!H.length&&!N&&z(Array.isArray(A.query.tags)?A.query.tags:[A.query.tags]);var e={show:c.J5[W],type:W};A.query.tags&&!N&&(e.tags=A.query.tags),H&&H.length&&(e.tags=H),q.default.replace({pathname:O,query:e},{query:e},{shallow:!0})}),[W,H]);var J=b(W,s,u);if(H.length){var K=y(m,J);J=S(H,K)}var X,ee,te,re,ne,oe=(Q(X={},c.lW.COURSE,j(c.lW.COURSE)),Q(X,c.lW.TEST,j(c.lW.TEST)),Q(X,c.lW.BUNDLE,j(c.lW.BUNDLE)),Q(X,c.lW.TEST_SERIES,j(c.lW.TEST_SERIES)),Q(X,c.lW.INVALID,j(c.lW.INVALID)),X);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.kC,{mt:7,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(i.kC,{sx:{alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",textTransform:"capitalize",children:oe[W]}),(0,n.jsx)(i.xu,{pl:2,children:(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:J.length})})]}),(0,n.jsx)(i.xu,{sx:{height:5},children:(0,n.jsx)(B.Nt,{currentFilter:W,filterText:W!==c.lW.INVALID?oe[W]:null,onHandleChange:function(e){return _(parseInt(e))},bundleLength:null!==(ee=s.bundleIds.length)&&void 0!==ee?ee:0,courseLength:null!==(te=s.courseIds.length)&&void 0!==te?te:0,mocktestsLength:null!==(re=s.mockTestIds.length)&&void 0!==re?re:0,testsSeriesLength:null!==(ne=s.testSeriesIds.length)&&void 0!==ne?ne:0})})]}),Z.length>0&&(0,n.jsx)(i.xu,{my:7,children:(0,n.jsx)(a.Ph,{inputValue:H.map((function(e){return{value:e,label:e}})),options:Z.filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return{value:e,label:e}})),isMulti:!0,onChange:function(e){var t=[];e&&(t=e.map((function(e){return e.value}))),M(!0),z(t)},placeholder:k("product:searchByTag")})}),(0,n.jsx)(i.xu,{my:9,children:J.length?(0,n.jsx)(L.cm,{isSubscriptionMode:t,content:P,enrolledCourseIds:s.courseIds,enrolledMockTestIds:s.mockTestIds,enrolledTestSeriesIds:s.testSeriesIds,enrolledBundleIds:s.bundleIds,allEnrolledIds:J,courses:m,pricing:r,getCourseTitle:j,findTestStatus:I,courseCompletionStatsRaw:T,calculateCourseCompletion:E,currency:f,showDivider:!0,navigateToSales:w,navigateToDashboard:D}):(0,n.jsx)(p.T9,{title:k("product:noCoursesToEnroll")})})]})};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){var t=(0,l.$)(["product","common"]).t,r=(0,q.useRouter)().query.type,o=e.data,s=e.helpers,u=e.callbacks,d=o.productsFetchStatus,v=o.coursesData,g=o.pricing,x=o.isSubscriptionMode,h=o.currency,m=o.productsError,f=u.navigateToLessonPlayer,T=u.navigateToCourseDetails,b=u.navigateBack,y=u.onReFetchProducts,S=s.getTitle,C=s.calculateCourseCompletion,j=s.renderTestStatus,I=s.getProductTypeIds,E=s.getCourseDataArray,w=s.getProductTags,D=s.getFilteredTagsIds,k=v.courses,R=v.enrolledCourses,P=v.courseCompletionStatsRaw,O=v.allEnrolledIds,A=v.productTags,L=v.enrolledProductTags,F=X(A.courseTags).concat(X(L.courseTags)),N=X(A.mockTestTags).concat(X(L.mockTestTags)),M=X(A.bundleTags).concat(X(L.bundleTags)),U=X(A.testSeriesTags).concat(X(L.testSeriesTags)),W=X(F).concat(X(N),X(M),X(U)),_=[{title:t("store"),onClick:function(){return b()}},{title:t("common:myEnrollments")}],V=d===c.iF.IN_PROGRESS||d===c.iF.IDLE;if(d===c.iF.FAILED){var H=m.errorMessage;return(0,n.jsx)(p.qz,{title:H,onRetry:function(){return y()}})}return V?(0,n.jsx)(a.aN,{}):(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(B.h4,{text:t("common:myEnrollments")}),(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsx)(i.xu,{mt:6,mb:9,children:(0,n.jsx)(a.Oo,{data:_})}),O.length?(0,n.jsx)(J,{isSubscriptionMode:x,pricing:g,currency:h,productType:parseInt(r),getTitle:S,enrolledCourses:R,enrolledCourseIds:O,getProductTypeIds:I,courseTags:F,mockTestTags:N,testSeriesTags:U,bundleTags:M,allTags:W,getCourseDataArray:E,getFilteredTagsIds:D,getProductTags:w,findTestStatus:j,courseCompletionStatsRaw:P,calculateCourseCompletion:C,products:k,navigateToSales:T,navigateToDashboard:f}):(0,n.jsx)(p.T9,{title:t("notEnrolledToAnyCourse")})]})]})};function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){return(0,n.jsx)(ee,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){te(e,t,r[t])}))}return e}({},e))};function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oe=function(e){var t=e.isSubscriptionMode,r=e.pricing,s=(e.productType,e.productCount,e.productIdsByType),u=e.allProductIds,c=e.courseTags,d=e.mockTestTags,v=e.testSeriesTags,x=e.bundleTags,h=(e.allTags,e.products),m=e.currency,f=e.courseCompletionStatsRaw,T=e.getCourseDataArray,b=e.getFilteredTagsIds,y=e.getProductTags,S=e.getProductTypeIds,C=e.getTitle,j=e.findTestStatus,I=e.calculateCourseCompletion,E=e.navigateToSales,w=e.navigateToDashboard,D=(0,l.$)(["common","product"]).t,k=(0,g.Rp)("allProducts").content,R=(0,q.useRouter)().pathname,P=(0,q.useRouter)(),O=(0,o.useState)(!1),A=O[0],F=O[1],N=(0,q.useRouter)().query.categoryCustomName,M=(0,o.useState)(_.lW.INVALID),U=M[0],W=M[1],V=(0,o.useState)([]),H=V[0],z=V[1],G={courseTags:c,mockTestTags:d,bundleTags:x,testSeriesTags:v},$=(0,o.useState)(y(G,U)),Z=$[0],Y=$[1];(0,o.useEffect)((function(){Y(y(G,U))}),[U,c,d,v,x]),(0,o.useEffect)((function(){P.query.tags&&P.query.tags.length&&!H.length&&!A&&z(Array.isArray(P.query.tags)?P.query.tags:[P.query.tags]);var e={show:_.J5[U],type:U};N&&(e.categoryCustomName=N),P.query.tags&&!A&&(e.tags=P.query.tags),H&&H.length&&(e.tags=H),q.default.replace({pathname:R,query:e},{query:e},{shallow:!0})}),[U,H]);var Q=S(U,s,u);if(H.length){var J=T(h,Q);Q=b(H,J)}var K,X,ee,te,re,oe=(ne(K={},_.lW.COURSE,C(_.lW.COURSE)),ne(K,_.lW.TEST,C(_.lW.TEST)),ne(K,_.lW.BUNDLE,C(_.lW.BUNDLE)),ne(K,_.lW.TEST_SERIES,C(_.lW.TEST_SERIES)),ne(K,_.lW.INVALID,C(_.lW.INVALID)),ne(K,101,C(101)),K);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.kC,{mt:7,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(i.kC,{sx:{alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",textTransform:"capitalize",children:oe[U]}),(0,n.jsx)(i.xu,{pl:2,children:(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:Q.length})})]}),(0,n.jsx)(i.xu,{sx:{height:5},children:(0,n.jsx)(B.Nt,{currentFilter:U,filterText:U!==_.lW.INVALID?oe[U]:null,onHandleChange:function(e){W(parseInt(e))},bundleLength:null!==(X=s.bundleIds.length)&&void 0!==X?X:0,courseLength:null!==(ee=s.courseIds.length)&&void 0!==ee?ee:0,mocktestsLength:null!==(te=s.mockTestIds.length)&&void 0!==te?te:0,testsSeriesLength:null!==(re=s.testSeriesIds.length)&&void 0!==re?re:0})})]}),Z.length>0&&(0,n.jsx)(i.xu,{my:7,children:(0,n.jsx)(a.Ph,{inputValue:H.map((function(e){return{value:e,label:e}})),options:Z.filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return{value:e,label:e}})),isMulti:!0,onChange:function(e){var t=[];e&&(t=e.map((function(e){return e.value}))),F(!0),z(t)},placeholder:D("product:searchByTag")})}),(0,n.jsx)(i.xu,{my:9,children:Q.length?(0,n.jsx)(L.cm,{isSubscriptionMode:t,content:k,allProductIds:Q,courses:h,pricing:r,getCourseTitle:C,findTestStatus:j,courseCompletionStatsRaw:f,calculateCourseCompletion:I,currency:m,showDivider:!0,navigateToSales:E,navigateToDashboard:w}):(0,n.jsx)(p.T9,{title:D("product:noCoursesToEnroll")})})]})};function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e){var t=(0,l.$)("product").t,r=(0,q.useRouter)().query.type,o=e.data,s=e.helpers,u=e.callbacks,c=o.isSubscriptionMode,d=o.currentCourseCategory,v=o.categoryData,g=o.currency,x=o.coursesData,h=o.isLoading,m=o.pricing,f=u.navigateToCourseDetails,T=u.navigateToLessonPlayer,b=u.navigateBack,y=s.calculateCourseCompletion,S=s.renderTestStatus,C=s.getCourseDataArray,j=s.getTitle,I=s.getProductTypeIds,E=s.getEnrolledUnenrolledIds,w=s.getProductTags,D=s.getFilteredTagsIds,k=x.courses,R=x.courseCompletionStatsRaw,P=x.productTags,O=x.enrolledProductTags,A=v.categoryCustomNameToIdMap,L=v.categoryList;if(h||!(null===d||void 0===d?void 0:d.categoryCustomName))return(0,n.jsx)(a.aN,{});var F=L[A["".concat(null===d||void 0===d?void 0:d.categoryCustomName)]],N=F?null===F||void 0===F?void 0:F.products:void 0,M=null===N||void 0===N?void 0:N.courses;M&&M.length&&k&&(M=M.filter((function(e){return k[e]})));var U=E(M,k)[0],W=E(M,k)[1],_=null===N||void 0===N?void 0:N.mocktests;_&&_.length&&k&&(_=_.filter((function(e){return k[e]})));var V=E(_,k)[0],H=E(_,k)[1],z=null===N||void 0===N?void 0:N.bundles;z&&z.length&&k&&(z=z.filter((function(e){return k[e]})));var G=E(z,k)[0],$=E(z,k)[1],Z=null===N||void 0===N?void 0:N.testSeries;Z&&Z.length&&k&&(Z=Z.filter((function(e){return k[e]})));var Y=E(Z,k)[0],Q=E(Z,k)[1],J=N?{courseIds:ie(W).concat(ie(U)),mockTestIds:ie(H).concat(ie(V)),bundleIds:ie($).concat(ie(G)),testSeriesIds:ie(Q).concat(ie(Y))}:void 0,K=N?ie(W).concat(ie(H),ie($),ie(Q),ie(U),ie(V),ie(G),ie(Y)):[];K&&K.length&&k&&(K=K.filter((function(e){return k[e]})));var X=ie(P.courseTags).concat(ie(O.courseTags)),ee=ie(P.mockTestTags).concat(ie(O.mockTestTags)),te=ie(P.bundleTags).concat(ie(O.bundleTags)),re=ie(P.testSeriesTags).concat(ie(O.testSeriesTags)),ne=ie(X).concat(ie(ee),ie(te),ie(re)),se=[{title:t("store"),onClick:function(){return b()}},{title:t("categories")},{title:null===F||void 0===F?void 0:F.categoryName}];return(0,n.jsxs)(i.kC,{sx:{flex:1,flexDirection:"column"},children:[(0,n.jsx)(B.h4,{text:null===F||void 0===F?void 0:F.categoryName}),(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsx)(i.xu,{mt:6,mb:9,children:(0,n.jsx)(a.Oo,{data:se})}),K.length?(0,n.jsx)(oe,{isSubscriptionMode:c,products:k,pricing:m,currency:g,productType:parseInt(r),getTitle:j,productIdsByType:J,allProductIds:K,courseTags:X,mockTestTags:ee,testSeriesTags:re,bundleTags:te,allTags:ne,getCourseDataArray:C,getFilteredTagsIds:D,getProductTags:w,getProductTypeIds:I,findTestStatus:S,courseCompletionStatsRaw:R,calculateCourseCompletion:y,navigateToSales:f,navigateToDashboard:T}):(0,n.jsx)(p.T9,{title:t("noCoursesToEnroll")})]})]})};function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae=function(e){return(0,n.jsx)(le,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ue(e,t,r[t])}))}return e}({},e))},ce=r(1505),de=function(e){var t,r,o=(0,l.$)(["common","product"]).t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.xu,{mb:4,children:(0,n.jsx)(a.xv,{category:"h5",textTransform:"capitalize",children:o("syllabus")})}),(0,n.jsx)(i.xu,{children:(null===(t=e.currentCourseLessons)||void 0===t||null===(r=t.lessonIds)||void 0===r?void 0:r.length)?(0,n.jsx)(L.AG,{currentCourseId:e.currentCourseId,inPlayer:e.inPlayer,currentLessonId:e.currentLessonId,currentCourseSectionId:e.currentCourseSectionId,currentCourseSections:e.currentCourseSections,currentCourseLessons:e.currentCourseLessons,currentCourseMockTests:e.currentCourseMockTests,currentCourseCompletionStats:e.currentCourseCompletionStats,currentCourseType:e.currentProductType,userEnrollmentState:e.userEnrollmentState,getRendererData:e.getRendererData,onLessonClick:e.goToPlayer}):(0,n.jsx)(p.T9,{title:o("product:noContent")})})]})},ve=function(e){return(0,n.jsx)(i.kC,{sx:{borderRadius:8,borderColor:"border-basic-color-4",borderWidth:1,borderStyle:"solid",width:"100%",height:"60px",justifyContent:"center",alignItems:"center"},children:(0,n.jsxs)(i.xu,{py:2,sx:{width:"100%",textAlign:"center"},children:[(0,n.jsx)(a.xv,{category:"h6",alignment:"center",children:e.title}),(0,n.jsx)(i.xu,{pt:1}),(0,n.jsx)(a.xv,{category:"c2",alignment:"center",textTransform:"capitalize",children:e.subtitle})]})})},ge=function(e){var t=e.mockTestDetails,r=e.testStatus,o=(0,l.$)(["common","product"]).t,s=t.mockTestDuration,u=t.totalMarks,a=t.totalQuestions;return(0,n.jsxs)(i.kC,{sx:{justifyContent:"space-between",flexDirection:"row"},children:[r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ve,{title:r,subtitle:o("product:status")}),(0,n.jsx)(i.xu,{ml:4})]}),(0,n.jsx)(ve,{title:u||"-",subtitle:o("product:mark",{count:u})}),(0,n.jsx)(i.xu,{ml:4}),(0,n.jsx)(ve,{title:s||"-",subtitle:o("minute",{count:s})}),(0,n.jsx)(i.xu,{ml:4}),(0,n.jsx)(ve,{title:a||"-",subtitle:o("question",{count:a})})]})},pe=function(e){var t=(0,l.$)(["common","product"]).t;return(0,n.jsxs)(i.kC,{sx:{flexDirection:"column"},children:[(0,n.jsx)(i.xu,{p:1,children:(0,n.jsxs)(i.kC,{sx:{justifyContent:"space-between",flexDirection:"row"},children:["          ",(0,n.jsx)(ve,{title:e.totalMocks||"-",subtitle:t("mockTest",{count:e.totalMocks})}),(0,n.jsx)(i.xu,{ml:4}),(0,n.jsx)(ve,{title:e.totalDuration||"-",subtitle:t("minute",{count:e.totalDuration})}),(0,n.jsx)(i.xu,{ml:4}),(0,n.jsx)(ve,{title:e.totalQuestions||"-",subtitle:t("question",{count:e.totalQuestions})})]})}),(0,n.jsxs)(i.xu,{mt:8,children:[(0,n.jsx)(i.xu,{mb:4,children:(0,n.jsx)(a.xv,{category:"h5",textTransform:"capitalize",children:t("tests")})}),(0,n.jsx)(i.xu,{children:(0,n.jsx)(L.AG,{currentCourseId:e.currentCourseId,inPlayer:e.inPlayer,currentLessonId:e.currentLessonId,currentCourseSectionId:e.currentCourseSectionId,currentCourseSections:e.currentCourseSections,currentCourseLessons:e.currentCourseLessons,currentCourseMockTests:e.currentCourseMockTests,currentCourseCompletionStats:e.currentCourseCompletionStats,currentCourseType:e.currentProductType,userEnrollmentState:e.userEnrollmentState,getRendererData:e.getRendererData,onTakeTestClick:e.onTakeTestClick,onLessonClick:e.goToPlayer,courseDetails:e.courseDetails,onLoadTestSeriesList:e.onLoadTestSeriesList})})]})]})},xe=r(3258),he=r(23295),me=r(98782),fe=r.n(me),Te=r(55002);function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){be(e,t,r[t])}))}return e}var Se=function(e){var t,r,s,u,d,v,g,x=(0,l.$)(["common","product"]).t,h=function(t){switch(t){case c.lW.COURSE:var r;return null===e||void 0===e||null===(r=e.courses)||void 0===r?void 0:r.coursesIds;case c.lW.TEST:var n;return null===e||void 0===e||null===(n=e.test)||void 0===n?void 0:n.testsIds;case c.lW.TEST_SERIES:var o;return null===e||void 0===e||null===(o=e.testSeries)||void 0===o?void 0:o.testSeriesIds;default:return null===e||void 0===e?void 0:e.allBundleCoursesIds}},m=function(e){switch(e){case c.lW.COURSE:return x("course_plural");case c.lW.TEST:return x("mockTest_plural");case c.lW.BUNDLE:return x("bundle_plural");case c.lW.TEST_SERIES:return x("series_plural");default:return x("all")}},f=ye({},null===e||void 0===e||null===(t=e.courses)||void 0===t?void 0:t.coursesDetails,null===e||void 0===e||null===(r=e.test)||void 0===r?void 0:r.testsDetails,null===e||void 0===e||null===(s=e.testSeries)||void 0===s?void 0:s.testSeriesDetails),T=(0,o.useState)(c.lW.INVALID),b=T[0],y=T[1],S=(0,o.useState)(""),C=S[0],j=S[1],I=(0,o.useState)(h(b)),E=I[0],w=I[1],D={shouldSort:!0,tokenize:!0,threshold:.4,location:0,distance:10,maxPatternLength:32,minMatchCharLength:3,keys:["courseTitle"],id:"id"},R=function(e){var t,r=E,n=(t=f,r.map((function(e){return ye({},t[e],{id:e})})));e?r=new(fe())(n,D).search(e):r=n.map((function(e){return e.id}));w(r)};(0,o.useEffect)((function(){w(h(0))}),[e.bundleSeo]),(0,o.useEffect)((function(){w(h(b)),j("")}),[b]),(0,o.useEffect)((function(){C.length>0?R(C):w(h(b))}),[C]);var P,O,A,L=134*(null!==(g=null===E||void 0===E?void 0:E.length)&&void 0!==g?g:0),F=E&&(null===E||void 0===E?void 0:E.length)<10?"0".concat(null===E||void 0===E?void 0:E.length):null===E||void 0===E?void 0:E.length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.xu,{mb:6,children:(0,n.jsxs)(i.kC,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",textTransform:"capitalize",sx:{pr:2},children:x("product:content")}),(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:F||"00"})]})}),(0,n.jsxs)(i.xu,{id:"bundle-list",sx:{borderWidth:1,borderTopWidth:1,borderColor:"border-basic-color-4",borderStyle:"solid",borderRadius:"8px",height:"auto",bg:"background-basic-color-2",width:"100%",boxShadow:"0px 2px 4px 2px rgba(0, 0, 0, 0.05)"},children:[(0,n.jsxs)(i.kC,{bg:"background-basic-color-2",px:3,py:4,sx:{justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:"border-basic-color-4",borderBottomStyle:"solid",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},children:[(0,n.jsx)(i.xu,{mr:4,sx:{flexGrow:1,height:5},children:(0,n.jsx)(a.nv,{type:"text",name:"search",value:C,placeholderText:x("product:searchBundle"),onChange:j,icon:C?k.q.closeCircle:void 0,iconPosition:"follow",onClickIcon:function(){return j("")}})}),(0,n.jsx)(i.xu,{sx:{height:5},children:(0,n.jsx)(B.Nt,{currentFilter:b,filterText:b!==c.lW.INVALID?m(b):null,onHandleChange:function(e){return y(parseInt(e))},bundleLength:0,courseLength:null!==(P=null===e||void 0===e||null===(u=e.courses)||void 0===u?void 0:u.coursesIds.length)&&void 0!==P?P:0,mocktestsLength:null!==(O=null===e||void 0===e||null===(d=e.test)||void 0===d?void 0:d.testsIds.length)&&void 0!==O?O:0,testsSeriesLength:null!==(A=null===e||void 0===e||null===(v=e.testSeries)||void 0===v?void 0:v.testSeriesIds.length)&&void 0!==A?A:0})})]}),C&&(0,n.jsx)(i.xu,{px:6,py:2,children:(0,n.jsx)(a.xv,{children:x("product:searchResultsFor",{value:C,type:m(b)})})}),f&&E&&f[E[0]]?(0,n.jsx)(i.xu,{id:"list",sx:{borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",overflow:"hidden"},children:(0,n.jsx)(he.Z,{disableHeight:!0,children:function(t){var r=t.width;return(0,n.jsx)(xe.t7,{height:L,width:r,itemCount:E.length,itemSize:134,children:function(t){var r=t.index,o=t.style,s=f[E[r]],l=s.courseType,u=s.totalLessonCount,d=s.trialLessonCount&&s.trialLessonCount>0?"".concat(s.trialLessonCount," ").concat(x("trial",{count:s.trialLessonCount})):null,v=[];v.push(function(e){switch(e){case c.lW.COURSE:return x("course");case c.lW.TEST:return x("mockTest");case c.lW.TEST_SERIES:return x("testSeries");default:return""}}(l)),l===c.lW.COURSE&&v.push("".concat(u," ").concat(x("lessons",{count:u}))),l===c.lW.TEST_SERIES&&v.push("".concat(u," ").concat(x("test",{count:u}))),l===c.lW.TEST&&v.push(function(e){switch(e){case c.L2.PUBLISHED:return x("live");case c.L2.COMINGSOON:return x("comingSoon");case c.L2.SCHEDULED:return x("scheduled");default:return""}}(s.courseStatus));var g=v.join(" \u2022 "),p=(0,n.jsxs)(i.kC,{pt:2,sx:{alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"s2",noOfLines:1,textTransform:"capitalize",children:g}),d?(0,n.jsx)(i.xu,{pl:1,children:(0,n.jsx)(a.Ct,{variant:"solid",badgeColor:"accent",badgeShape:"roundedEdges",text:d})}):null]});return(0,n.jsx)(i.xu,{id:"demo",style:o,sx:{width:"100%",height:"100%"},children:s&&(0,n.jsx)(Te.H,{listItemType:"two-line",supportedVisualType:"component",supportedVisualSource:(0,n.jsx)(i.xu,{sx:{width:180,height:101,overflow:"hidden",borderRadius:"8px"},children:(0,n.jsx)(a.pl,{accessibilityLabel:s.courseTitle,imageSource:s.courseImageUrl,noSourceImage:"letter",shape:"rounded"})}),isSupportVisualLeftAndMetaDataRight:!0,supportedVisualAltText:s.courseTitle,primaryText:(0,n.jsx)(a.xv,{category:"h6",children:s.courseTitle}),secondaryText:p,metaDataType:"none",hasDivider:r!==E.length-1,isSection:!1,onClick:function(){return e.onClickHandle(s.courseType,s.courseId,s.courseSeoTitle)}})})}})}})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.T9,{title:x("product:noContent")})})]})]})},Ce=function(e){var t,r,s,d,v,g,x,h,m,f,T,b,y,S,C,j,I,E,w,D,k,R,P,O,A,F,N,M,U,W,q,_,V,H,z,G,$,Z,Y=e.data,Q=e.callbacks,J=e.helper,K=(0,l.$)(["common","product"]).t,X=(0,o.useState)(!1),ee=X[0],te=X[1],re=Y.seoToIdFetchStatus,ne=Y.courseFetchStatus,oe=Y.bundleFetchStatus,se=re===c.iF.IN_PROGRESS||re===c.iF.IDLE,ie=!se&&(ne===c.iF.IDLE&&oe===c.iF.IDLE||ne===c.iF.IN_PROGRESS||oe===c.iF.IN_PROGRESS),le=Y.courseData,ue=Y.courseAccessData,ae=Y.authorData,ve=Y.courseReviewData,xe=Y.reviewDataFetchStatus,he=Y.currentFaqData,me=J.expiersOn(null===(t=le.coursePricing)||void 0===t?void 0:t.courseEndDate);if(se||ie)return(0,n.jsx)(a.aN,{});var fe,Te=le.courseDetails,be=le.bundleDetails,ye=le.isSellIndividualEnabled,Ce=ue.isCourseExpired,je=ue.isCoursePrivate,Ie=ue.isCourseAvailableForTrial,Ee=ue.isCoursePurchased,we=J.getRendererData,De=J.secondsToHHMMSS,ke=J.findTestStatus,Re=Q.paymentCallbacks,Pe=Q.goToPlayer,Oe=Q.bundleCallbacks,Ae=Q.testSeriesCallbacks,Le=Q.moreViewCallbacks,Fe=Q.testCallbacks,Ne=Q.goToCourseReview,Me=Q.navigateBack,Ue=Re.checkSinginAndEnrolUserToCourse,We=Re.checkSigninAndGoToCheckout,qe=Re.onSetVariablePricing,Be=Fe.onHandleGoToDashboard,_e=Oe.onHandleBundleNavigation,Ve=Ae.takeQuizClickHandleTestSeries,He=Ae.onLoadTestSeriesList,ze=Le.onEditReview,Ge=Le.onHandleDeleteReview,$e=ne===c.iF.SUCCESS?Te:be,Ze=be?null===be||void 0===be?void 0:be.enrollmentState:null===Te||void 0===Te?void 0:Te.enrollmentState,Ye=Y.paymentData.currency,Qe=Ze===c.T_.ENROLLED||Ze===c.T_.PURCHASED,Je=0===(null===(r=le.coursePricing)||void 0===r?void 0:r.actualPrice),Ke=Je||Ee||!(null===(s=le.coursePricing)||void 0===s||null===(d=s.selctedVariablePrice)||void 0===d?void 0:d.actualPrice)?null:(0,ce.Z)(null===(v=le.coursePricing)||void 0===v||null===(g=v.selctedVariablePrice)||void 0===g?void 0:g.actualPrice,Ye),Xe=Je||Ee||!(null===(x=le.coursePricing)||void 0===x||null===(h=x.selctedVariablePrice)||void 0===h?void 0:h.discountPrice)?null:(0,ce.Z)(null===(m=le.coursePricing)||void 0===m||null===(f=m.selctedVariablePrice)||void 0===f?void 0:f.discountPrice,Ye),et=K(be?"product:buyBundle":"product:buyNow"),tt=(null===$e||void 0===$e||null===(T=$e.coursePlayTimeRestrictionDetails)||void 0===T?void 0:T.isPlayTimeRestrictionEnabled)||(null===$e||void 0===$e?void 0:$e.courseDescription)||(null===$e||void 0===$e?void 0:$e.isShowAuthorsEnabled)||(null===$e||void 0===$e?void 0:$e.isReviewsEnabled)&&!!(null===Y||void 0===Y||null===(b=Y.courseReviewData)||void 0===b||null===(y=b.allReviews)||void 0===y?void 0:y.length)||(null===$e||void 0===$e?void 0:$e.isFaqEnabled);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.xu,{sx:{flex:1},children:(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsxs)(i.rj,{sx:{justifyContent:"center",gridTemplateRows:"repeat(auto-flow,1fr)",gridTemplateColumns:["1fr","3fr 1fr","4fr 2fr"],gridAutoFlow:"row",gridTemplateAreas:['"desc" "card" "syllabus" "about"',function(){var e='"desc card"';return e+='"syllabus card"',tt&&(e+=' "about card" '),e}()],gridColumnGap:[6]},children:[(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"desc"},children:(0,n.jsx)(B.uF,{type:null===$e||void 0===$e?void 0:$e.courseType,title:null===$e||void 0===$e?void 0:$e.courseTitle,shortDesc:null===$e||void 0===$e?void 0:$e.courseShortDescription,rating:null===$e||void 0===$e?void 0:$e.courseRating,totalRatingCount:null===Y||void 0===Y||null===(S=Y.courseReviewData)||void 0===S?void 0:S.noOfUsersRated,userInfo:null===Y||void 0===Y?void 0:Y.sharedUserInfo,reviewData:(null===$e||void 0===$e?void 0:$e.isReviewsEnabled)&&(null===Y||void 0===Y?void 0:Y.reviewDataFetchStatus)===c.iF.SUCCESS?null===Y||void 0===Y?void 0:Y.courseReviewData:void 0,isCoursePurchased:Ee,goToStore:Me})}),(0,n.jsx)(i.xu,{as:"section",pt:[8,10],sx:{gridArea:"card",minWidth:"320px",width:["100%","320px","360px"]},children:(0,n.jsx)(i.kC,{id:"salescard",sx:{top:8,justifyContent:"center",position:["static","sticky","sticky"]},children:(0,n.jsx)(p.uY,{thumbnailProps:{accessibilityLabel:(null===$e||void 0===$e?void 0:$e.courseTitle)||"",imageSource:null===$e||void 0===$e?void 0:$e.courseImageUrl,videoSource:null===$e||void 0===$e?void 0:$e.coursePromoUrl,aspectRatio:"16:9",resizeMode:"cover",shape:"rounded"},validityText:Ee?me:Je?null:"".concat(null===(C=le.coursePricing)||void 0===C||null===(j=C.selctedVariablePrice)||void 0===j?void 0:j.validity," ").concat(K("day",{count:null===(I=le.coursePricing)||void 0===I||null===(E=I.selctedVariablePrice)||void 0===E?void 0:E.validity})," ").concat(K("validity")),actualPrice:Ke,discountedPrice:Xe,discountedPercentage:0!==(null===(w=le.coursePricing)||void 0===w||null===(D=w.selctedVariablePrice)||void 0===D?void 0:D.discountPrice)?null===(k=le.coursePricing)||void 0===k||null===(R=k.selctedVariablePrice)||void 0===R?void 0:R.discountPercentage:null,hasVariablePrice:!(Ee||!(null===le||void 0===le||null===(P=le.coursePricing)||void 0===P||null===(O=P.variablePrices)||void 0===O?void 0:O.length)),shouldShowGstWithPrice:Y.isTaxEnabled,onValidityLinkClick:function(){return te(!0)},buttonText:Qe?Ee?K("product:goToDashboard").toUpperCase():et.toUpperCase():Je?K("product:enrollForFree").toUpperCase():et.toUpperCase(),isButtonDisabled:Ce||je||!Ee&&!ye,onButtonClick:Qe&&Ee?Be:Je?Ue:We,secondaryButtonText:Je||Qe||!Ie||je?null:K("product:startAFreeTrial").toUpperCase(),onSecondaryButtonClick:Ue,tag:!0,isCoursePrivate:je,contentDetails:[(0,n.jsx)(B.VN,{courseDetails:Te,bundleDetails:be,testSeriesStats:le.testSeriesStats,findTestStatus:ke,secondsToHHMMSS:De})]})})}),(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"syllabus"},children:(0,n.jsxs)(i.kC,{my:4,sx:{flexDirection:"column"},children:[(null===$e||void 0===$e?void 0:$e.courseType)===c.lW.COURSE&&(0,n.jsx)(de,{currentCourseId:null===Te||void 0===Te?void 0:Te.courseId,inPlayer:!1,currentLessonId:le.currentLessonId,currentCourseSectionId:le.currentCourseSectionId,currentCourseSections:null===Te||void 0===Te?void 0:Te.sections,currentCourseLessons:null===Te||void 0===Te?void 0:Te.lessons,currentCourseMockTests:null===Te||void 0===Te?void 0:Te.mockTests,currentCourseCompletionStats:null===(A=le.courseCompletionStatsRaw)||void 0===A?void 0:A.completedLessonData,currentProductType:null===Te||void 0===Te?void 0:Te.courseType,userEnrollmentState:Ze,getRendererData:we,goToPlayer:Pe}),(null===$e||void 0===$e?void 0:$e.courseType)===c.lW.TEST&&(0,n.jsx)(ge,{mockTestDetails:Object.values(null===Te||void 0===Te||null===(F=Te.mockTests)||void 0===F?void 0:F.mockTestDetails)[0]}),(null===$e||void 0===$e?void 0:$e.courseType)===c.lW.TEST_SERIES&&(0,n.jsx)(pe,{totalDuration:null===(N=le.testSeriesStats)||void 0===N?void 0:N.totalMinutes,totalMocks:null===(M=le.testSeriesStats)||void 0===M?void 0:M.totalMocks,totalQuestions:null===(U=le.testSeriesStats)||void 0===U?void 0:U.totalQuestions,currentCourseId:null===Te||void 0===Te?void 0:Te.courseId,inPlayer:!1,currentLessonId:le.currentLessonId,currentCourseSectionId:le.currentCourseSectionId,currentCourseSections:null===Te||void 0===Te?void 0:Te.sections,currentCourseLessons:null===Te||void 0===Te?void 0:Te.lessons,currentCourseMockTests:null===Te||void 0===Te?void 0:Te.mockTests,currentCourseCompletionStats:null===(W=le.courseCompletionStatsRaw)||void 0===W?void 0:W.completedLessonData,currentProductType:null===Te||void 0===Te?void 0:Te.courseType,userEnrollmentState:Ze,getRendererData:we,onTakeTestClick:Ve,goToPlayer:Pe,courseDetails:Te,onLoadTestSeriesList:He}),(null===$e||void 0===$e?void 0:$e.courseType)===c.lW.BUNDLE&&(0,n.jsx)(Se,{currentBundleId:null===(q=le.bundleDetails)||void 0===q?void 0:q.courseId,courses:null===(_=le.bundleDetails)||void 0===_?void 0:_.bundleCourses.courses,testSeries:null===(V=le.bundleDetails)||void 0===V?void 0:V.bundleCourses.testSeries,test:null===(H=le.bundleDetails)||void 0===H?void 0:H.bundleCourses.test,allBundleCoursesIds:null===(z=le.bundleDetails)||void 0===z?void 0:z.bundleCourses.allBundleCoursesIds,userEnrollmentState:null===(G=le.bundleDetails)||void 0===G?void 0:G.enrollmentState,bundleSeo:null===($=le.bundleDetails)||void 0===$?void 0:$.seoPageTitle,onClickHandle:_e})]})}),tt&&(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"about"},children:(0,n.jsx)(L.O1,{courseDetails:Te,bundleDetails:be,courseFetchStatus:ne,authorData:ae,reviewDataFetchStatus:xe,courseReviewData:ve,currentFaqData:he,userName:null===Y||void 0===Y||null===(Z=Y.sharedUserInfo)||void 0===Z?void 0:Z.name,goToEditReview:ze,onHandleDeleteReview:Ge,goToCourseReview:Ne,secondsToHHMMSS:De})})]}),(0,n.jsx)(i.xu,{mb:5})]})}),(0,n.jsx)(u.u_,{ariaHideApp:!1,isOpen:ee,onRequestClose:function(){return te(!ee)},children:(0,n.jsx)(B.rF,{isValidityModalOpen:ee,setIsValidityModalOpen:te,doSetVariablePrice:qe,currentCoursePricing:null===le||void 0===le?void 0:le.coursePricing,courseId:null!==(fe=null===be||void 0===be?void 0:be.courseId)&&void 0!==fe?fe:null===Te||void 0===Te?void 0:Te.courseId,isTaxEnabled:Y.isTaxEnabled,currencyCode:Ye})})]})};function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=function(e){return(0,n.jsx)(Ce,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){je(e,t,r[t])}))}return e}({},e))},Ee=r(61320),we=r.n(Ee),De=function(e){var t=(0,l.$)("product").t;return(0,n.jsxs)(i.kC,{p:4,sx:{justifyContent:"space-between"},children:[(0,n.jsxs)(i.xu,{children:[(0,n.jsx)(a.xv,{category:"h6",textTransform:"capitalize",children:e.title}),(0,n.jsxs)(a.xv,{category:"p2",textTransform:"capitalize",sx:{display:"flex",pt:1},children:["".concat(t("score"),":")," ",e.subtitle]})]}),(0,n.jsx)(i.kC,{sx:{flexDirection:"column",justifyContent:"center"},children:(0,n.jsx)(a.zx,{type:"outline",size:"small",variant:"basic",disabled:e.isViewResultDisabled,onClick:function(){return e.viewResultOnClick()},children:t("viewResult").toLocaleUpperCase()})})]})},ke=function(e){var t=e.mockTestDetails,r=e.currentEnrollmentState,o=e.isAccessibleOnlyOnMobile,s=e.takeTestOnClick,u=e.viewResultOnClick,d=(0,l.$)(["product","newsfeed","common"]).t,v=!0;t.resultScheduleTime&&(v=!(new Date(t.resultScheduleTime)>new Date));var g=t.firstSubmittedStatus===c.t6.SUBMITTED||t.firstSubmittedStatus===c.t6.SUBMITTED_AFTER_TIMEUP,p=t.latestSubmittedStatus===c.t6.SUBMITTED||t.latestSubmittedStatus===c.t6.SUBMITTED_AFTER_TIMEUP,x=t.firstSubmittedStatus===c.t6.IN_PROGRESS,h=t.latestSubmittedStatus===c.t6.IN_PROGRESS,m=t.firstAttemptIsUnderEvaluation||t.firstAttemptIsUnderRevaluation,f=t.secondAttemptIsUnderEvaluation||t.secondAttemptIsUnderRevaluation,T=!t.maxRetakesAllowed||t.currentRetakeCount<=t.maxRetakesAllowed,b=t.maxRetakesAllowed?"".concat(t.currentRetakeCount," ").concat(d("of",{count:t.maxRetakesAllowed})):t.currentRetakeCount,y=t.firstAttemptIsUnderRevaluation?d("underRevaluation"):d("underEvaluation"),S=t.secondAttemptIsUnderRevaluation?d("underRevaluation"):d("underEvaluation"),C=v?null:we()(t.resultScheduleTime).format("lll"),j=v?(0,n.jsxs)(a.xv,{category:"p2",sx:{fontWeight:500},children:["\xa0",t.firstAttemptScore," ",d("of",{count:t.totalMarks})]}):"".concat(d("scheduledResult")," ").concat(C);m&&(j=y);var I=v?(0,n.jsxs)(a.xv,{category:"p2",sx:{fontWeight:500},children:["\xa0",t.latestAttemptScore," ",d("of",{count:t.totalMarks})]}):"".concat(d("scheduledResult")," ").concat(C);return f&&(I=S),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.kC,{p:4,sx:{borderRadius:8,borderColor:"border-basic-color-4",borderWidth:1,borderStyle:"solid",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)(a.xv,{children:d("testAttempts",{attemptCount:b})}),(0,n.jsx)(a.zx,{size:"small",onClick:function(){return s()},disabled:r===c.T_.NOT_ENROLLED||o||!T,children:function(){var e=d("takeTest");return t.currentRetakeCount>0&&(g||p)&&(e=d("retakeTest")),(x||h)&&(e=d("newsfeed:continueTest")),e}().toUpperCase()})]}),!!t.currentRetakeCount&&(0,n.jsxs)(i.xu,{pt:4,children:[t.currentRetakeCount>1&&!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(De,{title:d("latestAttempt"),subtitle:I,isViewResultDisabled:!v||f||t.latestSubmittedStatus===c.t6.IN_PROGRESS,viewResultOnClick:function(){return u(t.mockTestId,t.currentRetakeCount)}}),(0,n.jsx)(a.iz,{})]}),!x&&(0,n.jsx)(De,{title:d("firstAttempt"),subtitle:j,isViewResultDisabled:!v||m||t.firstSubmittedStatus===c.t6.IN_PROGRESS,viewResultOnClick:function(){return u(t.mockTestId,1)}})]})]})},Re=function(e){var t,r,s,d,v,g,x,h,m,f,T,b,y,S,C,j,I,E,w,D,k,R,P,O,A,F,N,M,U=e.data,W=e.callbacks,q=e.helper,_=(0,l.$)(["common","product"]).t,V=(0,o.useState)(!1),H=V[0],z=V[1],G=U.seoToIdFetchStatus,$=U.courseFetchStatus,Z=U.bundleFetchStatus,Y=G===c.iF.IN_PROGRESS||G===c.iF.IDLE,Q=!Y&&($===c.iF.IDLE&&Z===c.iF.IDLE||$===c.iF.IN_PROGRESS||Z===c.iF.IN_PROGRESS),J=U.courseData,K=U.courseType,X=U.courseAccessData,ee=U.isSubscriptionMode,te=U.authorData,re=U.courseReviewData,ne=U.reviewDataFetchStatus,oe=U.currentFaqData,se=J.courseDetails,ie=J.bundleDetails,le=J.isSellIndividualEnabled,ue=q.expiersOn(null===(t=J.coursePricing)||void 0===t?void 0:t.courseEndDate);if(Y||Q)return(0,n.jsx)(a.aN,{});var ae,de=X.isCourseExpired,ve=X.isCoursePrivate,pe=X.isCourseAvailableForTrial,xe=X.isCoursePurchased,he=q.secondsToHHMMSS,me=q.findTestStatus,fe=W.paymentCallbacks,Te=W.testCallbacks,be=W.moreViewCallbacks,ye=W.bundleCallbacks,Ce=W.goToCourseReview,je=W.navigateBack,Ie=fe.checkSinginAndEnrolUserToCourse,Ee=fe.checkSigninAndGoToCheckout,De=fe.onSetVariablePricing,Re=Te.onTakeQuizClickHandle,Pe=Te.onHandleSeeResult,Oe=ye.onHandleBundleNavigation,Ae=be.onHandleDiscussion,Le=be.onHandleNote,Fe=be.onEditReview,Ne=be.onHandleDeleteReview,Me=$===c.iF.SUCCESS&&K===c.lW.TEST?se:ie,Ue=U.paymentData.currency,We=(null===se||void 0===se||null===(r=se.mockTests)||void 0===r?void 0:r.mockTestDetails)?Object.values(se.mockTests.mockTestDetails)[0]:{},qe=(null===Me||void 0===Me?void 0:Me.enrollmentState)===c.T_.NOT_ENROLLED,Be=ee&&(null===Me||void 0===Me?void 0:Me.enrollmentState)===c.T_.PURCHASED,_e=Be?(null===Me||void 0===Me?void 0:Me.courseType)!==c.lW.TEST||(null===We||void 0===We?void 0:We.currentRetakeCount)?null:_("product:takeTest").toUpperCase():_("product:goPremium").toUpperCase(),Ve=Be?"".concat(_("expiresOn")," ").concat(we()(null===Me||void 0===Me?void 0:Me.studentCourseExpiryDate).format("ll")):null,He=(null===Me||void 0===Me?void 0:Me.serverDeviceType)&&((null===Me||void 0===Me?void 0:Me.serverDeviceType)===c.Mg.ANDROID||(null===Me||void 0===Me?void 0:Me.serverDeviceType)===c.Mg.IOS||(null===Me||void 0===Me?void 0:Me.serverDeviceType)===c.Mg.ANDROID+c.Mg.IOS),ze=He||(qe?de||ve||!le:!((null===We||void 0===We?void 0:We.mockTestStatus)===c.L2.PUBLISHED||(null===We||void 0===We?void 0:We.mockTestStatus)===c.L2.SCHEDULED&&We.scheduleStartDate&&We.scheduleEndDate&&new Date(We.scheduleStartDate)<new Date&&new Date<new Date(We.scheduleEndDate))),Ge=de||ve||!xe&&!le,$e=(null===Me||void 0===Me?void 0:Me.courseType)!==c.lW.TEST||qe?Ge:ze,Ze=0===(null===(s=J.coursePricing)||void 0===s?void 0:s.actualPrice),Ye=Ze?null:(0,ce.Z)(null===J||void 0===J||null===(d=J.coursePricing)||void 0===d||null===(v=d.selctedVariablePrice)||void 0===v?void 0:v.actualPrice,Ue),Qe=Ze||0===(null===(g=J.coursePricing)||void 0===g?void 0:g.discountPrice)?null:(0,ce.Z)(null===J||void 0===J||null===(x=J.coursePricing)||void 0===x||null===(h=x.selctedVariablePrice)||void 0===h?void 0:h.discountPrice,Ue),Je=_(ie?"product:buyBundle":"product:buyNow"),Ke=(null===Me||void 0===Me||null===(m=Me.coursePlayTimeRestrictionDetails)||void 0===m?void 0:m.isPlayTimeRestrictionEnabled)||(null===Me||void 0===Me?void 0:Me.courseDescription)||(null===Me||void 0===Me?void 0:Me.isShowAuthorsEnabled)||(null===Me||void 0===Me?void 0:Me.isReviewsEnabled)&&!!(null===U||void 0===U||null===(f=U.courseReviewData)||void 0===f||null===(T=f.allReviews)||void 0===T?void 0:T.length)||(null===Me||void 0===Me?void 0:Me.isFaqEnabled);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.xu,{sx:{flex:1},children:(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsxs)(i.rj,{sx:{justifyContent:"center",gridTemplateRows:"repeat(auto-flow,1fr)",gridTemplateColumns:["1fr","3fr 1fr","4fr 2fr"],gridAutoFlow:"row",gridTemplateAreas:['"desc" "card" "syllabus" "about"',function(){var e='"desc card"';return e+=' "syllabus card" ',Ke&&(e+=' "about card" '),e}()],gridColumnGap:[6]},children:[(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"desc"},children:(0,n.jsx)(B.uF,{type:null===Me||void 0===Me?void 0:Me.courseType,title:null===Me||void 0===Me?void 0:Me.courseTitle,shortDesc:null===Me||void 0===Me?void 0:Me.courseShortDescription,rating:null===Me||void 0===Me?void 0:Me.courseRating,courseId:null===Me||void 0===Me?void 0:Me.courseId,courseSeoTitle:null===Me||void 0===Me?void 0:Me.courseSeoTitle,totalRatingCount:null===U||void 0===U||null===(b=U.courseReviewData)||void 0===b?void 0:b.noOfUsersRated,userInfo:null===U||void 0===U?void 0:U.sharedUserInfo,isReviewEnabled:null===Me||void 0===Me?void 0:Me.isReviewsEnabled,reviewData:(null===Me||void 0===Me?void 0:Me.isReviewsEnabled)&&(null===U||void 0===U?void 0:U.reviewDataFetchStatus)===c.iF.SUCCESS?null===U||void 0===U?void 0:U.courseReviewData:void 0,isCoursePurchased:xe,onAddReview:Fe,goToStore:je})}),(0,n.jsx)(i.xu,{as:"section",pt:[8,10],sx:{gridArea:"card",minWidth:"320px",width:["100%","320px","360px"]},children:(0,n.jsx)(i.kC,{sx:{top:8,justifyContent:"center",position:["static","static","sticky"]},children:(0,n.jsx)(p.uY,{thumbnailProps:{accessibilityLabel:(null===Me||void 0===Me?void 0:Me.courseTitle)||"",imageSource:null===Me||void 0===Me?void 0:Me.courseImageUrl,videoSource:null===Me||void 0===Me?void 0:Me.coursePromoUrl,aspectRatio:"16:9",resizeMode:"cover",shape:"rounded"},validityText:ee?Ve:qe?Ze?null:"".concat(null===(y=J.coursePricing)||void 0===y||null===(S=y.selctedVariablePrice)||void 0===S?void 0:S.validity," ").concat(_("day",{count:null===(C=J.coursePricing)||void 0===C||null===(j=C.selctedVariablePrice)||void 0===j?void 0:j.validity})," ").concat(_("validity")):ue,actualPrice:!ee&&qe?Ye:null,discountedPrice:!ee&&qe?Qe:null,discountedPercentage:ee||0===(null===(I=J.coursePricing)||void 0===I?void 0:I.discountPrice)?null:null===(E=J.coursePricing)||void 0===E?void 0:E.discountPercentage,hasVariablePrice:!ee&&qe?!!(null===(w=J.coursePricing)||void 0===w||null===(D=w.variablePrices)||void 0===D?void 0:D.length):null,shouldShowGstWithPrice:U.isTaxEnabled,onValidityLinkClick:function(){return z(!0)},buttonText:ee?_e:qe?Ze?_("product:enrollForFree").toUpperCase():Je.toUpperCase():null,secondaryButtonText:ee||Ze||!qe||!pe||ve?null:_("product:startAFreeTrial").toUpperCase(),onSecondaryButtonClick:Ie,onButtonClick:qe?Ze?Ie:Ee:void 0,isButtonDisabled:$e,isCoursePrivate:qe&&ve,contentDetails:[(0,n.jsx)(B.VN,{courseDetails:se,bundleDetails:ie,testSeriesStats:J.testSeriesStats,findTestStatus:me,secondsToHHMMSS:he})]})})}),(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"syllabus"},children:(0,n.jsxs)(i.kC,{my:4,sx:{flexDirection:"column"},children:[(null===Me||void 0===Me?void 0:Me.courseType)===c.lW.TEST&&(0,n.jsxs)(i.xu,{children:[(0,n.jsx)(ge,{mockTestDetails:We,testStatus:me(null===se||void 0===se?void 0:se.testStartTime,null===se||void 0===se?void 0:se.testEndTime,null===se||void 0===se?void 0:se.courseStatus,null).status}),(0,n.jsx)(i.xu,{mt:4,children:(0,n.jsx)(ke,{mockTestDetails:We,currentEnrollmentState:null===se||void 0===se?void 0:se.enrollmentState,isAccessibleOnlyOnMobile:He,takeTestOnClick:Re,viewResultOnClick:Pe})}),(null===se||void 0===se?void 0:se.isDiscussionEnabled)||(null===se||void 0===se?void 0:se.isNotesEnabled)?(0,n.jsxs)(i.kC,{my:10,sx:{justifyContent:"space-between",flexDirection:["column"]},children:[(null===se||void 0===se?void 0:se.isDiscussionEnabled)&&(0,n.jsx)(B.H7,{onViewDiscussionClick:function(){return Ae(se)}}),(null===se||void 0===se?void 0:se.isDiscussionEnabled)&&(null===se||void 0===se?void 0:se.isNotesEnabled)&&(0,n.jsx)(i.xu,{mt:5}),(null===se||void 0===se?void 0:se.isNotesEnabled)&&(0,n.jsx)(B.qT,{onViewBookmarkClick:function(){return Le(se)}})]}):null]}),((null===Me||void 0===Me?void 0:Me.courseType)===c.lW.BUNDLE||(null===Me||void 0===Me?void 0:Me.courseType)===c.lW.SUBSCRIPTION_BUNDLE||(null===Me||void 0===Me?void 0:Me.courseType)===c.lW.SUSBCRIPTION_TIER_BUNDLE)&&(0,n.jsx)(Se,{currentBundleId:null===(k=J.bundleDetails)||void 0===k?void 0:k.courseId,courses:null===(R=J.bundleDetails)||void 0===R?void 0:R.bundleCourses.courses,testSeries:null===(P=J.bundleDetails)||void 0===P?void 0:P.bundleCourses.testSeries,test:null===(O=J.bundleDetails)||void 0===O?void 0:O.bundleCourses.test,allBundleCoursesIds:null===(A=J.bundleDetails)||void 0===A?void 0:A.bundleCourses.allBundleCoursesIds,userEnrollmentState:null===(F=J.bundleDetails)||void 0===F?void 0:F.enrollmentState,bundleSeo:null===(N=J.bundleDetails)||void 0===N?void 0:N.seoPageTitle,onClickHandle:Oe})]})}),Ke&&(0,n.jsx)(i.xu,{as:"section",sx:{gridArea:"about"},children:(0,n.jsx)(L.O1,{courseDetails:se,bundleDetails:ie,courseFetchStatus:$,authorData:te,reviewDataFetchStatus:ne,courseReviewData:re,currentFaqData:oe,userName:null===U||void 0===U||null===(M=U.sharedUserInfo)||void 0===M?void 0:M.name,goToEditReview:Fe,onHandleDeleteReview:Ne,goToCourseReview:Ce,secondsToHHMMSS:he})})]}),(0,n.jsx)(i.xu,{mb:5})]})}),(0,n.jsx)(u.u_,{ariaHideApp:!1,isOpen:H,onRequestClose:function(){return z(!H)},children:(0,n.jsx)(B.rF,{isValidityModalOpen:H,setIsValidityModalOpen:z,doSetVariablePrice:De,currentCoursePricing:null===J||void 0===J?void 0:J.coursePricing,courseId:null!==(ae=null===Me||void 0===Me?void 0:Me.courseId)&&void 0!==ae?ae:0,isTaxEnabled:U.isTaxEnabled,currencyCode:Ue})})]})};function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=function(e){return(0,n.jsx)(Re,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pe(e,t,r[t])}))}return e}({},e))},Ae=r(51965);function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fe=function(e){var t,r,s=(0,l.$)("product").t,u=e.data,c=e.callbacks,d=u.courseId,v=u.bundleId,g=u.sharedUserName,x=u.reviewData,h=u.isUserPurchased,m=u.currentProductDetails,f=c.goBack,T=c.goToAddReview,b=c.goToCourse,y=c.onLoadMoreReviews,S=c.onHandleDeleteReview,C=(0,o.useState)(!1),j=C[0],I=C[1],E=(0,o.useRef)(),w=(0,o.useCallback)((function(e){E.current&&E.current.disconnect(),E.current=new IntersectionObserver((function(e){e[0].isIntersecting&&N()}),{rootMargin:"0px"}),e&&E.current.observe(e)}),[null===x||void 0===x?void 0:x.currentPage]);if(!x)return(0,n.jsx)(a.aN,{});if(x.fetchStatus===_.iF.FAILED)return(0,n.jsx)(p.qz,{title:null!==(r=null===(t=x.error)||void 0===t?void 0:t.errorMessage)&&void 0!==r?r:void 0,onRetry:function(){return window.location.reload()}});var D=x.allReviews,k=x.currentPage,R=x.isCurrentUserReviewed,P=x.totalMatchedPages,O=x.totalMatchedRecords,A=x.noOfUsersRated;D&&function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Le(e,t,r[t])}))}}({},D[0]);var L=D&&(null===D||void 0===D?void 0:D.length)<O,F=d||v,N=function(){return L?y({currentPage:k,totalPages:P,courseId:F}):null},M=[{title:s("store"),onClick:function(){return f()}},{title:null===m||void 0===m?void 0:m.courseTitle,onClick:function(){return b(null===m||void 0===m?void 0:m.courseSeoTitle)}},{title:s("reviews")}];return(0,n.jsxs)(i.xu,{sx:{maxWidth:25,width:"100%",flex:1},mx:"auto",px:3,my:4,children:[(0,n.jsx)(i.xu,{mt:4,children:(0,n.jsx)(a.Oo,{data:M})}),(0,n.jsxs)(i.kC,{mt:8,mb:4,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(i.kC,{sx:{flexDirection:"row",alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",children:s("reviews")}),(0,n.jsx)(i.xu,{pl:2,children:(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:A})})]}),h&&!R?(0,n.jsx)(i.xu,{mr:6,children:(0,n.jsx)(a.zx,{type:"filled",onClick:function(){return T(null===m||void 0===m?void 0:m.courseSeoTitle,F)},children:s("addReview").toUpperCase()})}):null]}),x.fetchStatus===_.iF.SUCCESS&&0===(null===D||void 0===D?void 0:D.length)?(0,n.jsx)(p.T9,{title:s("noReviewsYet")}):(0,n.jsxs)(i.xu,{sx:{".review-grid":{display:"flex",flex:1},".review-grid_column":{}},children:[(0,n.jsx)(Ae.Z,{breakpointCols:{default:2,640:1},className:"review-grid",columnClassName:"review-grid_column",children:null===D||void 0===D?void 0:D.map((function(e,t){return(0,n.jsx)(i.kC,{mt:6,mr:6,sx:{maxWidth:20},ref:t+1===D.length?w:null,children:(0,n.jsx)(p.Ak,{showAvatar:!0,rating:e.rating,userName:e.userName,userImageUrl:e.profilePhoto,reviewText:e.comment,reviewPublishDate:e.createdAt,isReviewApproved:1===e.approvedStatus,onClickEdit:function(){return T(null===m||void 0===m?void 0:m.courseSeoTitle,F)},onClickDelete:function(){return I(!0)}})},e.reviewId)}))}),x.fetchStatus===_.iF.IN_PROGRESS?(0,n.jsx)(i.kC,{my:10,sx:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(a.aN,{})}):null]}),j&&(0,n.jsx)(p.iu,{isOpen:j,title:s("deleteReviewTitle"),primaryAction:{title:s("yesDelete").toLocaleUpperCase(),onClick:function(){S(g,null===D||void 0===D?void 0:D[0].reviewId,null===D||void 0===D?void 0:D[0].comment,null===D||void 0===D?void 0:D[0].rating),I(!1)},variant:"error"},secondaryAction:{title:s("noKeepIt").toLocaleUpperCase(),onClick:function(){return I(!1)}},children:s("deleteReviewMessage")})]})};function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Me=function(e){return(0,n.jsx)(Fe,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ne(e,t,r[t])}))}return e}({},e))},Ue=function(e){var t,r,s,u=(0,l.$)("product").t,c=(0,o.useRef)(null),d=q.default.query,v=e.data,g=e.callbacks,x=v.courseId,h=v.bundleId,m=v.sharedUserName,f=v.reviewData,T=v.currentProductDetails,b=v.isUserPurchased,y=g.goBack,S=g.onSubmitReview,C=g.goToCourseReview,j=g.refetchSeoToId,I=g.goToCourse,E=x||h,w=null===f||void 0===f||null===(t=f.allReviews)||void 0===t?void 0:t[0],D=1===(null===w||void 0===w?void 0:w.approvedStatus),k=D?null:null===w||void 0===w?void 0:w.reviewId,R=D?5:Number(null===w||void 0===w?void 0:w.rating),P=(0,o.useState)(R),O=P[0],A=P[1],L=(0,o.useState)(!1),F=L[0],N=L[1];if((0,o.useEffect)((function(){j(null===d||void 0===d?void 0:d.productSeo,null===d||void 0===d?void 0:d.productSeo)}),[null===d||void 0===d?void 0:d.productSeo]),(0,o.useEffect)((function(){c.current&&!D&&(null===w||void 0===w?void 0:w.comment)&&(c.current.value=w.comment,(null===w||void 0===w?void 0:w.comment)&&w.comment!==c.current.value&&N(!0))}),[D,null===w||void 0===w?void 0:w.comment]),!f||f.fetchStatus===_.iF.IN_PROGRESS)return(0,n.jsx)(a.aN,{});if(f.fetchStatus===_.iF.FAILED)return(0,n.jsx)(p.qz,{title:null!==(s=null===(r=f.error)||void 0===r?void 0:r.errorMessage)&&void 0!==s?s:void 0,onRetry:function(){return window.location.reload()}});b||C(null===T||void 0===T?void 0:T.courseSeoTitle,E);var M=(null===T||void 0===T?void 0:T.courseTitle.length)<18?null===T||void 0===T?void 0:T.courseTitle:"".concat(null===T||void 0===T?void 0:T.courseTitle.slice(0,18),"..."),U=[{title:u("store"),onClick:function(){return y()}},{title:M,onClick:function(){return I(null===T||void 0===T?void 0:T.courseSeoTitle)}},{title:u("reviews"),onClick:function(){return C(null===T||void 0===T?void 0:T.courseSeoTitle,E)}},{title:u(D?"rateUs":"editReview")}],W=D||O===Number(null===w||void 0===w?void 0:w.rating);return(0,n.jsxs)(i.xu,{sx:{maxWidth:21,width:"100%",flex:1},mx:"auto",px:3,mb:4,children:[(0,n.jsx)(i.xu,{my:8,children:(0,n.jsx)(a.Oo,{data:U})}),(0,n.jsx)(a.xv,{category:"h3",textTransform:"capitalize",children:u(D?"rateUs":"editReview")}),(0,n.jsx)(i.xu,{my:4,children:(0,n.jsx)(a.xv,{category:"p1",children:u("shareUrExperiance")})}),(0,n.jsx)(a.ep,{rating:0===(null===w||void 0===w?void 0:w.approvedStatus)?null===w||void 0===w?void 0:w.rating:O,fontSize:"25px",setMethod:A,allowEdit:!0}),(0,n.jsx)(i.xu,{mt:4,children:(0,n.jsx)(a.nv,{type:"textArea",numberOfLines:3,name:"review",label:u("writeReview"),placeholderText:u("writeReviewPlaceholder"),setInputRef:function(e){c.current=e.current},onChange:function(e){e&&(D||(null===w||void 0===w?void 0:w.comment)!==e)?e&&(D||(null===w||void 0===w?void 0:w.comment)!==e)&&N(!0):N(!1)}})}),(0,n.jsxs)(i.kC,{mt:10,children:[(0,n.jsx)(a.zx,{disabled:W&&!F,onClick:function(){c.current&&(S(m,k,c.current.value,O),C(null===T||void 0===T?void 0:T.courseSeoTitle,E))},children:D?u("submit").toUpperCase():u("updateReview").toUpperCase()}),(0,n.jsx)(i.xu,{pl:4,children:(0,n.jsx)(a.zx,{type:"ghost",variant:"basic",onClick:function(){return history.back()},children:u("cancel").toUpperCase()})})]})]})};function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qe=function(e){return(0,n.jsx)(Ue,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){We(e,t,r[t])}))}return e}({},e))};function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=function(e){var t=e.isSubscriptionMode,r=e.pricing,s=e.productType,u=e.productIdsByType,c=e.getCourseDataArray,d=e.allProductIds,v=e.searchTerm,x=e.courseTags,h=e.mockTestTags,m=e.testSeriesTags,f=e.bundleTags,T=(e.allTags,e.products),b=e.currency,y=e.courseCompletionStatsRaw,S=e.calculateCourseCompletion,C=e.getTitle,j=e.getFilteredTagsIds,I=e.getProductTags,E=e.getProductTypeIds,w=e.findTestStatus,D=e.navigateToSales,k=e.navigateToDashboard,R=(0,l.$)("product").t,P=(0,g.Rp)("allProducts").content,O=(0,q.useRouter)().pathname,A=(0,q.useRouter)(),F=(0,o.useState)(!1),N=F[0],M=F[1],U=(0,o.useState)(s),W=U[0],V=U[1],H=(0,o.useState)([]),z=H[0],G=H[1],$={courseTags:x,mockTestTags:h,bundleTags:f,testSeriesTags:m},Z=(0,o.useState)(I($,W)),Y=Z[0],Q=Z[1];(0,o.useEffect)((function(){Q(I($,W))}),[W,x,h,m,f]);var J={shouldSort:!0,tokenize:!0,threshold:.4,location:0,distance:10,maxPatternLength:32,minMatchCharLength:3,keys:["courseTitle"],id:"id"},K=function(e){var t=E(W,u,d),r=c(T,t),n=r.filter((function(e){return e.enrollmentState===_.T_.ENROLLED})).map((function(e){return e.id})),o=r.filter((function(e){return e.enrollmentState===_.T_.PURCHASED})).map((function(e){return e.id}));(t=Ve(r.filter((function(e){return e.enrollmentState===_.T_.NOT_ENROLLED})).map((function(e){return e.id}))).concat(Ve(o),Ve(n)),e)&&(t=new(fe())(r,J).search(e));return t};(0,o.useEffect)((function(){K(v)}),[W,d]),(0,o.useEffect)((function(){A.query.tags&&A.query.tags.length&&!z.length&&!N&&G(Array.isArray(A.query.tags)?A.query.tags:[A.query.tags]);var e={show:_.J5[W],type:W};v&&v.length&&(e.search=v),A.query.tags&&!N&&(e.tags=A.query.tags),z&&z.length&&(e.tags=z),q.default.replace({pathname:O,query:e},{query:e},{shallow:!0})}),[v,z]);var X=K(v);if(z.length){var ee=c(T,X);X=j(z,ee)}var te,re,ne,oe,se,ie=(_e(te={},_.lW.COURSE,C(_.lW.COURSE)),_e(te,_.lW.TEST,C(_.lW.TEST)),_e(te,_.lW.BUNDLE,C(_.lW.BUNDLE)),_e(te,_.lW.TEST_SERIES,C(_.lW.TEST_SERIES)),_e(te,_.lW.INVALID,C(_.lW.INVALID)),te);return(0,n.jsxs)(i.xu,{children:[(0,n.jsx)(a.xv,{category:"h3",children:R("searchResultsFor",{value:v,type:ie[W]})}),(0,n.jsxs)(i.kC,{mt:5,sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(i.kC,{sx:{alignItems:"center"},children:[(0,n.jsx)(a.xv,{category:"h4",textTransform:"capitalize",children:ie[W]}),(0,n.jsx)(i.xu,{pl:2,children:(0,n.jsx)(a.Ct,{variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges",text:X.length})})]}),(0,n.jsx)(i.xu,{sx:{height:5},children:(0,n.jsx)(B.Nt,{currentFilter:W,filterText:W!==_.lW.INVALID?ie[W]:null,onHandleChange:function(e){return V(parseInt(e))},bundleLength:null!==(re=u.bundleIds.length)&&void 0!==re?re:0,courseLength:null!==(ne=u.courseIds.length)&&void 0!==ne?ne:0,mocktestsLength:null!==(oe=u.mockTestIds.length)&&void 0!==oe?oe:0,testsSeriesLength:null!==(se=u.testSeriesIds.length)&&void 0!==se?se:0})})]}),Y.length>0&&(0,n.jsx)(i.xu,{my:7,children:(0,n.jsx)(a.Ph,{inputValue:z.map((function(e){return{value:e,label:e}})),options:Y.filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return{value:e,label:e}})),isMulti:!0,onChange:function(e){var t=[];e&&(t=e.map((function(e){return e.value}))),M(!0),G(t)},placeholder:R("product:searchByTag")})}),(0,n.jsx)(i.xu,{my:9,children:X.length?(0,n.jsx)(L.cm,{isSubscriptionMode:t,content:P,allProductIds:X,courses:T,pricing:r,getCourseTitle:C,findTestStatus:w,courseCompletionStatsRaw:y,calculateCourseCompletion:S,currency:b,showDivider:!0,navigateToSales:D,navigateToDashboard:k}):(0,n.jsx)(p.T9,{title:R("noResultsFound")})})]})};function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $e=function(e){var t=(0,l.$)("product").t,r=(0,q.useRouter)().query,o=r.type,s=r.search||"",u=e.data,d=e.helpers,v=e.callbacks,g=u.productsFetchStatus,x=u.coursesData,h=u.pricing,m=u.currency,f=u.isSubscriptionMode,T=u.productsError,b=v.navigateToCourseDetails,y=v.navigateToLessonPlayer,S=v.navigateBack,C=v.onReFetchProducts,j=d.getTitle,I=(d.getEnrolledUnenrolledIds,d.calculateCourseCompletion),E=d.getCourseDataArray,w=d.getProductTypeIds,D=(d.getRenderDataIds,d.renderTestStatus),k=d.getProductTags,R=d.getFilteredTagsIds,P=x.courses,O=x.enrolledCourses,A=x.unEnrolledCourses,L=x.courseCompletionStatsRaw,F=x.productTags,N=x.enrolledProductTags,M=Ge(A.courseIds).concat(Ge(O.courseIds)),U=Ge(A.mockTestIds).concat(Ge(O.mockTestIds)),W=Ge(A.testSeriesIds).concat(Ge(O.testSeriesIds)),B={bundleIds:Ge(A.bundleIds).concat(Ge(O.bundleIds)),courseIds:M,mockTestIds:U,testSeriesIds:W},_=Number(o),V=Ge(A.courseIds).concat(Ge(A.mockTestIds),Ge(A.testSeriesIds),Ge(A.bundleIds),Ge(O.courseIds),Ge(O.mockTestIds),Ge(O.testSeriesIds),Ge(O.bundleIds)),H=j(Number(o)),z=Ge(F.courseTags).concat(Ge(N.courseTags)),G=Ge(F.mockTestTags).concat(Ge(N.mockTestTags)),$=Ge(F.bundleTags).concat(Ge(N.bundleTags)),Z=Ge(F.testSeriesTags).concat(Ge(N.testSeriesTags)),Y=Ge(z).concat(Ge(G),Ge($),Ge(Z)),Q=[{title:t("store"),onClick:function(){return S()}},{title:H}],J=g===c.iF.IN_PROGRESS||g===c.iF.IDLE;if(g===c.iF.FAILED){var K=T.errorMessage;return(0,n.jsx)(p.qz,{title:K,onRetry:function(){return C()}})}return J?(0,n.jsx)(a.aN,{}):(0,n.jsx)(i.xu,{sx:{flex:1},children:(0,n.jsxs)(i.xu,{sx:{maxWidth:28,width:"100%"},mx:"auto",px:3,children:[(0,n.jsx)(i.xu,{mt:6,mb:6,children:(0,n.jsx)(a.Oo,{data:Q})}),V.length?(0,n.jsx)(He,{isSubscriptionMode:f,products:P,pricing:h,currency:m,productType:_,getTitle:j,productIdsByType:B,allProductIds:V,searchTerm:s,courseTags:z,mockTestTags:G,testSeriesTags:Z,bundleTags:$,allTags:Y,getCourseDataArray:E,getFilteredTagsIds:R,getProductTags:k,getProductTypeIds:w,findTestStatus:D,courseCompletionStatsRaw:L,calculateCourseCompletion:I,navigateToSales:b,navigateToDashboard:y}):(0,n.jsx)(p.T9,{title:t("noResultsFound")})]})})};function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ye=function(e){return(0,n.jsx)($e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ze(e,t,r[t])}))}return e}({},e))}}}]);