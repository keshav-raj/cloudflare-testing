(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3425],{33459:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learn/communities/[communityTitle]",function(){return n(75031)}])},75031:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var i=n(24246),s=n(27378),r=n(29418),o=n(28862),u=n(95045),m=n(11959),a=n(83553),l=n(9078),c=n(55480),d=n(40504),x=n(86677),h=n(53850),j=n(14916),g=n(10023),y=n(62664),p=n(79136),f=n(2665),b=new y.t1({defaultHeight:210,fixedWidth:!0}),C=function(e){var t=e.currentCommunityContents,n=e.doFetchCommunityContent,s=e.currentCommunityDetails,r=e.communitiesFetchStatus,o=e.doRemoveUser,m=e.userRoleType,l=e.sharedUserId,d=e.doDeleteCommunityPost,j=function(e){o({communityId:s.id,memberId:e})},g=function(e){var n=e.index,r=e.key,o=e.parent,u=e.style,g=t.contentList[n];if(!g)return(0,i.jsx)(i.Fragment,{});return(0,i.jsx)(y.Z8,{cache:b,columnIndex:0,parent:o,rowIndex:n,children:(0,i.jsx)(c.kC,{style:u,py:2,sx:{justifyContent:"center",overflow:"hidden","& img":{maxHeight:"512px",objectFit:"cover",maxWidth:"100%",display:"block"}},children:(0,i.jsx)(f.Z,{onDeletePost:function(){d({communityId:s.id,postId:g.id})},createdAt:g.createdAt,postTypeId:g.postTypeId,noImage:g.postTypeId!==a.SV.ARTICLE,heading:g.title,description:g.publishedContent,title:g.user.name,id:g.id,slug:s.slug,image:g.featuredImage,logo:g.user.profilePhoto,postCount:g.totalDiscussions,likeCount:g.likeCount,memberCount:0,width:"96%",handleClick:j,memberId:g.user.id,isShowMenu:m===p.xZ.ROOT_ADMIN||m===p.xZ.SCHOOL_ADMIN,userStatus:g.user.status,bookmarkId:g.bookmarkStats.id,likeId:g.likeStats.id,descriptionLineClamp:3,isLiked:g.isLiked,postAuthorId:g.user.id,sharedUserId:l,onClickEdit:function(){x.default.push({pathname:h.y4.communityPostDetails,query:{communityTitle:s.slug,postTitle:g.title,editMode:!0}},h.XC.communityPostDetails({communityTitle:s.slug,postId:g.id||"",editMode:!0}))},isPinned:g.isPinned})})},r)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.xu,{sx:{mt:6,mb:8,mx:-4,overflow:"hidden"},children:(0,i.jsx)(y.b2,{isRowLoaded:function(e){return!!t.contentList[e]},loadMoreRows:function(e){return r!==u.UK.IN_PROGRESS&&t.summary.pageNumber<t.summary.totalMatchedPages?n(s.id,t.summary.pageNumber+1):null},rowCount:t.contentList.length,threshold:1,children:function(e){var n=e.onRowsRendered,s=e.registerChild;return(0,i.jsx)(y._K,{children:function(e){var r=e.height,o=e.isScrolling,u=e.scrollTop;return(0,i.jsx)(y.qj,{disableHeight:!0,children:function(e){var m=e.width;return(0,i.jsx)(y.aV,{style:{outline:"none"},autoHeight:!0,ref:s,onRowsRendered:n,rowCount:t.contentList.length,width:m,height:r,rowHeight:b.rowHeight,rowRenderer:g,scrollTop:u,isScrolling:o,deferredMeasurementCache:b})}})}})}})})})},S=n(77986),R=n(63698),w=n(14383),T=function(e){var t=e.imageUrl,n=e.title,s=e.shortDescription,r=e.buttonText,o=e.buttonLink;(0,l.$)("community").t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.xu,{sx:{boxShadow:"card.normal",overflow:"hidden",borderRadius:4,p:4,mt:10},children:(0,i.jsxs)(c.kC,{flexDirection:"column",children:[(0,i.jsxs)(c.kC,{children:[t?(0,i.jsx)(c.xu,{sx:{height:10,minWidth:10,maxWidth:"fit-content"},children:(0,i.jsx)(j.oM,{ratio:16/9,children:(0,i.jsx)(d.Ee,{alt:"rules-image",borderRadius:"4px",objectFit:"cover",src:t})})}):null,(0,i.jsx)(c.xu,{ml:4}),(0,i.jsxs)(c.kC,{flexDirection:"column",children:[(0,i.jsx)(d.X6,{variant:"h6",children:n}),(0,i.jsx)(c.xu,{mb:2}),(0,i.jsx)(d.xv,{variant:"body2",children:s})]})]}),(0,i.jsx)(c.xu,{my:3}),(0,i.jsx)(c.kC,{sx:{justifyContent:"flex-end","& button":{borderRadius:2}},children:(0,i.jsx)(d.zx,{colorVariant:"primary",buttonType:"solid",buttonSizeVariant:"small",text:r,onClick:function(){return window.open(o)}})})]})})})},v=(0,o.Z)((function(e){var t=e.currentCommunityDetails,n=e.currentCommunityContents,s=e.doFetchCommunityContent,r=e.communitiesFetchStatus,o=e.communityMembers,u=e.doRemoveUser,m=e.userRoleType,a=e.sharedUserId,y=e.doDeleteCommunityPost,p=(0,l.$)("community").t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.W2,{children:(0,i.jsxs)(c.xu,{as:"main",minHeight:"80vh",sx:{display:"grid",justifyContent:"center",gridTemplateRows:"repeat(auto-flow,1fr)",gridTemplateColumns:["1fr","3fr 0fr 2fr","4fr 0fr 1fr"],gridAutoFlow:"row",gridTemplateAreas:['"discussions"  "separator" "members" ','"discussions separator members"'],gridColumnGap:[6,6,12],"& section:empty":{display:"none"}},children:[(0,i.jsxs)(c.xu,{sx:{gridArea:"discussions",pt:8},as:"section",children:[(0,i.jsx)(c.xu,{sx:{ml:2,mb:5},children:(0,i.jsx)(S.ck,{data:[{title:p("common:home"),onClick:function(){return x.default.push(h.y4.home)}},{title:p("community"),onClick:function(){return x.default.push(h.y4.communities)}},{title:t.title}]})}),t.isMember&&!t.isBanned?(0,i.jsx)(w.Z,{}):null,t.isBanned?(0,i.jsx)(j.jL,{text:p("bannedMessage"),bgColor:"rgba(247, 249, 252, 1)",isClosable:!1}):null,t.rules&&t.rules.isEnabled?(0,i.jsx)(T,{imageUrl:t.rules.imageUrl,title:t.rules.title,shortDescription:t.rules.shortDescription,buttonText:t.rules.actionButtonText,buttonLink:t.rules.actionButtonLink}):null,n?(0,i.jsx)(C,{doDeleteCommunityPost:y,sharedUserId:a,userRoleType:m,communitiesFetchStatus:r,currentCommunityDetails:t,doFetchCommunityContent:s,currentCommunityContents:n,doRemoveUser:u}):(0,i.jsx)(d.gb,{})]}),(0,i.jsx)(c.xu,{as:"section",sx:{gridArea:"separator",display:"flex"},children:(0,i.jsx)(g.Z,{})}),(0,i.jsx)(c.xu,{sx:{gridArea:"members",width:["100%","100%","100%"]},as:"section",children:(0,i.jsxs)(c.xu,{sx:{position:o.communityMembersList.length?"sticky":"static",top:0},children:[(0,i.jsx)(R.Z,{isSideListing:!0}),(0,i.jsx)(c.xu,{py:2,children:(0,i.jsx)(j.rU,{textTransform:"capitalize",href:{pathname:h.y4.communityAllMembers,query:{communityTitle:t.slug}},isUnderline:!0,children:p("viewAllMembers")})})]})})]})})})})),E=n(33218),I=n(88038),k=n(55714),M=(0,o.Z)((function(e){var t=e.currentCommunityDetails,n=e.communitiesFetchStatus,r=e.communityState,o=e.doJoinCommunity,g=e.sharedUserId,y=e.sharedIsUserLoggedIn,p=e.doSetPostSigninRoute,f=e.communityError,b=e.sharedUserInfo,C=(0,l.$)("community").t;if((0,s.useEffect)((function(){if(n===u.UK.SUCCESS&&r===a.RW.CREATE_COMMUNITY_POST)return(0,m.FN)({message:C("postCreateSuccess"),position:"top-right"})}),[n,r]),(0,s.useEffect)((function(){n===u.UK.SUCCESS&&r===a.RW.REMOVE_USER&&((0,m.FN)({message:C("memberRemoveMessage")}),window.location.reload()),n===u.UK.SUCCESS&&r===a.RW.UPDATE_POST&&((0,m.FN)({message:C("postUpdatedSuccess")}),window.location.reload()),n===u.UK.SUCCESS&&r===a.RW.BAN_USER&&((0,m.FN)({message:C("memberBannedMessage")}),window.location.reload()),n===u.UK.SUCCESS&&r===a.RW.UNBAN_USER&&((0,m.FN)({message:C("memberUnbannedMessage")}),window.location.reload()),n!==u.UK.FAILED||r!==a.RW.REMOVE_USER&&r!==a.RW.BAN_USER&&r!==a.RW.UPDATE_POST||(console.log("communityError ",f),(0,m.FN)({message:f.errorMessage})),n===u.UK.SUCCESS&&r===a.RW.DELETE_POST&&(0,m.FN)({message:C("postDeleteSuccess")})}),[n,r]),!t&&n!==u.UK.FAILED||n===u.UK.IN_PROGRESS)return(0,i.jsx)(d.gb,{});if(n===u.UK.FAILED&&(r===a.RW.FETCH_COMMUNITY_DETAILS||r===a.RW.FETCH_COMMUNITY_CONTENT||r===a.RW.FETCH_MEMBERS))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.wp,{}),(0,i.jsx)(j.jj,{errorCode:f.errorCode,errorText:f.errorMessage}),(0,i.jsx)(k.$_,{})]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(I.default,{children:[(0,i.jsx)("meta",{name:"description",content:t.shortDescription||""}),(0,i.jsx)("title",{children:t.title})]}),(0,i.jsx)(k.wp,{}),(0,i.jsx)(c.xu,{sx:{backgroundImage:"url(".concat(t.image,")"),backgroundColor:"onSurface.light",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",boxShadow:"inset 0 0 0 2000px rgb(0 0 0 / 25%)"},children:(0,i.jsx)(c.xu,{sx:{backgroundColor:"rgba(255, 255, 255, 0.1)",height:"inherit"},children:(0,i.jsxs)(d.W2,{children:[(0,i.jsxs)(c.kC,{pt:6,children:[(0,i.jsx)(c.xu,{sx:{mr:4,width:[7,10],height:[7,10],borderRadius:2},children:(0,i.jsx)(d.Ee,{src:t.logo,alt:"segment",objectFit:"cover",borderRadius:"2px"})}),(0,i.jsxs)(c.kC,{flexDirection:"column",width:"90%",children:[(0,i.jsxs)(c.xu,{sx:{display:["none","none","block"]},children:[(0,i.jsx)(d.X6,{variant:"h3",textTransform:"capitalize",fontWeight:"bold",color:"surface",children:t.title}),(0,i.jsx)(c.xu,{mb:4}),(0,i.jsx)(d.xv,{variant:"body1",color:"surface",children:t.shortDescription})]}),(0,i.jsxs)(c.xu,{sx:{display:["block","block","none"]},children:[(0,i.jsx)(d.X6,{variant:"h5",textTransform:"capitalize",fontWeight:"bold",color:"surface",children:t.title}),(0,i.jsx)(c.xu,{mb:2}),(0,i.jsx)(d.xv,{variant:"body2",color:"surface",children:t.shortDescription})]})]})]}),(0,i.jsxs)(c.kC,{sx:{py:2,alignItems:"center",color:"surface"},children:[(0,i.jsxs)(d.xv,{variant:"body2",color:"surface",children:[t.memberCount," ",C("member",{count:t.memberCount})]}),(0,i.jsx)(E.riV,{}),(0,i.jsxs)(d.xv,{variant:"body2",color:"surface",children:[t.postCount," ",C("post",{count:t.postCount})]})]}),!t.isMember&&t.privacy_type!==a.W.PRIVATE&&(0,i.jsx)(c.xu,{pb:6,children:(0,i.jsx)(d.zx,{buttonSizeVariant:"small",text:C("joinCommunity"),colorVariant:"primary",onClick:function(){y?o(t.id,g,b):(p({href:{pathname:h.y4.communityDashboard,query:{communityTitle:t.slug}},as:h.XC.communityDashboard({communityTitle:t.slug}),isSignInToPay:!0}),x.default.push({pathname:h.y4.signup}))}})})]})})}),y?(0,i.jsx)(v,{}):(0,i.jsx)(c.kC,{sx:{minHeight:"70vh",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(j.HY,{message:C("joinCommunityMessage"),iconName:"newspaper-outline"})}),(0,i.jsx)(k.$_,{})]})})),U=(0,r.Z)((function(){return(0,i.jsx)(M,{})}))},63698:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var i=n(24246),s=n(27378),r=n(28862),o=n(40504),u=n(55480),m=n(86677),a=n(53850),l=n(95045),c=n(83553),d=n(14916),x=n(9078),h=n(71117),j=n(77986),g=n(55714),y=n(62664),p=n(61320),f=n.n(p),b=n(26193),C=n(98539),S=n(25920),R=n(93146),w=(0,r.Z)((function(e){var t=e.doFetchMembersList,n=e.currentCommunityDetails,s=e.communitiesFetchStatus,r=e.communityMembers,m=e.userRoleType,a=e.sharedUserId,c=(0,x.$)("community").t,d=function(e){var t=e.index,n=(e.key,e.parent,e.style),s=r.communityMembersList[t];return s?(0,i.jsx)(u.xu,{style:n,children:(0,i.jsxs)(u.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(u.kC,{alignItems:"center",children:[(0,i.jsx)(h.qE,{src:s.image,name:s.name,size:"xsmall"}),(0,i.jsx)(u.xu,{mx:4}),(0,i.jsxs)(u.xu,{children:[(0,i.jsx)(o.xv,{variant:"subtitle2",children:s.name}),(0,i.jsxs)(o.xv,{variant:"caption2",children:[c("joined")," ",f()(s.joinedAt).fromNow()]})]})]}),(0,i.jsxs)(u.kC,{sx:{"& ul":{position:"fixed",minWidth:"auto",zIndex:999,minHeight:"auto",maxHeight:"50vh",overflow:"auto",marginRight:"8px"}},children:[(0,i.jsx)(u.xu,{ml:2}),m===S.xZ.ROOT_ADMIN||m===S.xZ.SCHOOL_ADMIN&&a!==s.id?(0,i.jsx)(b.qy,{keepOpenOnClick:!0,menuTitle:(0,i.jsx)(C.T41,{}),children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(R.Z,{memberId:s.id,text:c("removeMember")})})}):null]})]})}):(0,i.jsx)(i.Fragment,{})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.xu,{my:8,overflow:"hidden",children:(0,i.jsx)(y.b2,{isRowLoaded:function(e){return!!r.communityMembersList[e]},loadMoreRows:function(e){return s!==l.UK.IN_PROGRESS&&r.summary.pageNumber<r.summary.totalMatchedPages?t(n.id,r.summary.pageNumber+1):null},rowCount:r.communityMembersList.length,threshold:1,children:function(e){var t=e.onRowsRendered,n=e.registerChild;return(0,i.jsx)(y._K,{children:function(e){var s=e.height,o=e.isScrolling,u=e.scrollTop;return(0,i.jsx)(y.qj,{disableHeight:!0,children:function(e){var m=e.width;return(0,i.jsx)(y.aV,{style:{outline:"none"},autoHeight:!0,ref:n,onRowsRendered:t,rowCount:r.communityMembersList.length,width:m,height:s,rowRenderer:d,scrollTop:u,isScrolling:o,rowHeight:77})}})}})}})})})})),T=(0,r.Z)((function(e){e.communitiesList;var t=e.currentCommunityDetails,n=e.communitiesFetchStatus,r=e.communityState,y=e.communityMembers,p=e.doFetchMembersList,f=e.isSideListing,b=e.sharedIsUserLoggedIn,C=(0,x.$)("community").t;return(0,s.useEffect)((function(){n!==l.UK.IN_PROGRESS&&n!==l.UK.IDLE&&r===c.RW.FETCH_COMMUNITY_DETAILS&&b&&y.summary&&!y.summary.pageNumber&&b&&t&&p(t.id)}),[n,r]),n===l.UK.IN_PROGRESS&&r===c.RW.FETCH_COMMUNITY_DETAILS?(0,i.jsx)(o.gb,{}):f?(0,i.jsxs)(u.xu,{pt:6,children:[(0,i.jsx)(o.X6,{variant:"h2",children:C("member_plural")}),(0,i.jsx)(u.xu,{mb:6}),y.communityMembersList.length?y.communityMembersList.slice(0,9).map((function(e){return(0,i.jsx)(u.kC,{justifyContent:"space-between",alignItems:"center",mb:6,children:(0,i.jsxs)(u.kC,{alignItems:"center",children:[(0,i.jsx)(h.qE,{src:e.image,name:e.name,size:"xsmall"}),(0,i.jsx)(u.xu,{ml:4}),(0,i.jsx)(o.xv,{variant:"subtitle2",children:e.name})]})})})):(0,i.jsx)(u.xu,{sx:{width:"fit-content"},children:(0,i.jsx)(d.HY,{iconName:"reader",message:C("noMembers")})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.wp,{}),(0,i.jsx)(o.W2,{children:(0,i.jsxs)(u.xu,{my:4,sx:{minHeight:"80vh"},children:[(0,i.jsx)(j.ck,{data:[{title:C("common:home"),onClick:function(){return m.default.push(a.y4.home)}},{title:C("community"),onClick:function(){return m.default.push(a.y4.communities)}},{title:null===t||void 0===t?void 0:t.title,onClick:function(){return m.default.push({pathname:a.y4.communityDashboard,query:{communityTitle:t.slug}})}},{title:C("allMembers")}]}),(0,i.jsx)(u.xu,{mt:6}),(0,i.jsxs)(o.X6,{variant:"h2",children:[C("allMembers")," (",y.summary.totalMatchedRecords,")"]}),(0,i.jsx)(u.xu,{mt:6}),y.communityMembersList.length?(0,i.jsx)(w,{}):(0,i.jsx)(d.HY,{iconName:"reader",message:C("noMembers")})]})}),(0,i.jsx)(g.$_,{})]})}))}},function(e){e.O(0,[1362,4794,9671,597,7326,2006,7986,8319,2665,4383,9774,2888,179],(function(){return t=33459,e(e.s=t);var t}));var t=e.O();_N_E=t}]);